<div id="pfe5" class="pf w0 h0" data-page-no="e5"><div class="pc pce5 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bge5.png"/><div class="t m0 x9 h1b y2d7 ff1 fsc fc0 sc0 ls0 ws0">13.4.2.2<span class="_ _b"> </span>Stop mode exit sequence</div><div class="t m0 x9 hf y147f ff3 fs5 fc0 sc0 ls0 ws0">Exit from a low-power stop mode is initiated either by a reset or an interrupt event. The</div><div class="t m0 x9 hf y1480 ff3 fs5 fc0 sc0 ls0 ws0">following sequence then executes to restore the system to a run mode (RUN or VLPR):</div><div class="t m0 xf6 hf y1481 ff3 fs5 fc0 sc0 ls0 ws0">1.<span class="_ _11"> </span>The on-chip regulator in the PMC and internal power switches are restored.</div><div class="t m0 xf6 hf y1482 ff3 fs5 fc0 sc0 ls0 ws0">2.<span class="_ _11"> </span>Clock generators are enabled in the MCG.</div><div class="t m0 xf6 hf y1483 ff3 fs5 fc0 sc0 ls0 ws0">3.<span class="_ _11"> </span>System and bus clocks are enabled to all masters and slaves.</div><div class="t m0 xf6 hf y1484 ff3 fs5 fc0 sc0 ls0 ws0">4.<span class="_ _11"> </span>The CPU clock is enabled and the CPU begins servicing the reset or interrupt that</div><div class="t m0 x117 hf y1485 ff3 fs5 fc0 sc0 ls0 ws0">initiated the exit from the low-power stop mode.</div><div class="t m0 x9 h1b y1486 ff1 fsc fc0 sc0 ls0 ws0">13.4.2.3<span class="_ _b"> </span>Aborted stop mode entry</div><div class="t m0 x9 hf y1487 ff3 fs5 fc0 sc0 ls0 ws0">If an interrupt or a reset occurs during a stop entry sequence, the SMC can abort the</div><div class="t m0 x9 hf y1488 ff3 fs5 fc0 sc0 ls0 ws0">transition early and return to RUN mode without completely entering the stop mode. An</div><div class="t m0 x9 hf y1489 ff3 fs5 fc0 sc0 ls0 ws0">aborted entry is possible only if the reset or interrupt occurs before the PMC begins the</div><div class="t m0 x9 hf ya79 ff3 fs5 fc0 sc0 ls0 ws0">transition to stop mode regulation. After this point, the interrupt or reset is ignored until</div><div class="t m0 x9 hf ya7a ff3 fs5 fc0 sc0 ls0 ws0">the PMC has completed its transition to stop mode regulation. When an aborted stop</div><div class="t m0 x9 hf ya7b ff3 fs5 fc0 sc0 ls0 ws0">mode entry sequence occurs, the SMC&apos;s PMCTRL[STOPA] is set to 1.</div><div class="t m0 x9 h1b y148a ff1 fsc fc0 sc0 ls0 ws0">13.4.2.4<span class="_ _b"> </span>Transition to wait modes</div><div class="t m0 x9 hf y148b ff3 fs5 fc0 sc0 ls0 ws0">For wait modes (WAIT and VLPW), the CPU clock is gated off while all other clocking</div><div class="t m0 x9 hf y148c ff3 fs5 fc0 sc0 ls0 ws0">continues, as in RUN and VLPR mode operation. Some modules that support stop-in-</div><div class="t m0 x9 hf y148d ff3 fs5 fc0 sc0 ls0 ws0">wait functionality have their clocks disabled in these configurations.</div><div class="t m0 x9 h1b y148e ff1 fsc fc0 sc0 ls0 ws0">13.4.2.5<span class="_ _b"> </span>Transition from stop modes to Debug mode</div><div class="t m0 x9 hf y148f ff3 fs5 fc0 sc0 ls0 ws0">The debugger module supports a transition from STOP, WAIT, VLPS, and VLPW back</div><div class="t m0 x9 hf y1490 ff3 fs5 fc0 sc0 ls0 ws0">to a Halted state when the debugger has been enabled, that is, ENBDM is 1. As part of</div><div class="t m0 x9 hf y1491 ff3 fs5 fc0 sc0 ls0 ws0">this transition, system clocking is re-established and is equivalent to the normal RUN and</div><div class="t m0 x9 hf y1492 ff3 fs5 fc0 sc0 ls0 ws0">VLPR mode clocking configuration.</div><div class="t m0 x9 he y1493 ff1 fs1 fc0 sc0 ls0 ws0">13.4.3<span class="_ _b"> </span>Run modes</div><div class="t m0 x9 hf y1494 ff3 fs5 fc0 sc0 ls0 ws0">The device contains two different run modes:</div><div class="t m0 x33 hf y1495 ff3 fs5 fc0 sc0 ls0 ws199">• Run</div><div class="t m0 x33 hf y1496 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Very Low-Power Run (VLPR)</div><div class="t m0 xa4 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 13 System Mode Controller (SMC)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>229</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
