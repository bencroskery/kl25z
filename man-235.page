<div id="pfeb" class="pf w0 h0" data-page-no="eb"><div class="pc pceb w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bgeb.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">When entering VLLS, each I/O pin is latched as configured before executing VLLS.</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">Because all digital logic in the MCU is powered off, all port and peripheral data is lost</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">during VLLS. This information must be restored before the ACKISO bit in the PMC is</div><div class="t m0 x9 hf yf9 ff3 fs5 fc0 sc0 ls0">set.</div><div class="t m0 x9 hf y629 ff3 fs5 fc0 sc0 ls0 ws0">An asserted RESET pin will cause an exit from any VLLS mode, returning the device to</div><div class="t m0 x9 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">normal RUN mode. When exiting VLLS via the RESET pin, the PIN and WAKEUP bits</div><div class="t m0 x9 hf yabd ff3 fs5 fc0 sc0 ls0 ws0">are set in the SRS0 register of the reset control module (RCM).</div><div class="t m0 x9 he y14a6 ff1 fs1 fc0 sc0 ls0 ws0">13.4.6<span class="_ _b"> </span>Debug in low power modes</div><div class="t m0 x9 hf y14a7 ff3 fs5 fc0 sc0 ls0 ws0">When the MCU is secure, the device disables/limits debugger operation. When the MCU</div><div class="t m0 x9 hf y14f8 ff3 fs5 fc0 sc0 ls0 ws0">is unsecure, the ARM debugger can assert two power-up request signals:</div><div class="t m0 x33 hf y14a9 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>System power up, via SYSPWR in the Debug Port Control/Stat register</div><div class="t m0 x33 hf y14f9 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Debug power up, via CDBGPWRUPREQ in the Debug Port Control/Stat register</div><div class="t m0 x9 hf y219 ff3 fs5 fc0 sc0 ls0 ws0">When asserted while in RUN, WAIT, VLPR, or VLPW, the mode controller drives a</div><div class="t m0 x9 hf y21a ff3 fs5 fc0 sc0 ls0 ws0">corresponding acknowledge for each signal, that is, both CDBGPWRUPACK and</div><div class="t m0 x9 hf y86a ff3 fs5 fc0 sc0 ls0 ws0">CSYSPWRUPACK. When both requests are asserted, the mode controller handles</div><div class="t m0 x9 hf y14fa ff3 fs5 fc0 sc0 ls0 ws0">attempts to enter STOP and VLPS by entering an emulated stop state. In this emulated</div><div class="t m0 x9 hf y14fb ff3 fs5 fc0 sc0 ls0 ws0">stop state:</div><div class="t m0 x33 hf y14fc ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the regulator is in run regulation,</div><div class="t m0 x33 hf y14fd ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the MCG-generated clock source is enabled,</div><div class="t m0 x33 hf y14fe ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>all system clocks, except the core clock, are disabled,</div><div class="t m0 x33 hf y14ff ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the debug module has access to core registers, and</div><div class="t m0 x33 hf y1500 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>access to the on-chip peripherals is blocked.</div><div class="t m0 x9 hf y1501 ff3 fs5 fc0 sc0 ls0 ws0">No debug is available while the MCU is in LLS or VLLS modes. LLS is a state-retention</div><div class="t m0 x9 hf y1502 ff3 fs5 fc0 sc0 ls0 ws0">mode and all debug operation can continue after waking from LLS, even in cases where</div><div class="t m0 x9 hf y1503 ff3 fs5 fc0 sc0 ls0 ws0">system wakeup is due to a system reset event.</div><div class="t m0 x9 hf y1504 ff3 fs5 fc0 sc0 ls0 ws0">Entering into a VLLS mode causes all of the debug controls and settings to be powered</div><div class="t m0 x9 hf y1505 ff3 fs5 fc0 sc0 ls0 ws0">off. To give time to the debugger to sync with the MCU, the MDM AP Control Register</div><div class="t m0 x9 hf y1506 ff3 fs5 fc0 sc0 ls0 ws0">includes a Very-Low-Leakage Debug Request (VLLDBGREQ) bit that is set to configure</div><div class="t m0 x9 hf y1507 ff3 fs5 fc0 sc0 ls0 ws0">the Reset Controller logic to hold the system in reset after the next recovery from a VLLS</div><div class="t m0 x9 hf y1508 ff3 fs5 fc0 sc0 ls0 ws0">mode. This bit allows the debugger time to reinitialize the debug module before the</div><div class="t m0 x9 hf y1509 ff3 fs5 fc0 sc0 ls0 ws0">debug session continues.</div><div class="t m0 xa4 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 13 System Mode Controller (SMC)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>235</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
