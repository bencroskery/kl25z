<div id="pf113" class="pf w0 h0" data-page-no="113"><div class="pc pc113 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg113.png"/><div class="c x97 y1874 w29 h9c"><div class="t m17 x67 h9d y1875 ff2 fs4f fc0 sc0 ls0 ws2c5">x<span class="_ _6f"> </span>x+1<span class="_ _1a3"> </span>x+2 x+3</div><div class="t m1c xd h9e y1876 ff2 fs4 fc0 sc0 ls0 ws190">next<span class="ff3 fs50 ws0"> </span></div><div class="t m1c xd3 h9e y1877 ff2 fs4 fc0 sc0 ls0 ws190">5..v_wxyz<span class="ff3 fs50 ws0"> </span></div><div class="t m1c xd h9e y1878 ff2 fs4 fc0 sc0 ls0 ws190">next<span class="ff3 fs50 ws0"> </span></div><div class="t m1c xc9 h9e y1879 ff2 fs4 fc0 sc0 ls0 ws190">wdata<span class="ff3 fs50 ws0"> </span></div><div class="t m1c xd h9e y187a ff2 fs4 fc0 sc0 ls0 ws190">next<span class="ff3 fs50 ws0"> </span></div><div class="t m1c x10b h9f y187b ff2 fs4 fc0 sc0 ls0 ws2c6">400v_wxyz 400v_wxyz<span class="ff3 fs50 ls1cb ws0"> </span><span class="ws190 v16">next<span class="ff3 fs50 ws0"> </span></span></div><div class="t m1c xa0 h9e y187c ff2 fs4 fc0 sc0 ls0 ws190">next<span class="ff3 fs50 ws0"> </span></div><div class="t m1c x20 h9e y187d ff2 fs4 fc0 sc0 ls0 ws190">5..v_wxyz<span class="ff3 fs50 ws0"> </span></div><div class="t m1c xfc h9e y187e ff2 fs4 fc0 sc0 ls0 ws0">wdata bfi rdata<span class="ff3 fs50"> </span></div><div class="t m1c xfc h9e y187f ff2 fs4 fc0 sc0 ls0 ws0">wdata bfi rdata<span class="ff3 fs50"> </span></div><div class="t m1c xa0 h9e y1880 ff2 fs4 fc0 sc0 ls0 ws190">next<span class="ff3 fs50 ws0"> </span></div><div class="t m1c x1e h7 y1881 ff2 fs4 fc0 sc0 ls0 ws190">rdata</div><div class="t m17 xb5 h9e y1882 ff2 fs4f fc0 sc0 ls182 ws0">CYCLE RULER<span class="ff3 fs50 ls0"> </span></div><div class="t m17 x3a h9e y1883 ff2 fs4f fc0 sc0 ls0 ws2c7">hclk<span class="ff3 fs50 ws0"> </span></div><div class="t m17 xc0 h9e y1884 ff2 fs4f fc0 sc0 ls1cc ws0">BME AHB Input Bus<span class="ff3 fs50 ls0"> </span></div><div class="t m17 x2c h9e y1885 ff2 fs4f fc0 sc0 ls1cc ws2c8">mx_haddr<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 xf6 h9e y1886 ff2 fs4f fc0 sc0 ls1cc ws2c8">mx_hattr<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 x2c h9e y1887 ff2 fs4f fc0 sc0 ls182 ws2c9">mx_hwrite<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 x11d h9e y1888 ff2 fs4f fc0 sc0 ls1cc ws2c8">mx_hwdata<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 x9 h9e y1889 ff2 fs4f fc0 sc0 ls1cc ws2c8">mx_hrdata<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 xd2 h9e y188a ff2 fs4f fc0 sc0 ls1cc ws2c8">mx_hready<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 xf9 h9e y188b ff2 fs4f fc0 sc0 ls1cc ws0">BME AHB Output Bus<span class="ff3 fs50 ls0"> </span></div><div class="t m17 x118 h9e y188c ff2 fs4f fc0 sc0 ls1cc ws2c8">sx_haddr<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 x88 h9e y188d ff2 fs4f fc0 sc0 ls0 ws2c7">sx_hattr<span class="ff3 fs50 ws0"> </span></div><div class="t m17 x118 h9e y188e ff2 fs4f fc0 sc0 ls182 ws2c9">sx_hwrite<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 x120 h9e y188f ff2 fs4f fc0 sc0 ls0 ws2c7">sx_hwdata<span class="ff3 fs50 ws0"> </span></div><div class="t m17 x2c h9e y1890 ff2 fs4f fc0 sc0 ls0 ws2c7">sx_hrdata<span class="ff3 fs50 ws0"> </span></div><div class="t m17 x9 h9e y1891 ff2 fs4f fc0 sc0 ls1cc ws2c8">sx_hready<span class="ff3 fs50 ls0 ws0"> </span></div><div class="t m17 x0 h9e y1892 ff2 fs4f fc0 sc0 ls0 ws0">BME States + Datapa<span class="_ _5"></span>th<span class="ff3 fs50"> </span></div><div class="t m17 xcf h9e y1893 ff2 fs4f fc0 sc0 ls0 ws2c7">control_state_dp1<span class="ff3 fs50 ws0"> </span></div><div class="t m17 xcf h9e y1894 ff2 fs4f fc0 sc0 ls0 ws2c7">control_state_dp2<span class="ff3 fs50 ws0"> </span></div><div class="t m17 xcd h9d y1895 ff2 fs4f fc0 sc0 ls1cc ws2c8">reg_addr_data_dp</div></div><div class="t m0 xed h9 y1896 ff1 fs2 fc0 sc0 ls0 ws0">Figure 17-2. Decorated store: bit field insert timing diagram</div><div class="t m0 x9 hf y1897 ff3 fs5 fc0 sc0 ls0 ws0">All the decorated store operations follow the same execution template shown in the figure</div><div class="t m0 x9 hf y1898 ff3 fs5 fc0 sc0 ls0 ws0">above, a 2-cycle read-modify-write operation:</div><div class="t m0 x33 hf y1899 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Cycle x, 1st AHB address phase: Write from input bus (mx_h&lt;signal&gt;) is translated</div><div class="t m0 x117 hf y189a ff3 fs5 fc0 sc0 ls0 ws0">into a read operation on the output bus (sx_h&lt;signal&gt;) using the actual memory</div><div class="t m0 x117 hf y189b ff3 fs5 fc0 sc0 ls0 ws0">address (with the decoration removed) and then captured in a register</div><div class="t m0 x117 hf y189c ff3 fs5 fc0 sc0 ls0">(reg_addr_data_dp)</div><div class="t m0 x33 hf y189d ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Cycle x+1, 2nd AHB address phase: Write access with the registered (but actual)</div><div class="t m0 x117 hf y189e ff3 fs5 fc0 sc0 ls0 ws0">memory address is output (sx_h&lt;signal&gt;)</div><div class="t m0 x33 hf y189f ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Cycle x+1, 1st AHB data phase: Memory read data (sx_hrdata) is modified using the</div><div class="t m0 x117 hf y18a0 ff3 fs5 fc0 sc0 ls0 ws0">input bus write data (mx_hwdata) and the function defined by the decoration and</div><div class="t m0 x117 hf y18a1 ff3 fs5 fc0 sc0 ls0 ws0">captured in a data register (reg_addr_data_dp); the input bus cycle is stalled</div><div class="t m0 x117 hf y18a2 ff3 fs5 fc0 sc0 ls0 ws0">(mx_hready = 0)</div><div class="t m0 x33 hf y18a3 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Cycle x+2, 2nd AHB data phase: Registered write data is sourced onto the output</div><div class="t m0 x117 hf y18a4 ff3 fs5 fc0 sc0 ls0 ws0">write data bus (sx_hwdata)</div><div class="t m0 xeb h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 17 Bit Manipulation Engine (BME)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>275</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
