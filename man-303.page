<div id="pf12f" class="pf w0 h0" data-page-no="12f"><div class="pc pc12f w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg12f.png"/><div class="t m0 x33 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Two DWT comparators (addresses or address + data) provide programmable start/</div><div class="t m0 x117 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">stop recording</div><div class="t m0 x33 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>CoreSight compliant debug functionality</div><div class="t m0 x9 he y1b26 ff1 fs1 fc0 sc0 ls0 ws0">19.1.3<span class="_ _b"> </span>Modes of Operation</div><div class="t m0 x9 hf y1b27 ff3 fs5 fc0 sc0 ls0 ws0">The MTB_RAM and MTB_DWT functions do not support any special modes of</div><div class="t m0 x9 hf y1b28 ff3 fs5 fc0 sc0 ls0 ws0">operation. The MTB_RAM controller, as a memory-mapped device located on the</div><div class="t m0 x9 hf y1b29 ff3 fs5 fc0 sc0 ls0 ws0">platform&apos;s slave AHB system bus, responds based strictly on memory addresses for</div><div class="t m0 x9 hf y1b2a ff3 fs5 fc0 sc0 ls0 ws0">accesses to its attached RAM array. The MTB private execution bus provides program</div><div class="t m0 x9 hf y1b2b ff3 fs5 fc0 sc0 ls0 ws0">trace packet write information to the RAM controller. Both the MTB_RAM and</div><div class="t m0 x9 hf y1b2c ff3 fs5 fc0 sc0 ls0 ws0">MTB_DWT modules are memory-mapped so their programming models can be</div><div class="t m0 x9 hf y1518 ff3 fs5 fc0 sc0 ls0">accessed.</div><div class="t m0 x9 hf y1b2d ff3 fs5 fc0 sc0 ls0 ws0">All functionality associated with the MTB_RAM and MTB_DWT modules resides in the</div><div class="t m0 x9 hf y1b2e ff3 fs5 fc0 sc0 ls0 ws0">core platform&apos;s clock domain; this includes its connections with the RAM array.</div><div class="t m0 x9 hd y1b2f ff1 fs7 fc0 sc0 ls0 ws0">19.2<span class="_ _b"> </span>External Signal Description</div><div class="t m0 x9 hf y1b30 ff3 fs5 fc0 sc0 ls0 ws0">The MTB_RAM and MTB_DWT modules do not directly support any external</div><div class="t m0 x9 hf y1b31 ff3 fs5 fc0 sc0 ls0">interfaces.</div><div class="t m0 x9 hf y1b32 ff3 fs5 fc0 sc0 ls0 ws0">The internal interfaces includes a standard AHB bus with a 32-bit datapath width from</div><div class="t m0 x9 hf y1b33 ff3 fs5 fc0 sc0 ls0 ws0">the appropriate crossbar slave port plus the private execution trace bus from the processor</div><div class="t m0 x9 hf y1b34 ff3 fs5 fc0 sc0 ls0 ws0">core. The signals in the private execution trace bus are detailed in the following table</div><div class="t m0 x9 hf y1b35 ff3 fs5 fc0 sc0 ls0 ws0">taken from the ARM CoreSight Micro Trace Buffer documentation. The signal direction</div><div class="t m0 x9 hf y1862 ff3 fs5 fc0 sc0 ls0 ws0">is defined as viewed by the MTB_RAM controller.</div><div class="t m0 xbe h9 y1b36 ff1 fs2 fc0 sc0 ls0 ws0">Table 19-1.<span class="_ _1a"> </span>Private execution trace port from the core to MTB_RAM</div><div class="t m0 x1 h10 y1b37 ff1 fs4 fc0 sc0 ls0 ws2f9">Signal Direction<span class="_ _be"> </span>Description</div><div class="t m0 x117 h7 y1b38 ff2 fs4 fc0 sc0 ls0 ws0">LOCKUP<span class="_ _69"> </span>Input<span class="_ _3e"> </span>Indicates the processor is in the Lockup state. This signal is driven LOW for cycles</div><div class="t m0 x1d h7 y1b39 ff2 fs4 fc0 sc0 ls0 ws0">when the processor is executing normally and driven HIGH for every cycle the</div><div class="t m0 x1d h7 y1b3a ff2 fs4 fc0 sc0 ls0 ws0">processor is waiting in the Lockup state. This signal is valid on every cycle.</div><div class="t m0 x95 h7 y1b3b ff2 fs4 fc0 sc0 ls0 ws0">IAESEQ<span class="_ _10f"> </span>Input<span class="_ _3e"> </span>Indicates the next instruction address in execute, IAEX, is sequential, that is non-</div><div class="t m0 x1d h7 y1b3c ff2 fs4 fc0 sc0 ls0">branching.</div><div class="t m0 x95 h7 y1b3d ff2 fs4 fc0 sc0 ls0 ws0">IAEXEN<span class="_ _150"> </span>Input<span class="_ _3e"> </span>IAEX register enable.</div><div class="t m0 x50 h7 y1b3e ff2 fs4 fc0 sc0 ls0 ws0">IAEX[30:0]<span class="_ _14f"> </span>Input<span class="_ _3e"> </span>Registered address of the instruction in the execution stage, shifted right by one</div><div class="t m0 x1d h7 y1b3f ff2 fs4 fc0 sc0 ls0 ws0">bit, that is, PC &gt;&gt; 1.</div><div class="t m0 x34 h7 y1b40 ff2 fs4 fc0 sc0 ls0 ws0">ATOMIC<span class="_ _1af"> </span>Input<span class="_ _3e"> </span>Indicates the processor is performing non-instruction related activities.</div><div class="t m0 x4f h7 y1b41 ff2 fs4 fc0 sc0 ls0 ws0">EDBGRQ<span class="_ _12d"> </span>Output<span class="_ _2d"> </span>Request for the processor to enter the Debug state, if enabled, and halt.</div><div class="t m0 x80 h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 19 Micro Trace Buffer (MTB)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>303</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
