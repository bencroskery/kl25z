<div id="pf130" class="pf w0 h0" data-page-no="130"><div class="pc pc130 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg130.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">In addition, there are two signals formed by the MTB_DWT module and driven to the</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">MTB_RAM controller: TSTART (trace start) and TSTOP (trace stop). These signals can</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">be configured using the trace watchpoints to define programmable addresses and data</div><div class="t m0 x9 hf yf9 ff3 fs5 fc0 sc0 ls0 ws0">values to affect the program trace recording state.</div><div class="t m0 x9 hd y1b42 ff1 fs7 fc0 sc0 ls0 ws0">19.3<span class="_ _b"> </span>Memory Map and Register Definition</div><div class="t m0 x9 hf y1b43 ff3 fs5 fc0 sc0 ls0 ws0">The MTB_RAM and MTB_DWT modules each support a sparsely-populated 4 KB</div><div class="t m0 x9 hf y1b44 ff3 fs5 fc0 sc0 ls0 ws0">address space for their programming models. For each address space, there are a variety</div><div class="t m0 x9 hf y1b45 ff3 fs5 fc0 sc0 ls0 ws0">of control and configurable registers near the base address, followed by a large unused</div><div class="t m0 x9 hf y1b46 ff3 fs5 fc0 sc0 ls0 ws0">address space and finally a set of CoreSight registers to support dynamic determination of</div><div class="t m0 x9 hf y1b47 ff3 fs5 fc0 sc0 ls0 ws0">the debug configuration for the device.</div><div class="t m0 x9 hf y1b48 ff3 fs5 fc0 sc0 ls0 ws0">Accesses to the programming model follow standard ARM conventions. Taken from the</div><div class="t m0 x9 hf y1b49 ff3 fs5 fc0 sc0 ls0 ws0">ARM CoreSight Micro Trace Buffer documentation, these are:</div><div class="t m0 x33 hf y1b4a ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Do not attempt to access reserved or unused address locations. Attempting to access</div><div class="t m0 x117 hf y1b4b ff3 fs5 fc0 sc0 ls0 ws0">these locations can result in UNPREDICTABLE behavior.</div><div class="t m0 x33 hf y1b4c ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>The behavior of the MTB is UNPREDICTABLE if the registers with UNKNOWN</div><div class="t m0 x117 hf y14c0 ff3 fs5 fc0 sc0 ls0 ws0">reset values are not programmed prior to enabling trace.</div><div class="t m0 x33 hf y14c1 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Unless otherwise stated in the accompanying text:</div><div class="t m0 x2 hf y1b4d ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Do not modify reserved register bits</div><div class="t m0 x2 hf y1b4e ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Ignore reserved register bits on reads</div><div class="t m0 x2 hf y1b4f ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>All register bits are reset to a logic 0 by a system or power-on reset</div><div class="t m0 x2 hf y1b50 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Use only word size, 32-bit, transactions to access all registers</div><div class="t m0 x9 he y1b51 ff1 fs1 fc0 sc0 ls0 ws0">19.3.1<span class="_ _b"> </span>MTB_RAM Memory Map</div><div class="t m0 x23 h9 y1b52 ff1 fs2 fc0 sc0 ls0 ws0">MTB memory map</div><div class="t m0 x88 h10 y1b53 ff1 fs4 fc0 sc0 ls0">Absolute</div><div class="t m0 x33 h10 y1b54 ff1 fs4 fc0 sc0 ls0">address</div><div class="t m0 x50 h10 y16ae ff1 fs4 fc0 sc0 ls0">(hex)</div><div class="t m0 x30 h6f y1b54 ff1 fs4 fc0 sc0 ls0 ws0">Register name<span class="_ _20"> </span><span class="v14">Width</span></div><div class="t m0 x78 h70 y1b55 ff1 fs4 fc0 sc0 ls0 ws0">(in bits)<span class="_ _110"> </span><span class="v14">Access<span class="_ _90"> </span>Reset value<span class="_ _3b"> </span><span class="v14">Section/</span></span></div><div class="t m0 x12e h10 y1b55 ff1 fs4 fc0 sc0 ls0">page</div><div class="t m0 xf6 h7 y1b56 ff2 fs4 fc0 sc0 ls0 ws0">F000_0000<span class="_ _90"> </span>MTB Position Register (MTB_POSITION)<span class="_ _19b"> </span>32<span class="_ _14b"> </span>R/W<span class="_ _141"> </span>Undefined<span class="_ _1b0"> </span><span class="fc1">19.31.1/306</span></div><div class="t m0 xf6 h7 y1b57 ff2 fs4 fc0 sc0 ls0 ws0">F000_0004<span class="_ _90"> </span>MTB Master Register (MTB_MASTER)<span class="_ _15c"> </span>32<span class="_ _14b"> </span>R/W<span class="_ _6"> </span>0000_0080h<span class="_ _186"> </span><span class="fc1">19.31.2/307</span></div><div class="t m0 xf6 h7 y1b58 ff2 fs4 fc0 sc0 ls0 ws0">F000_0008<span class="_ _90"> </span>MTB Flow Register (MTB_FLOW)<span class="_ _ea"> </span>32<span class="_ _14b"> </span>R/W<span class="_ _141"> </span>Undefined<span class="_ _1b0"> </span><span class="fc1">19.31.3/309</span></div><div class="t m0 x9a h7 y1b59 ff2 fs4 fc0 sc0 ls0 ws0">F000_000C<span class="_ _1a"> </span>MTB Base Register (MTB_BASE)<span class="_ _1b1"> </span>32<span class="_ _41"> </span>R<span class="_ _14b"> </span>Undefined<span class="_ _1b0"> </span><span class="fc1">19.31.4/310</span></div><div class="t m0 x9a h7 y1a48 ff2 fs4 fc0 sc0 ls0 ws0">F000_0F00<span class="_ _8f"> </span>Integration Mode Control Register (MTB_MODECTRL)<span class="_ _52"> </span>32<span class="_ _42"> </span>R<span class="_ _11f"> </span>0000_0000h<span class="_ _1a"> </span><span class="fc1">19.31.5/310</span></div><div class="t m0 x9a h7 y1a49 ff2 fs4 fc0 sc0 ls0 ws0">F000_0FA0<span class="_ _1a"> </span>Claim TAG Set Register (MTB_TAGSET)<span class="_ _7c"> </span>32<span class="_ _1b2"> </span>R<span class="_ _3"> </span>0000_0000h<span class="_ _8f"> </span><span class="fc1">19.31.6/311</span></div><div class="t m0 x9a h7 y1b5a ff2 fs4 fc0 sc0 ls0 ws0">F000_0FA4<span class="_ _1a"> </span>Claim TAG Clear Register (MTB_TAGCLEAR)<span class="_ _73"> </span>32<span class="_ _42"> </span>R<span class="_ _11f"> </span>0000_0000h<span class="_ _1a"> </span><span class="fc1">19.31.7/311</span></div><div class="t m0 x9a h7 y1b5b ff2 fs4 fc0 sc0 ls0 ws0">F000_0FB0<span class="_ _1a"> </span>Lock Access Register (MTB_LOCKACCESS)<span class="_ _1b3"> </span>32<span class="_ _41"> </span>R<span class="_ _3"> </span>0000_0000h<span class="_ _8f"> </span><span class="fc1">19.31.8/312</span></div><div class="t m0 x1b h7 y1b5c ff5 fs4 fc0 sc0 ls0 ws0">Table continues on the next page...</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Memory Map and Register Definition</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">304<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div><a class="l" href="#pf132" data-dest-detail='[306,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:191.850000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf133" data-dest-detail='[307,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:176.350000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf135" data-dest-detail='[309,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:160.850000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf136" data-dest-detail='[310,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:145.350000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf136" data-dest-detail='[310,"XYZ",null,352.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:129.850000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf137" data-dest-detail='[311,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:114.350000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf137" data-dest-detail='[311,"XYZ",null,426.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:98.850000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf138" data-dest-detail='[312,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:506.511000px;bottom:83.350000px;width:47.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
