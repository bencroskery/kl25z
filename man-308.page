<div id="pf134" class="pf w0 h0" data-page-no="134"><div class="pc pc134 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg134.png"/><div class="t m0 x47 h9 yf57 ff1 fs2 fc0 sc0 ls0 ws0">MTB_MASTER field descriptions (continued)</div><div class="t m0 x12c h10 yf84 ff1 fs4 fc0 sc0 ls0 ws261">Field Description</div><div class="t m0 x83 h10 yff6 ff1 fs4 fc0 sc0 ls0 ws212">NOTE: <span class="ff2 ws0">If the EN bit is set to 0 because the MTB_FLOW[WATERMARK] field is set, then it is not</span></div><div class="t m0 x3b h7 y13d9 ff2 fs4 fc0 sc0 ls0 ws0">automatically set to 1 if the TSTARTEN bit is 1 and the TSTART input is HIGH. In this case,</div><div class="t m0 x3b h7 y1bb6 ff2 fs4 fc0 sc0 ls0 ws0">tracing can only be restarted if the MTB_FLOW[WATERMARK] or MTB_POSITION[POINTER]</div><div class="t m0 x3b h7 y1bb7 ff2 fs4 fc0 sc0 ls0 ws0">value is changed by software.</div><div class="t m0 x95 h7 y1bb8 ff2 fs4 fc0 sc0 ls0">30–10</div><div class="t m0 x91 h7 y1bb9 ff2 fs4 fc0 sc0 ls0">Reserved</div><div class="t m0 x83 h7 y1bb8 ff2 fs4 fc0 sc0 ls0 ws0">This field is reserved.</div><div class="t m0 x83 h7 y1bb9 ff2 fs4 fc0 sc0 ls0 ws0">This read-only field is reserved and always has the value 0.</div><div class="t m0 x97 h7 y1bba ff2 fs4 fc0 sc0 ls0">9</div><div class="t m0 xb9 h7 yf8c ff2 fs4 fc0 sc0 ls0">HALTREQ</div><div class="t m0 x83 h7 y1bba ff2 fs4 fc0 sc0 ls0 ws0">Halt request bit</div><div class="t m0 x83 h7 y1bbb ff2 fs4 fc0 sc0 ls0 ws0">This bit is connected to the halt request signal of the trace logic, EDBGRQ. When HALTREQ is set to 1,</div><div class="t m0 x83 h7 y1bbc ff2 fs4 fc0 sc0 ls0 ws0">the EDBFGRQ is asserted if DBGEN (invasive debug enable, one of the debug authentication interface</div><div class="t m0 x83 h7 y1bbd ff2 fs4 fc0 sc0 ls0 ws0">signals) is also HIGH. The HALTREQ bit can be automatically set to 1 using the</div><div class="t m0 x83 h7 y1143 ff2 fs4 fc0 sc0 ls0 ws0">MTB_FLOW[WATERMARK] field.</div><div class="t m0 x97 h7 y1bbe ff2 fs4 fc0 sc0 ls0">8</div><div class="t m0 xb9 h7 y1145 ff2 fs4 fc0 sc0 ls0">RAMPRIV</div><div class="t m0 x83 h7 y1bbe ff2 fs4 fc0 sc0 ls0 ws0">RAM privilege bit</div><div class="t m0 x83 h7 y1bbf ff2 fs4 fc0 sc0 ls0 ws0">If this bit is 0, then user or privileged AHB read and write accesses to the RAM are permitted. If this bit is</div><div class="t m0 x83 h7 y1147 ff2 fs4 fc0 sc0 ls0 ws0">1, then only privileged AHB read and write accesses to the RAM are permitted and user accesses are</div><div class="t m0 x83 h7 y1bc0 ff2 fs4 fc0 sc0 ls0 ws0">RAZ/WI. The HPROT[1] signal determines if an access is a user or privileged mode reference.</div><div class="t m0 x97 h7 y1bc1 ff2 fs4 fc0 sc0 ls0">7</div><div class="t m0 x33 h7 y1bc2 ff2 fs4 fc0 sc0 ls0">SFRWPRIV</div><div class="t m0 x83 h7 y1bc1 ff2 fs4 fc0 sc0 ls0 ws0">Special Function Register Write Privilege bit</div><div class="t m0 x83 h7 y1bc3 ff2 fs4 fc0 sc0 ls0 ws0">If this bit is 0, then user or privileged AHB read and write accesses to the MTB_RAM Special Function</div><div class="t m0 x83 h7 y11db ff2 fs4 fc0 sc0 ls0 ws0">Registers (programming model) are permitted. If this bit is 1, then only privileged write accesses are</div><div class="t m0 x83 h7 y1bc4 ff2 fs4 fc0 sc0 ls0 ws0">permitted; user write accesses are ignored. The HPROT[1] signal determines if an access is user or</div><div class="t m0 x83 h7 y1bc5 ff2 fs4 fc0 sc0 ls0 ws0">privileged. Note MTB_RAM SFR read access are not controlled by this bit and are always permitted.</div><div class="t m0 x97 h7 y1bc6 ff2 fs4 fc0 sc0 ls0">6</div><div class="t m0 xb9 h7 y1b6a ff2 fs4 fc0 sc0 ls0">TSTOPEN</div><div class="t m0 x83 h7 y1bc6 ff2 fs4 fc0 sc0 ls0 ws0">Trace stop input enable</div><div class="t m0 x83 h7 y1bc7 ff2 fs4 fc0 sc0 ls0 ws0">If this bit is 1 and the TSTOP signal is HIGH, then the EN bit is set to 0. If a trace packet is being written to</div><div class="t m0 x83 h7 y1655 ff2 fs4 fc0 sc0 ls0 ws0">memory, the write is completed before tracing is stopped.</div><div class="t m0 x97 h7 y1185 ff2 fs4 fc0 sc0 ls0">5</div><div class="t m0 x33 h7 y1bc8 ff2 fs4 fc0 sc0 ls0">TSTARTEN</div><div class="t m0 x83 h7 y1185 ff2 fs4 fc0 sc0 ls0 ws0">Trace start input enable</div><div class="t m0 x83 h7 y1bc9 ff2 fs4 fc0 sc0 ls0 ws0">If this bit is 1 and the TSTART signal is HIGH, then the EN bit is set to 1. Tracing continues until a stop</div><div class="t m0 x83 h7 y1bca ff2 fs4 fc0 sc0 ls0 ws0">condition occurs.</div><div class="t m0 x1 h7 y1bcb ff2 fs4 fc0 sc0 ls0">4–0</div><div class="t m0 x95 h7 y1bcc ff2 fs4 fc0 sc0 ls0">MASK</div><div class="t m0 x83 h7 y1bcb ff2 fs4 fc0 sc0 ls0">Mask</div><div class="t m0 x83 h7 y16e4 ff2 fs4 fc0 sc0 ls0 ws0">This value determines the maximum size of the trace buffer in RAM. It specifies the most-significant bit of</div><div class="t m0 x83 h7 y1bcd ff2 fs4 fc0 sc0 ls0 ws0">the MTB_POSITION[POINTER] field that can be updated by automatic increment. If the trace tries to</div><div class="t m0 x83 h7 y1bce ff2 fs4 fc0 sc0 ls0 ws0">advance past this power of two, the MTB_POSITION[WRAP] bit is set to 1, the</div><div class="t m0 x83 h7 y1bcf ff2 fs4 fc0 sc0 ls0 ws0">MTB_POSITION[POINTER[MASK:0]] bits are set to zero, and the MTB_POSITION[POINTER[11:MASK</div><div class="t m0 x83 h7 y1132 ff2 fs4 fc0 sc0 ls0 ws0">+1]] bits remain unchanged.</div><div class="t m0 x83 h7 y1bd0 ff2 fs4 fc0 sc0 ls0 ws0">This field causes the trace packet information to be stored in a circular buffer of size 2^[MASK+4] bytes,</div><div class="t m0 x83 h7 y1bd1 ff2 fs4 fc0 sc0 ls0 ws0">that can be positioned in memory at multiples of this size. Valid values of this field are zero to 11. Values</div><div class="t m0 x83 h7 y1bd2 ff2 fs4 fc0 sc0 ls0 ws0">greater than the maximum have the same effect as the maximum.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Memory Map and Register Definition</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">308<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
