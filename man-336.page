<div id="pf150" class="pf w0 h0" data-page-no="150"><div class="pc pc150 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg150.png"/><div class="t m0 x9 he y17c ff1 fs1 fc0 sc0 ls0 ws0">21.1.2<span class="_ _b"> </span>General operation</div><div class="t m0 x9 hf y1da4 ff3 fs5 fc0 sc0 ls0 ws0">The slave devices connected to the peripheral bridge are modules which contain a</div><div class="t m0 x9 hf y1da5 ff3 fs5 fc0 sc0 ls0 ws0">programming model of control and status registers. The system masters read and write</div><div class="t m0 x9 hf y1da6 ff3 fs5 fc0 sc0 ls0 ws0">these registers through the peripheral bridge. The peripheral bridge performs a bus</div><div class="t m0 x9 hf y1da7 ff3 fs5 fc0 sc0 ls0 ws0">protocol conversion of the master transactions and generates the following as inputs to</div><div class="t m0 x9 hf y1da8 ff3 fs5 fc0 sc0 ls0 ws0">the peripherals:</div><div class="t m0 x33 hf y1da9 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Module enables</div><div class="t m0 x33 hf y1daa ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Module addresses</div><div class="t m0 x33 hf y1dab ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Transfer attributes</div><div class="t m0 x33 hf y1dac ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Byte enables</div><div class="t m0 x33 hf y1dad ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Write data</div><div class="t m0 x9 hf y124 ff3 fs5 fc0 sc0 ls0 ws0">The peripheral bridge selects and captures read data from the peripheral interface and</div><div class="t m0 x9 hf y125 ff3 fs5 fc0 sc0 ls0 ws0">returns it to the crossbar switch.</div><div class="t m0 x9 hf y1dae ff3 fs5 fc0 sc0 ls0 ws0">The register maps of the peripherals are located on 4-KB boundaries. Each peripheral is</div><div class="t m0 x9 hf y1daf ff3 fs5 fc0 sc0 ls0 ws0">allocated one or more 4-KB block(s) of the memory map.</div><div class="t m0 x9 hf yaf4 ff3 fs5 fc0 sc0 ls0 ws0">The AIPS-Lite module uses the accessed peripheral&apos;s data width to perform proper data</div><div class="t m0 x9 hf yaf5 ff3 fs5 fc0 sc0 ls0 ws0">byte lane routing; bus decomposition (bus sizing) is performed when the access size is</div><div class="t m0 x9 hf yaf6 ff3 fs5 fc0 sc0 ls0 ws0">larger than the peripheral&apos;s data width.</div><div class="t m0 x9 hd y1db0 ff1 fs7 fc0 sc0 ls0 ws0">21.2<span class="_ _b"> </span>Functional description</div><div class="t m0 x9 hf y1db1 ff3 fs5 fc0 sc0 ls0 ws0">The peripheral bridge functions as a bus protocol translator between the crossbar switch</div><div class="t m0 x9 hf y1db2 ff3 fs5 fc0 sc0 ls0 ws0">and the slave peripheral bus.</div><div class="t m0 x9 hf y1db3 ff3 fs5 fc0 sc0 ls0 ws0">The peripheral bridge manages all transactions destined for the attached slave devices and</div><div class="t m0 x9 hf y1db4 ff3 fs5 fc0 sc0 ls0 ws0">generates select signals for modules on the peripheral bus by decoding accesses within</div><div class="t m0 x9 hf y1db5 ff3 fs5 fc0 sc0 ls0 ws0">the attached address space.</div><div class="t m0 x9 hf y1db6 ff3 fs5 fc0 sc0 ls0 ws0">By default, reads and writes on the crossbar side of the peripheral bridge take two data-</div><div class="t m0 x9 hf y1db7 ff3 fs5 fc0 sc0 ls0 ws0">phase cycles. On the IPS side, accesses complete in one cycle. If wait states are inserted</div><div class="t m0 x9 hf yc7d ff3 fs5 fc0 sc0 ls0 ws0">by the slave peripheral, access time will be extended accordingly.</div><div class="t m0 x9 he y1db8 ff1 fs1 fc0 sc0 ls0 ws0">21.2.1<span class="_ _b"> </span>Access support</div><div class="t m0 x9 hf y1db9 ff3 fs5 fc0 sc0 ls0 ws0">All combinations of access size and peripheral data port width are supported. An access</div><div class="t m0 x9 hf y1dba ff3 fs5 fc0 sc0 ls0 ws0">that is larger than the target peripheral&apos;s data width will be decomposed to multiple,</div><div class="t m0 x9 hf y1dbb ff3 fs5 fc0 sc0 ls0 ws0">smaller accesses. Bus decomposition is terminated by a transfer error caused by an access</div><div class="t m0 x9 hf y1dbc ff3 fs5 fc0 sc0 ls0 ws0">to an empty register area.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">336<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
