<div id="pf158" class="pf w0 h0" data-page-no="158"><div class="pc pc158 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg158.png"/><div class="t m0 x117 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">By configuring the DMA to transfer all of the data in a single minor loop (that is,</div><div class="t m0 x117 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">major loop counter = 1), no reactivation of the channel is necessary. The</div><div class="t m0 x117 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">disadvantage to this option is the reduced granularity in determining the load that the</div><div class="t m0 x117 hf yf9 ff3 fs5 fc0 sc0 ls0 ws0">DMA transfer will impose on the system. For this option, the DMA channel must be</div><div class="t m0 x117 hf yfa ff3 fs5 fc0 sc0 ls0 ws0">disabled in the DMA channel MUX.</div><div class="t m0 x33 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Use explicit software reactivation.</div><div class="t m0 x117 hf y674 ff3 fs5 fc0 sc0 ls0 ws0">In this option, the DMA is configured to transfer the data using both minor and major</div><div class="t m0 x117 hf y675 ff3 fs5 fc0 sc0 ls0 ws0">loops, but the processor is required to reactivate the channel by writing to the DMA</div><div class="t m0 x117 hf y676 ff3 fs5 fc0 sc0 ls0 ws0">registers <span class="ff4">after every minor loop</span>. For this option, the DMA channel must be disabled</div><div class="t m0 x117 hf y677 ff3 fs5 fc0 sc0 ls0 ws0">in the DMA channel MUX.</div><div class="t m0 x33 hf y14e3 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Use an always-enabled DMA source.</div><div class="t m0 x117 hf y1ddb ff3 fs5 fc0 sc0 ls0 ws0">In this option, the DMA is configured to transfer the data using both minor and major</div><div class="t m0 x117 hf y1ddc ff3 fs5 fc0 sc0 ls0 ws0">loops, and the DMA channel MUX does the channel reactivation. For this option, the</div><div class="t m0 x117 hf y1e47 ff3 fs5 fc0 sc0 ls0 ws0">DMA channel should be enabled and pointing to an &quot;always enabled&quot; source. Note</div><div class="t m0 x117 hf y1e48 ff3 fs5 fc0 sc0 ls0 ws0">that the reactivation of the channel can be continuous (DMA triggering is disabled)</div><div class="t m0 x117 hf y1e49 ff3 fs5 fc0 sc0 ls0 ws0">or can use the DMA triggering capability. In this manner, it is possible to execute</div><div class="t m0 x117 hf y1e4a ff3 fs5 fc0 sc0 ls0 ws0">periodic transfers of packets of data from one source to another, without processor</div><div class="t m0 x117 hf y1e4b ff3 fs5 fc0 sc0 ls0">intervention.</div><div class="t m0 x9 hd y1e4c ff1 fs7 fc0 sc0 ls0 ws0">22.5<span class="_ _b"> </span>Initialization/application information</div><div class="t m0 x9 hf y1e4d ff3 fs5 fc0 sc0 ls0 ws0">This section provides instructions for initializing the DMA channel MUX.</div><div class="t m0 x9 he y1e4e ff1 fs1 fc0 sc0 ls0 ws18f">22.5.1 Reset</div><div class="t m0 x9 hf y1e4f ff3 fs5 fc0 sc0 ls0 ws0">The reset state of each individual bit is shown in <span class="fc1">Memory map/register definition</span>. In</div><div class="t m0 x9 hf y1e50 ff3 fs5 fc0 sc0 ls0 ws0">summary, after reset, all channels are disabled and must be explicitly enabled before use.</div><div class="t m0 x9 he y1e51 ff1 fs1 fc0 sc0 ls0 ws0">22.5.2<span class="_ _b"> </span>Enabling and configuring sources</div><div class="t m0 x9 hf y1e52 ff3 fs5 fc0 sc0 ls0 ws0">To enable a source with periodic triggering:</div><div class="t m0 xf6 hf y1e53 ff3 fs5 fc0 sc0 ls0 ws0">1.<span class="_ _11"> </span>Determine with which DMA channel the source will be associated. Note that only the</div><div class="t m0 x34 hf y1e54 ff3 fs5 fc0 sc0 ls0 ws0">first 2 DMA channels have periodic triggering capability.</div><div class="t m0 xf6 hf y1e55 ff3 fs5 fc0 sc0 ls0 ws0">2.<span class="_ _11"> </span>Clear the CHCFG[ENBL] and CHCFG[TRIG] fields of the DMA channel.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Initialization/application information</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">344<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div><a class="l" href="#pf153" data-dest-detail='[339,"XYZ",null,363.2,null]'><div class="d m1" style="border-style:none;position:absolute;left:328.526000px;bottom:230.600000px;width:179.648000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
