<div id="pf160" class="pf w0 h0" data-page-no="160"><div class="pc pc160 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg160.png"/><div class="c x30 y1efe w39 hdc"><div class="t m0 x14c h7 y1eff ff2 fs4 fc0 sc0 ls0 ws0">Control and Data</div><div class="t m0 xb1 h4 y1f00 ff2 fs2 fc0 sc0 ls0 ws0"> </div><div class="t m0 xf1 h7 y1f01 ff2 fs4 fc0 sc0 ls0 ws190">Write</div><div class="t m0 xb1 h27 y1f00 ff2 fs4 fc0 sc0 ls0 ws190">Read<span class="ff3 fs2 ws0"> </span></div><div class="t m0 x36 h27 y1f02 ff2 fs4 fc0 sc0 ls0 ws190">DMA<span class="ff3 fs2 ws0"> </span></div><div class="t m0 xbd h27 y1f03 ff2 fs4 fc0 sc0 ls0 ws190">Memory/<span class="ff3 fs2 ws0"> </span></div><div class="t m0 x10c h27 y1f04 ff2 fs4 fc0 sc0 ls0 ws190">P<span class="_ _153"></span>er<span class="_ _5"></span>ipheral<span class="ff3 fs2 ws0"> </span></div><div class="t m0 xbd h27 y1f05 ff2 fs4 fc0 sc0 ls0 ws190">Memor<span class="_ _5"></span>y/<span class="ff3 fs2 ws0"> </span></div><div class="t m0 x10c h27 y1f06 ff2 fs4 fc0 sc0 ls0 ws190">P<span class="_ _153"></span>er<span class="_ _5"></span>ipheral<span class="ff3 fs2 ws0"> </span></div><div class="t m0 x36 h4 y1f02 ff2 fs2 fc0 sc0 ls0 ws0"> </div><div class="t m0 xcc h27 y1f07 ff2 fs4 fc0 sc0 ls0 ws0">Control and Data<span class="ff3 fs2"> </span></div></div><div class="t m0 x30 h9 y1f08 ff1 fs2 fc0 sc0 ls0 ws0">Figure 23-2. Dual-Address Transfer</div><div class="t m0 x9 hf y1f09 ff3 fs5 fc0 sc0 ls0 ws0">Any operation involving a DMA channel follows the same three steps:</div><div class="t m0 xf6 hf y1f0a ff3 fs5 fc0 sc0 ls0 ws0">1.<span class="_ _11"> </span>Channel initialization—The transfer control descriptor, contained in the channel</div><div class="t m0 x117 hf y1f0b ff3 fs5 fc0 sc0 ls0 ws0">registers, is loaded with address pointers, a byte-transfer count, and control</div><div class="t m0 x117 hf y1f0c ff3 fs5 fc0 sc0 ls0 ws0">information using accesses from the slave peripheral bus.</div><div class="t m0 xf6 hf y1f0d ff3 fs5 fc0 sc0 ls0 ws0">2.<span class="_ _11"> </span>Data transfer—The DMA accepts requests for data transfers. Upon receipt of a</div><div class="t m0 x117 hf y1f0e ff3 fs5 fc0 sc0 ls0 ws0">request, it provides address and bus control for the transfers via its master connection</div><div class="t m0 x117 hf y1f0f ff3 fs5 fc0 sc0 ls0 ws0">to the system bus and temporary storage for the read data. The channel performs one</div><div class="t m0 x117 hf y1f10 ff3 fs5 fc0 sc0 ls0 ws0">or more source read and destination write data transfers.</div><div class="t m0 xf6 hf y1f11 ff3 fs5 fc0 sc0 ls0 ws0">3.<span class="_ _11"> </span>Channel termination—Occurs after the operation is finished successfully or due to an</div><div class="t m0 x117 hf y1f12 ff3 fs5 fc0 sc0 ls0 ws0">error. The channel indicates the operation status in the channel&apos;s DSR, described in</div><div class="t m0 x117 hf y1f13 ff3 fs5 fc0 sc0 ls0 ws0">the definitions of the DMA Status Registers (DSRn) and Byte Count Registers</div><div class="t m0 x117 hf y1f14 ff3 fs5 fc0 sc0 ls0">(BCRn).</div><div class="t m0 xc8 hd y1f15 ff1 fs7 fc0 sc0 ls0 ws0">Memory Map and Registers</div><div class="t m0 x9 hf y1f16 ff3 fs5 fc0 sc0 ls0 ws0">Descriptions of each register and its bit assignments follow. Modifying DMA control</div><div class="t m0 x9 hf y1f17 ff3 fs5 fc0 sc0 ls0 ws0">registers during a transfer can result in undefined operation. The following table shows</div><div class="t m0 x9 hf y1f18 ff3 fs5 fc0 sc0 ls0 ws0">the mapping of DMA controller registers. The DMA programming model is accessed via</div><div class="t m0 x9 hf y1f19 ff3 fs5 fc0 sc0 ls0 ws0">the slave peripheral bus. The concatenation of the source and destination address</div><div class="t m0 x9 hf y1f1a ff3 fs5 fc0 sc0 ls0 ws0">registers, the status and byte count register, and the control register create a 128-bit</div><div class="t m0 x9 hf y1f1b ff3 fs5 fc0 sc0 ls0 ws0">transfer control descriptor (TCD) that defines the operation of each DMA channel.</div><div class="t m0 x9 hd y1f1c ff1 fs7 fc0 sc0 ls0">23.3</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Memory Map and Registers</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">352<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
