<div id="pf183" class="pf w0 h0" data-page-no="183"><div class="pc pc183 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg183.png"/><div class="t m0 xb2 h9 y1a5 ff1 fs2 fc0 sc0 ls0 ws0">Table 24-18.<span class="_ _1a"> </span>MCG modes of operation (continued)</div><div class="t m0 x89 h10 y1a6 ff1 fs4 fc0 sc0 ls0 ws33c">Mode Description</div><div class="t m0 x2c h7 y1a7 ff2 fs4 fc0 sc0 ls0 ws0">Bypassed Low Power</div><div class="t m0 x2c h7 y1a8 ff2 fs4 fc0 sc0 ls0 ws0">External (BLPE)</div><div class="t m0 x3c h7 y1a7 ff2 fs4 fc0 sc0 ls0 ws0">Bypassed Low Power External (BLPE) mode is entered when all the following conditions occur:</div><div class="t m0 x4 h7 y4e6 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>C1[CLKS] bits are written to 10</div><div class="t m0 x4 h7 y22a4 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>C1[IREFS] bit is written to 0</div><div class="t m0 x4 h7 y22a5 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>C2[LP] bit is written to 1</div><div class="t m0 x3c h7 y22a6 ff2 fs4 fc0 sc0 ls0 ws0">In BLPE mode, MCGOUTCLK is derived from the external reference clock. The FLL is disabled and</div><div class="t m0 x3c h7 y22a7 ff2 fs4 fc0 sc0 ls0 ws0">PLL is disabled even if the C5[PLLCLKEN0] is set to 1.</div><div class="t m0 x2c h7 y22a8 ff2 fs4 fc0 sc0 ls0 ws0">Stop<span class="_ _1a1"> </span>Entered whenever the MCU enters a Stop state. The power modes are chip specific. For power</div><div class="t m0 x3c h7 y2258 ff2 fs4 fc0 sc0 ls0 ws0">mode assignments, see the chapter that describes how modules are configured and MCG behavior</div><div class="t m0 x3c h7 y2259 ff2 fs4 fc0 sc0 ls0 ws0">during Stop recovery. Entering Stop mode, the FLL is disabled, and all MCG clock signals are static</div><div class="t m0 x3c h7 y22a9 ff2 fs4 fc0 sc0 ls0 ws0">except in the following case:</div><div class="t m0 x3c h7 y22aa ff2 fs4 fc0 sc0 ls0 ws0">MCGPLLCLK is active in Normal Stop mode when PLLSTEN=1</div><div class="t m0 x3c h7 y22ab ff2 fs4 fc0 sc0 ls0 ws0">MCGIRCLK is active in Normal Stop mode when all the following conditions become true:</div><div class="t m0 x4 h7 y22ac ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>C1[IRCLKEN] = 1</div><div class="t m0 x4 h7 y22ad ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>C1[IREFSTEN] = 1</div><div class="t m0 x3c h10 y22ae ff1 fs4 fc0 sc0 ls0 ws33d">NOTE: <span class="ff2 ws0">•<span class="_ _11"> </span>In VLPS Stop Mode, the MCGIRCLK can be programmed to stay enabled and</span></div><div class="t m0 xd8 h7 y22af ff2 fs4 fc0 sc0 ls0 ws0">continue running if C1[IRCLKEN] = 1, C1[IREFSTEN]=1, and Fast IRC clock is</div><div class="t m0 xd8 h7 y22b0 ff2 fs4 fc0 sc0 ls0 ws0">selected (C2[IRCS] = 1)</div><div class="t m0 x3c h10 y22b1 ff1 fs4 fc0 sc0 ls0 ws33d">NOTE: <span class="ff2 ws0">•<span class="_ _11"> </span>When entering Low Power Stop modes (LLS or VLPS) from PEE mode, on exit the</span></div><div class="t m0 xd8 h7 y22b2 ff2 fs4 fc0 sc0 ls0 ws0">MCG clock mode is forced to PBE clock mode. C1[CLKS] and S[CLKST] will be</div><div class="t m0 xd8 h7 y22b3 ff2 fs4 fc0 sc0 ls0 ws0">configured to 2’b10if entering from PEE mode or to 2’b01 if entering from PEI mode,</div><div class="t m0 xd8 h7 y22b4 ff2 fs4 fc0 sc0 ls0 ws0">C5[PLLSTEN0] will be force to 1&apos;b0 and S[LOCK0] bit will be cleared without setting</div><div class="t m0 xd8 h7 y22b5 ff2 fs4 fc0 sc0 ls0">S[LOLS0].</div><div class="t m0 x30 h7 y22b6 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>When entering Normal Stop mode from PEE mode and if C5[PLLSTEN0]=0, on exit</div><div class="t m0 xd8 h7 y22b7 ff2 fs4 fc0 sc0 ls0 ws0">the MCG clock mode is forced to PBE mode, the C1[CLKS] and S[CLKST] will be</div><div class="t m0 xd8 h7 y22b8 ff2 fs4 fc0 sc0 ls0 ws0">configured to 2’b10 and S[LOCK0] bit will clear without setting S[LOLS0]. If</div><div class="t m0 xd8 h7 y22b9 ff2 fs4 fc0 sc0 ls0 ws0">C5[PLLSTEN0]=1, the S[LOCK0] bit will not get cleared and on exit the MCG will</div><div class="t m0 xd8 h7 y22ba ff2 fs4 fc0 sc0 ls0 ws0">continue to run in PEE mode.</div><div class="t m0 x9 h7 y22bb ff2 fs4 fc0 sc0 ls0 ws0">1.<span class="_ _68"> </span>If entering VLPR mode, MCG has to be configured and enter BLPE mode or BLPI mode with the Fast IRC clock selected</div><div class="t m0 x52 h7 y22bc ff2 fs4 fc0 sc0 ls0 ws0">(C2[IRCS]=1). After it enters VLPR mode, writes to any of the MCG control registers that can cause an MCG clock mode</div><div class="t m0 x52 h7 y22bd ff2 fs4 fc0 sc0 ls0 ws0">switch to a non low power clock mode must be avoided.</div><div class="t m0 x10e h8 y22be ff1 fs5 fc0 sc0 ls0">NOTE</div><div class="t m0 x3e hf y22bf ff3 fs5 fc0 sc0 ls0 ws0">For the chip-specific modes of operation, see the power</div><div class="t m0 x3e hf y22c0 ff3 fs5 fc0 sc0 ls0 ws0">management chapter of this MCU.</div><div class="t m0 x9 h1b y22c1 ff1 fsc fc0 sc0 ls0 ws0">24.4.1.2<span class="_ _b"> </span>MCG mode switching</div><div class="t m0 x9 hf y22c2 ff3 fs5 fc0 sc0 ls0 ws0">The C1[IREFS] bit can be changed at any time, but the actual switch to the newly</div><div class="t m0 x9 hf y22c3 ff3 fs5 fc0 sc0 ls0 ws0">selected reference clocks is shown by the S[IREFST] bit. When switching between</div><div class="t m0 x9 hf y22c4 ff3 fs5 fc0 sc0 ls0 ws0">engaged internal and engaged external modes, the FLL will begin locking again after the</div><div class="t m0 x9 hf y22c5 ff3 fs5 fc0 sc0 ls0 ws0">switch is completed.</div><div class="t m0 x102 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 24 Multipurpose Clock Generator (MCG)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>387</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
