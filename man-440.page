<div id="pf1b8" class="pf w0 h0" data-page-no="1b8"><div class="pc pc1b8 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg1b8.png"/><div class="t m0 x9 he y1c7 ff1 fs1 fc0 sc0 ls0 ws0">27.4.9<span class="_ _b"> </span>Margin Read Commands</div><div class="t m0 x9 hf y1c8 ff3 fs5 fc0 sc0 ls0 ws0">The Read-1s commands (Read 1s All Blocks and Read 1s Section) and the Program</div><div class="t m0 x9 hf y9de ff3 fs5 fc0 sc0 ls0 ws0">Check command have a margin choice parameter that allows the user to apply non-</div><div class="t m0 x9 hf y9df ff3 fs5 fc0 sc0 ls0 ws0">standard read reference levels to the program flash array reads performed by these</div><div class="t m0 x9 hf y15ad ff3 fs5 fc0 sc0 ls0 ws0">commands. Using the preset &apos;user&apos; and &apos;factory&apos; margin levels, these commands perform</div><div class="t m0 x9 hf y1be9 ff3 fs5 fc0 sc0 ls0 ws0">their associated read operations at tighter tolerances than a &apos;normal&apos; read. These non-</div><div class="t m0 x9 hf y24c8 ff3 fs5 fc0 sc0 ls0 ws0">standard read levels are applied only during the command execution. All simple</div><div class="t m0 x9 hf y24c9 ff3 fs5 fc0 sc0 ls0 ws0">(uncommanded) flash array reads to the MCU always use the standard, un-margined, read</div><div class="t m0 x9 hf y2700 ff3 fs5 fc0 sc0 ls0 ws0">reference level.</div><div class="t m0 x9 hf y2701 ff3 fs5 fc0 sc0 ls0 ws0">Only the &apos;normal&apos; read level should be employed during normal flash usage. The non-</div><div class="t m0 x9 hf y2702 ff3 fs5 fc0 sc0 ls0 ws0">standard, &apos;user&apos; and &apos;factory&apos; margin levels should be employed only in special cases.</div><div class="t m0 x9 hf y2703 ff3 fs5 fc0 sc0 ls0 ws0">They can be used during special diagnostic routines to gain confidence that the device is</div><div class="t m0 x9 hf y2704 ff3 fs5 fc0 sc0 ls0 ws0">not suffering from the end-of-life data loss customary of flash memory devices.</div><div class="t m0 x9 hf y2705 ff3 fs5 fc0 sc0 ls0 ws0">Erased (&apos;1&apos;) and programmed (&apos;0&apos;) bit states can degrade due to elapsed time and data</div><div class="t m0 x9 hf y2706 ff3 fs5 fc0 sc0 ls0 ws0">cycling (number of times a bit is erased and re-programmed). The lifetime of the erased</div><div class="t m0 x9 hf y2707 ff3 fs5 fc0 sc0 ls0 ws0">states is relative to the last erase operation. The lifetime of the programmed states is</div><div class="t m0 x9 hf y2708 ff3 fs5 fc0 sc0 ls0 ws0">measured from the last program time.</div><div class="t m0 x9 hf y2709 ff3 fs5 fc0 sc0 ls0 ws0">The &apos;user&apos; and &apos;factory&apos; levels become, in effect, a minimum safety margin; i.e. if the reads</div><div class="t m0 x9 hf y270a ff3 fs5 fc0 sc0 ls0 ws0">pass at the tighter tolerances of the &apos;user&apos; and &apos;factory&apos; margins, then the &apos;normal&apos; reads</div><div class="t m0 x9 hf y270b ff3 fs5 fc0 sc0 ls0 ws0">have at least this much safety margin before they experience data loss.</div><div class="t m0 x9 hf y270c ff3 fs5 fc0 sc0 ls0 ws0">The &apos;user&apos; margin is a small delta to the normal read reference level. &apos;User&apos; margin levels</div><div class="t m0 x9 hf y270d ff3 fs5 fc0 sc0 ls0 ws0">can be employed to check that flash memory contents have adequate margin for normal</div><div class="t m0 x9 hf y270e ff3 fs5 fc0 sc0 ls0 ws0">level read operations. If unexpected read results are encountered when checking flash</div><div class="t m0 x9 hf y270f ff3 fs5 fc0 sc0 ls0 ws0">memory contents at the &apos;user&apos; margin levels, loss of information might soon occur during</div><div class="t m0 x9 hf y2710 ff3 fs5 fc0 sc0 ls0 ws0">&apos;normal&apos; readout.</div><div class="t m0 x9 hf y2711 ff3 fs5 fc0 sc0 ls0 ws0">The &apos;factory&apos; margin is a bigger deviation from the norm, a more stringent read criteria</div><div class="t m0 x9 hf y2712 ff3 fs5 fc0 sc0 ls0 ws0">that should only be attempted immediately (or very soon) after completion of an erase or</div><div class="t m0 x9 hf y2713 ff3 fs5 fc0 sc0 ls0 ws0">program command, early in the cycling life. &apos;Factory&apos; margin levels can be used to check</div><div class="t m0 x9 hf y2714 ff3 fs5 fc0 sc0 ls0 ws0">that flash memory contents have adequate margin for long-term data retention at the</div><div class="t m0 x9 hf y2715 ff3 fs5 fc0 sc0 ls0 ws0">normal level setting. If unexpected results are encountered when checking flash memory</div><div class="t m0 x9 hf y2716 ff3 fs5 fc0 sc0 ls0 ws0">contents at &apos;factory&apos; margin levels, the flash memory contents should be erased and</div><div class="t m0 x9 hf y2717 ff3 fs5 fc0 sc0 ls0">reprogrammed.</div><div class="t m0 xce h8 y2718 ff1 fs5 fc0 sc0 ls0">CAUTION</div><div class="t m0 x3e hf y2719 ff3 fs5 fc0 sc0 ls0 ws0">Factory margin levels must only be used during verify of the</div><div class="t m0 x3e hf y271a ff3 fs5 fc0 sc0 ls0 ws0">initial factory programming.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional Description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">440<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
