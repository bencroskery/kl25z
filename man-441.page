<div id="pf1b9" class="pf w0 h0" data-page-no="1b9"><div class="pc pc1b9 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg1b9.png"/><div class="t m0 x9 he y1c7 ff1 fs1 fc0 sc0 ls0 ws0">27.4.10<span class="_ _b"> </span>Flash Command Description</div><div class="t m0 x9 hf y1c8 ff3 fs5 fc0 sc0 ls0 ws0">This section describes all flash commands that can be launched by a command write</div><div class="t m0 x9 hf y9de ff3 fs5 fc0 sc0 ls0 ws0">sequence. The flash memory module sets the FSTAT[ACCERR] bit and aborts the</div><div class="t m0 x9 hf y9df ff3 fs5 fc0 sc0 ls0 ws0">command execution if any of the following illegal conditions occur:</div><div class="t m0 x33 hf y9e0 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>There is an unrecognized command code in the FCCOB FCMD field.</div><div class="t m0 x33 hf y14b9 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>There is an error in a FCCOB field for the specific commands. Refer to the error</div><div class="t m0 x117 hf ybd7 ff3 fs5 fc0 sc0 ls0 ws0">handling table provided for each command.</div><div class="t m0 x9 hf y659 ff3 fs5 fc0 sc0 ls0 ws0">Ensure that the ACCERR and FPVIOL bits in the FSTAT register are cleared prior to</div><div class="t m0 x9 hf y271b ff3 fs5 fc0 sc0 ls0 ws0">starting the command write sequence. As described in <span class="fc1">Launch the Command by Clearing</span></div><div class="t m0 x9 hf y14bc ff3 fs5 fc1 sc0 ls0 ws1a6">CCIF<span class="fc0 ws0">, a new command cannot be launched while these error flags are set.</span></div><div class="t m0 x9 hf y14bd ff3 fs5 fc0 sc0 ls0 ws0">Do not attempt to read a flash block while the flash memory module is running a</div><div class="t m0 x9 hf y14be ff3 fs5 fc0 sc0 ls0 ws0">command (CCIF = 0) on that same block. The flash memory module may return invalid</div><div class="t m0 x9 hf y14bf ff3 fs5 fc0 sc0 ls0 ws0">data to the MCU with the collision error flag (FSTAT[RDCOLERR]) set.</div><div class="t m0 xce h8 y271c ff1 fs5 fc0 sc0 ls0">CAUTION</div><div class="t m0 x3e hf y1c17 ff3 fs5 fc0 sc0 ls0 ws0">Flash data must be in the erased state before being</div><div class="t m0 x3e hf y1c06 ff3 fs5 fc0 sc0 ls0 ws0">programmed. Cumulative programming of bits (adding more</div><div class="t m0 x3e hf y1c07 ff3 fs5 fc0 sc0 ls0 ws0">zeros) is not allowed.</div><div class="t m0 x9 h1b y271d ff1 fsc fc0 sc0 ls0 ws0">27.4.10.1<span class="_ _b"> </span>Read 1s Section Command</div><div class="t m0 x9 hf y271e ff3 fs5 fc0 sc0 ls0 ws0">The Read 1s Section command checks if a section of program flash memory is erased to</div><div class="t m0 x9 hf y271f ff3 fs5 fc0 sc0 ls0 ws0">the specified read margin level. The Read 1s Section command defines the starting</div><div class="t m0 x9 hf ya6a ff3 fs5 fc0 sc0 ls0 ws0">address and the number of longwords to be verified.</div><div class="t m0 xad h9 y2720 ff1 fs2 fc0 sc0 ls0 ws0">Table 27-26.<span class="_ _1a"> </span>Read 1s Section Command FCCOB Requirements</div><div class="t m0 xb9 h10 y2721 ff1 fs4 fc0 sc0 ls0 ws0">FCCOB Number<span class="_ _11d"> </span>FCCOB Contents [7:0]</div><div class="t m0 x3d h7 y2722 ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _12"> </span>0x01 (RD1SEC)</div><div class="t m0 x3d h7 y2723 ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _1dc"> </span>Flash address [23:16] of the first longword to be verified</div><div class="t m0 x3d h7 y2724 ff2 fs4 fc0 sc0 ls0 ws0">2<span class="_ _c4"> </span>Flash address [15:8] of the first longword to be verified</div><div class="t m0 x3d h17 y2725 ff2 fs4 fc0 sc0 ls0 ws0">3<span class="_ _b8"> </span>Flash address [7:0]<span class="fs9 fc1 ls142 v4">1</span> of the first longword to be verified</div><div class="t m0 x3d h7 y2726 ff2 fs4 fc0 sc0 ls0 ws0">4<span class="_ _1dd"> </span>Number of longwords to be verified [15:8]</div><div class="t m0 x3d h7 y2727 ff2 fs4 fc0 sc0 ls0 ws0">5<span class="_ _1de"> </span>Number of longwords to be verified [7:0]</div><div class="t m0 x3d h7 y2728 ff2 fs4 fc0 sc0 ls0 ws0">6<span class="_ _b2"> </span>Read-1 Margin Choice</div><div class="t m0 x9 h7 y2729 ff2 fs4 fc0 sc0 ls0 ws0">1.<span class="_ _68"> </span>Must be longword aligned (Flash address [1:0] = 00).</div><div class="t m0 x150 h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 27 Flash Memory Module (FTFA)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>441</div><a class="l" href="#pf1b4" data-dest-detail='[436,"XYZ",null,459.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:359.998000px;bottom:507.000000px;width:193.648000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1b4" data-dest-detail='[436,"XYZ",null,459.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:54.000000px;bottom:491.000000px;width:31.122000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1b9" data-dest-detail='[441,"XYZ",null,74.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:325.260000px;bottom:144.641000px;width:3.753000px;height:6.750000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
