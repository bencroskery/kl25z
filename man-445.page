<div id="pf1bd" class="pf w0 h0" data-page-no="1bd"><div class="pc pc1bd w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg1bd.png"/><div class="t m0 xce h8 y6c3 ff1 fs5 fc0 sc0 ls0">CAUTION</div><div class="t m0 x3e hf y503 ff3 fs5 fc0 sc0 ls0 ws0">A flash memory location must be in the erased state before</div><div class="t m0 x3e hf y504 ff3 fs5 fc0 sc0 ls0 ws0">being programmed. Cumulative programming of bits (back-to-</div><div class="t m0 x3e hf y505 ff3 fs5 fc0 sc0 ls0 ws0">back program operations without an intervening erase) within a</div><div class="t m0 x3e hf y629 ff3 fs5 fc0 sc0 ls0 ws0">flash memory location is not allowed. Re-programming of</div><div class="t m0 x3e hf y62a ff3 fs5 fc0 sc0 ls0 ws0">existing 0s to 0 is not allowed as this overstresses the device.</div><div class="t m0 xdb h9 y2767 ff1 fs2 fc0 sc0 ls0 ws0">Table 27-35.<span class="_ _1a"> </span>Program Longword Command FCCOB Requirements</div><div class="t m0 xb9 h10 yc27 ff1 fs4 fc0 sc0 ls0 ws0">FCCOB Number<span class="_ _11d"> </span>FCCOB Contents [7:0]</div><div class="t m0 x3d h7 y2768 ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _1f1"> </span>0x06 (PGM4)</div><div class="t m0 x3d h7 y2769 ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _c"> </span>Flash address [23:16]</div><div class="t m0 x3d h7 y276a ff2 fs4 fc0 sc0 ls0 ws0">2<span class="_ _1e5"> </span>Flash address [15:8]</div><div class="t m0 x3d h17 y276b ff2 fs4 fc0 sc0 ls0 ws0">3<span class="_ _11a"> </span>Flash address [7:0]<span class="fs9 fc1 v4">1</span></div><div class="t m0 x3d h7 y276c ff2 fs4 fc0 sc0 ls0 ws0">4<span class="_ _1e6"> </span>Byte 0 program value</div><div class="t m0 x3d h7 y276d ff2 fs4 fc0 sc0 ls0 ws0">5<span class="_ _1e6"> </span>Byte 1 program value</div><div class="t m0 x3d h7 y276e ff2 fs4 fc0 sc0 ls0 ws0">6<span class="_ _1e6"> </span>Byte 2 program value</div><div class="t m0 x3d h7 y1a39 ff2 fs4 fc0 sc0 ls0 ws0">7<span class="_ _1e6"> </span>Byte 3 program value</div><div class="t m0 x9 h7 y276f ff2 fs4 fc0 sc0 ls0 ws0">1.<span class="_ _68"> </span>Must be longword aligned (Flash address [1:0] = 00).</div><div class="t m0 x9 hf y2770 ff3 fs5 fc0 sc0 ls0 ws0">Upon clearing CCIF to launch the Program Longword command, the flash memory</div><div class="t m0 x9 hf y2771 ff3 fs5 fc0 sc0 ls0 ws0">module programs the data bytes into the flash using the supplied address. The targeted</div><div class="t m0 x9 hf y2772 ff3 fs5 fc0 sc0 ls0 ws0">flash locations must be currently unprotected (see the description of the FPROT registers)</div><div class="t m0 x9 hf y26a9 ff3 fs5 fc0 sc0 ls0 ws0">to permit execution of the Program Longword operation.</div><div class="t m0 x9 hf y2773 ff3 fs5 fc0 sc0 ls0 ws0">The programming operation is unidirectional. It can only move NVM bits from the erased</div><div class="t m0 x9 hf y2774 ff3 fs5 fc0 sc0 ls0 ws0">state (&apos;1&apos;) to the programmed state (&apos;0&apos;). Erased bits that fail to program to the &apos;0&apos; state are</div><div class="t m0 x9 hf y2775 ff3 fs5 fc0 sc0 ls0 ws0">flagged as errors in FSTAT[MGSTAT0]. The CCIF flag is set after the Program</div><div class="t m0 x9 hf y2776 ff3 fs5 fc0 sc0 ls0 ws0">Longword operation completes.</div><div class="t m0 x9 hf y2777 ff3 fs5 fc0 sc0 ls0 ws0">The supplied address must be longword aligned (flash address [1:0] = 00):</div><div class="t m0 x33 hf y2778 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Byte 3 data is written to the supplied byte address (&apos;start&apos;),</div><div class="t m0 x33 hf y2779 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Byte 2 data is programmed to byte address start+0b01,</div><div class="t m0 x33 hf y277a ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Byte 1 data is programmed to byte address start+0b10, and</div><div class="t m0 x33 hf y277b ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Byte 0 data is programmed to byte address start+0b11.</div><div class="t m0 xd4 h9 y277c ff1 fs2 fc0 sc0 ls0 ws0">Table 27-36.<span class="_ _1a"> </span>Program Longword Command Error Handling</div><div class="t m0 x89 h10 y494 ff1 fs4 fc0 sc0 ls0 ws0">Error Condition<span class="_ _1f2"> </span>Error Bit</div><div class="t m0 x2c h7 y2109 ff2 fs4 fc0 sc0 ls0 ws0">Command not available in current mode/security<span class="_ _d1"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 y277d ff2 fs4 fc0 sc0 ls0 ws0">An invalid flash address is supplied<span class="_ _1f3"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 y210b ff2 fs4 fc0 sc0 ls0 ws0">Flash address is not longword aligned<span class="_ _1f4"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 y277e ff2 fs4 fc0 sc0 ls0 ws0">Flash address points to a protected area<span class="_ _128"> </span>FSTAT[FPVIOL]</div><div class="t m0 x1b h7 y277f ff5 fs4 fc0 sc0 ls0 ws0">Table continues on the next page...</div><div class="t m0 x150 h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 27 Flash Memory Module (FTFA)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>445</div><a class="l" href="#pf1bd" data-dest-detail='[445,"XYZ",null,433.8,null]'><div class="d m1" style="border-style:none;position:absolute;left:392.792000px;bottom:519.841000px;width:3.752000px;height:6.750000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
