<div id="pf1be" class="pf w0 h0" data-page-no="1be"><div class="pc pc1be w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg1be.png"/><div class="t m0 xfb h9 y1a5 ff1 fs2 fc0 sc0 ls0 ws0">Table 27-36.<span class="_ _1a"> </span>Program Longword Command Error Handling (continued)</div><div class="t m0 x89 h10 y1a6 ff1 fs4 fc0 sc0 ls0 ws0">Error Condition<span class="_ _1f2"> </span>Error Bit</div><div class="t m0 x2c h7 y1a7 ff2 fs4 fc0 sc0 ls0 ws0">Any errors have been encountered during the verify operation<span class="_ _1f5"> </span>FSTAT[MGSTAT0]</div><div class="t m0 x9 h1b y784 ff1 fsc fc0 sc0 ls0 ws0">27.4.10.5<span class="_ _b"> </span>Erase Flash Sector Command</div><div class="t m0 x9 hf y785 ff3 fs5 fc0 sc0 ls0 ws0">The Erase Flash Sector operation erases all addresses in a flash sector.</div><div class="t m0 x45 h9 y2780 ff1 fs2 fc0 sc0 ls0 ws0">Table 27-37.<span class="_ _1a"> </span>Erase Flash Sector Command FCCOB Requirements</div><div class="t m0 xb9 h10 y2781 ff1 fs4 fc0 sc0 ls0 ws0">FCCOB Number<span class="_ _11d"> </span>FCCOB Contents [7:0]</div><div class="t m0 x3d h7 y2782 ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _14"> </span>0x09 (ERSSCR)</div><div class="t m0 x3d h7 y2783 ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _108"> </span>Flash address [23:16] in the flash sector to be erased</div><div class="t m0 x3d h7 y2784 ff2 fs4 fc0 sc0 ls0 ws0">2<span class="_ _1f6"> </span>Flash address [15:8] in the flash sector to be erased</div><div class="t m0 x3d h17 y2785 ff2 fs4 fc0 sc0 ls0 ws0">3<span class="_ _6a"> </span>Flash address [7:0]<span class="fs9 fc1 ls142 v4">1</span> in the flash sector to be erased</div><div class="t m0 x9 h7 y2786 ff2 fs4 fc0 sc0 ls0 ws0">1.<span class="_ _68"> </span>Must be longword aligned (flash address [1:0] = 00).</div><div class="t m0 x9 hf y2787 ff3 fs5 fc0 sc0 ls0 ws0">After clearing CCIF to launch the Erase Flash Sector command, the flash memory</div><div class="t m0 x9 hf y2788 ff3 fs5 fc0 sc0 ls0 ws0">module erases the selected program flash sector and then verifies that it is erased. The</div><div class="t m0 x9 hf y2789 ff3 fs5 fc0 sc0 ls0 ws0">Erase Flash Sector command aborts if the selected sector is protected (see the description</div><div class="t m0 x9 hf y278a ff3 fs5 fc0 sc0 ls0 ws0">of the FPROT registers). If the erase-verify fails the FSTAT[MGSTAT0] bit is set. The</div><div class="t m0 x9 hf y278b ff3 fs5 fc0 sc0 ls0 ws0">CCIF flag is set after the Erase Flash Sector operation completes. The Erase Flash Sector</div><div class="t m0 x9 hf y278c ff3 fs5 fc0 sc0 ls0 ws0">command is suspendable (see the FCNFG[ERSSUSP] bit and <span class="fc1">Figure 27-26</span>).</div><div class="t m0 xe2 h9 y278d ff1 fs2 fc0 sc0 ls0 ws0">Table 27-38.<span class="_ _1a"> </span>Erase Flash Sector Command Error Handling</div><div class="t m0 x89 h10 y278e ff1 fs4 fc0 sc0 ls0 ws0">Error Condition<span class="_ _1df"> </span>Error Bit</div><div class="t m0 x2c h7 y278f ff2 fs4 fc0 sc0 ls0 ws0">Command not available in current mode/security<span class="_ _116"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 y2790 ff2 fs4 fc0 sc0 ls0 ws0">An invalid Flash address is supplied<span class="_ _1f7"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 ycc1 ff2 fs4 fc0 sc0 ls0 ws0">Flash address is not longword aligned<span class="_ _1d9"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 y2791 ff2 fs4 fc0 sc0 ls0 ws0">The selected program flash sector is protected<span class="_ _1f8"> </span>FSTAT[FPVIOL]</div><div class="t m0 x2c h7 y2792 ff2 fs4 fc0 sc0 ls0 ws0">Any errors have been encountered during the verify operation<span class="_ _b9"> </span>FSTAT[MGSTAT0]</div><div class="t m0 x9 h8 y2793 ff1 fs5 fc0 sc0 ls0 ws0">27.4.10.5.1<span class="_ _b"> </span>Suspending an Erase Flash Sector Operation</div><div class="t m0 x9 hf y2794 ff3 fs5 fc0 sc0 ls0 ws0">To suspend an Erase Flash Sector operation set the FCNFG[ERSSUSP] bit (see <span class="fc1">Flash</span></div><div class="t m0 x9 hf y2795 ff3 fs5 fc1 sc0 ls0 ws0">Configuration Field Description<span class="fc0">) when CCIF is clear and the CCOB command field holds</span></div><div class="t m0 x9 hf y2796 ff3 fs5 fc0 sc0 ls0 ws0">the code for the Erase Flash Sector command. During the Erase Flash Sector operation</div><div class="t m0 x9 hf y2797 ff3 fs5 fc0 sc0 ls0 ws0">(see <span class="fc1">Erase Flash Sector Command</span>), the flash memory module samples the state of the</div><div class="t m0 x9 hf y2798 ff3 fs5 fc0 sc0 ls0 ws0">ERSSUSP bit at convenient points. If the flash memory module detects that the</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional Description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">446<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div><a class="l" href="#pf1be" data-dest-detail='[446,"XYZ",null,453.3,null]'><div class="d m1" style="border-style:none;position:absolute;left:330.008000px;bottom:477.341000px;width:3.752000px;height:6.750000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1c0" data-dest-detail='[448,"XYZ",null,723.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:403.216000px;bottom:337.300000px;width:72.716000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1a6" data-dest-detail='[422,"XYZ",null,124.364,null]'><div class="d m1" style="border-style:none;position:absolute;left:503.526000px;bottom:134.000000px;width:30.338000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1a6" data-dest-detail='[422,"XYZ",null,124.364,null]'><div class="d m1" style="border-style:none;position:absolute;left:54.000000px;bottom:118.000000px;width:179.662000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1be" data-dest-detail='[446,"XYZ",null,632.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:80.040000px;bottom:86.000100px;width:166.040000px;height:13.999900px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
