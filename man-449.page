<div id="pf1c1" class="pf w0 h0" data-page-no="1c1"><div class="pc pc1c1 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg1c1.png"/><div class="t m0 x9 h1b y502 ff1 fsc fc0 sc0 ls0 ws0">27.4.10.6<span class="_ _b"> </span>Read 1s All Blocks Command</div><div class="t m0 x9 hf y503 ff3 fs5 fc0 sc0 ls0 ws0">The Read 1s All Blocks command checks if the program flash blocks have been erased to</div><div class="t m0 x9 hf y504 ff3 fs5 fc0 sc0 ls0 ws0">the specified read margin level, if applicable, and releases security if the readout passes,</div><div class="t m0 x9 hf y505 ff3 fs5 fc0 sc0 ls0 ws0">i.e. all data reads as &apos;1&apos;.</div><div class="t m0 xac h9 y27de ff1 fs2 fc0 sc0 ls0 ws0">Table 27-39.<span class="_ _1a"> </span>Read 1s All Blocks Command FCCOB Requirements</div><div class="t m0 xb9 h10 y27df ff1 fs4 fc0 sc0 ls0 ws0">FCCOB Number<span class="_ _11d"> </span>FCCOB Contents [7:0]</div><div class="t m0 x3d h7 y27e0 ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _1f9"> </span>0x40 (RD1ALL)</div><div class="t m0 x3d h7 y1428 ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _b2"> </span>Read-1 Margin Choice</div><div class="t m0 x9 hf y1c21 ff3 fs5 fc0 sc0 ls0 ws0">After clearing CCIF to launch the Read 1s All Blocks command, the flash memory</div><div class="t m0 x9 hf y27e1 ff3 fs5 fc0 sc0 ls0 ws0">module :</div><div class="t m0 x33 hf y1b99 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>sets the read margin for 1s according to <span class="fc1">Table 27-40</span>,</div><div class="t m0 x33 hf y1869 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>checks the contents of the program flash are in the erased state.</div><div class="t m0 x9 hf y22e6 ff3 fs5 fc0 sc0 ls0 ws0">If the flash memory module confirms that these memory resources are erased, security is</div><div class="t m0 x9 hf y1819 ff3 fs5 fc0 sc0 ls0 ws0">released by setting the FSEC[SEC] field to the unsecure state. The security byte in the</div><div class="t m0 x9 hf y181a ff3 fs5 fc0 sc0 ls0 ws0">flash configuration field (see <span class="fc1">Flash Configuration Field Description</span>) remains unaffected</div><div class="t m0 x9 hf y181b ff3 fs5 fc0 sc0 ls0 ws0">by the Read 1s All Blocks command. If the read fails, i.e. all memory resources are not in</div><div class="t m0 x9 hf y27e2 ff3 fs5 fc0 sc0 ls0 ws0">the fully erased state, the FSTAT[MGSTAT0] bit is set.</div><div class="t m0 x9 hf y181d ff3 fs5 fc0 sc0 ls0 ws0">The CCIF flag sets after the Read 1s All Blocks operation has completed.</div><div class="t m0 xd1 h9 y27e3 ff1 fs2 fc0 sc0 ls0 ws0">Table 27-40.<span class="_ _1a"> </span>Margin Level Choices for Read 1s All Blocks</div><div class="t m0 xf6 h10 y27e4 ff1 fs4 fc0 sc0 ls0 ws0">Read Margin Choice<span class="_ _b9"> </span>Margin Level Description</div><div class="t m0 x151 h7 y27e5 ff2 fs4 fc0 sc0 ls0 ws0">0x00<span class="_ _ae"> </span>Use the &apos;normal&apos; read level for 1s</div><div class="t m0 x151 h7 y27e6 ff2 fs4 fc0 sc0 ls0 ws0">0x01<span class="_ _108"> </span>Apply the &apos;User&apos; margin to the normal read-1 level</div><div class="t m0 x151 h7 y12fe ff2 fs4 fc0 sc0 ls0 ws0">0x02<span class="_ _bd"> </span>Apply the &apos;Factory&apos; margin to the normal read-1 level</div><div class="t m0 xe2 h9 y27e7 ff1 fs2 fc0 sc0 ls0 ws0">Table 27-41.<span class="_ _1a"> </span>Read 1s All Blocks Command Error Handling</div><div class="t m0 x89 h10 y27e8 ff1 fs4 fc0 sc0 ls0 ws0">Error Condition<span class="_ _1df"> </span>Error Bit</div><div class="t m0 x2c h7 y27e9 ff2 fs4 fc0 sc0 ls0 ws0">An invalid margin choice is specified<span class="_ _1fa"> </span>FSTAT[ACCERR]</div><div class="t m0 x2c h7 y27ea ff2 fs4 fc0 sc0 ls0 ws0">Read-1s fails<span class="_ _1e4"> </span>FSTAT[MGSTAT0]</div><div class="t m0 x150 h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 27 Flash Memory Module (FTFA)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>449</div><a class="l" href="#pf1c1" data-dest-detail='[449,"XYZ",null,353.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:302.728000px;bottom:493.400000px;width:68.040000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf1a6" data-dest-detail='[422,"XYZ",null,124.364,null]'><div class="d m1" style="border-style:none;position:absolute;left:218.850000px;bottom:419.400000px;width:213.500000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
