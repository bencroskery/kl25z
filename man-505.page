<div id="pf1f9" class="pf w0 h0" data-page-no="1f9"><div class="pc pc1f9 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg1f9.png"/><div class="t m0 x2 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>For software triggered conversions, immediately follow the write to SC1 with a</div><div class="t m0 x3d hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">Wait instruction or Stop instruction.</div><div class="t m0 x2 hf y504 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>For Normal Stop mode operation, select ADACK as the clock source. Operation</div><div class="t m0 x3d hf y505 ff3 fs5 fc0 sc0 ls0 ws0">in Normal Stop reduces V<span class="fs8 ws198 vc">DD</span> noise but increases effective conversion time due to</div><div class="t m0 x3d hf y629 ff3 fs5 fc0 sc0 ls0 ws0">stop recovery.</div><div class="t m0 x33 hf y673 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>There is no I/O switching, input or output, on the MCU during the conversion.</div><div class="t m0 x9 hf y2c7c ff3 fs5 fc0 sc0 ls0 ws0">There are some situations where external system activity causes radiated or conducted</div><div class="t m0 x9 hf y2c7d ff3 fs5 fc0 sc0 ls0 ws0">noise emissions or excessive V<span class="fs8 ws198 vc">DD</span> noise is coupled into the ADC. In these situations, or</div><div class="t m0 x9 hf y2c7e ff3 fs5 fc0 sc0 ls0 ws0">when the MCU cannot be placed in Wait or Normal Stop mode, or I/O activity cannot be</div><div class="t m0 x9 hf y2c7f ff3 fs5 fc0 sc0 ls0 ws0">halted, the following actions may reduce the effect of noise on the accuracy:</div><div class="t m0 x33 h38 y2c80 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Place a 0.01 <span class="ff2 ws1e5">μ</span>F capacitor (C<span class="fs8 ws198 vc">AS</span>) on the selected input channel to V<span class="fs8 ws198 vc">REFL</span> or V<span class="fs8 ws198 vc">SSA</span>. This</div><div class="t m0 x117 hf y2c81 ff3 fs5 fc0 sc0 ls0 ws0">improves noise issues, but affects the sample rate based on the external analog source</div><div class="t m0 x117 hf y2c82 ff3 fs5 fc0 sc0 ls0">resistance.</div><div class="t m0 x33 hf y2c83 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Average the result by converting the analog input many times in succession and</div><div class="t m0 x117 hf y15b3 ff3 fs5 fc0 sc0 ls0 ws0">dividing the sum of the results. Four samples are required to eliminate the effect of a</div><div class="t m0 x117 hf y15b4 ff3 fs5 fc0 sc0 ls0 ws0">1 LSB, one-time error.</div><div class="t m0 x33 hf y2af3 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Reduce the effect of synchronous noise by operating off the asynchronous clock, that</div><div class="t m0 x117 hf y2af4 ff3 fs5 fc0 sc0 ls0 ws0">is, ADACK, and averaging. Noise that is synchronous to ADCK cannot be averaged</div><div class="t m0 x117 hf y2af5 ff3 fs5 fc0 sc0 ls0">out.</div><div class="t m0 x9 h1b y2c84 ff1 fsc fc0 sc0 ls0 ws0">28.6.2.4<span class="_ _b"> </span>Code width and quantization error</div><div class="t m0 x9 hf y1d87 ff3 fs5 fc0 sc0 ls0 ws0">The ADC quantizes the ideal straight-line transfer function into 65536 steps in the 16-bit</div><div class="t m0 x9 hf yb4d ff3 fs5 fc0 sc0 ls0 ws0">mode). Each step ideally has the same height, that is, 1 code, and width. The width is</div><div class="t m0 x9 hf yb4e ff3 fs5 fc0 sc0 ls0 ws0">defined as the delta between the transition points to one code and the next. The ideal code</div><div class="t m0 x9 hf yb4f ff3 fs5 fc0 sc0 ls0 ws0">width for an N-bit converter, where N can be 16, 12, 10, or 8, defined as 1 LSB, is:</div><div class="c xaf y2c85 w4e h11c"><div class="t m0 xba h3 y2c86 ff2 fs1 fc0 sc0 ls0 ws0">LSB </div></div><div class="t m0 x3c h9 y2c87 ff1 fs2 fc0 sc0 ls0 ws0">Figure 28-66. Ideal code width for an N-bit converter</div><div class="t m0 x9 hf y2c88 ff3 fs5 fc0 sc0 ls0 ws0">There is an inherent quantization error due to the digitization of the result. For 8-bit, 10-</div><div class="t m0 x9 hf y2c89 ff3 fs5 fc0 sc0 ls0 ws0">bit, or 12-bit conversions, the code transitions when the voltage is at the midpoint</div><div class="t m0 x9 hf y2c8a ff3 fs5 fc0 sc0 ls0 ws0">between the points where the straight line transfer function is exactly represented by the</div><div class="t m0 x9 hf y2c8b ff3 fs5 fc0 sc0 ls0 ws0">actual transfer function. Therefore, the quantization error will be ± 1/2 LSB in 8-bit, 10-</div><div class="t m0 x9 hf y2c8c ff3 fs5 fc0 sc0 ls0 ws0">bit, or 12-bit modes. As a consequence, however, the code width of the first (0x000)</div><div class="t m0 x9 hf y2c8d ff3 fs5 fc0 sc0 ls0 ws0">conversion is only 1/2 LSB and the code width of the last (0xFF or 0x3FF) is 1.5 LSB.</div><div class="t m0 x61 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 28 Analog-to-Digital Converter (ADC)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>505</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
