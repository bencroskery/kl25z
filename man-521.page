<div id="pf209" class="pf w0 h0" data-page-no="209"><div class="pc pc209 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg209.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">The &quot;windowing mode&quot; is enabled by setting CR1[WE]. When set, the comparator output</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">is sampled only when WINDOW=1. This feature can be used to ignore the comparator</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">output during time periods in which the input voltages are not valid. This is especially</div><div class="t m0 x9 hf yf9 ff3 fs5 fc0 sc0 ls0 ws0">useful when implementing zero-crossing-detection for certain PWM applications.</div><div class="t m0 x9 hf y629 ff3 fs5 fc0 sc0 ls0 ws0">The comparator filter and sampling features can be combined as shown in the following</div><div class="t m0 x9 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">table. Individual modes are discussed below.</div><div class="t m0 x4 h9 y2767 ff1 fs2 fc0 sc0 ls0 ws0">Table 29-15.<span class="_ _1a"> </span>Comparator sample/filter controls</div><div class="t m0 x88 h6f y2dd7 ff1 fs4 fc0 sc0 ls0 ws0">Mode #<span class="_ _4"> </span>CR1[EN]<span class="_ _4c"> </span>CR1[WE]<span class="_ _4c"> </span>CR1[SE]<span class="_ _4c"> </span><span class="v14">CR0[FILTER_C</span></div><div class="t m0 x10e h6f yc28 ff1 fs4 fc0 sc0 ls0 ws3b8">NT] <span class="ws3b9 v14">FPR[FILT_PER] Operation</span></div><div class="t m0 x4f h10 y2dd8 ff2 fs4 fc0 sc0 ls0 ws3ba">1<span class="_ _44"> </span>0<span class="_ _44"> </span>X X<span class="_ _5f"> </span>X<span class="_ _132"> </span>X<span class="_ _8b"> </span><span class="ff1">Disabled</span></div><div class="t m0 x55 h7 y2dd9 ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Disabled mode (# 1)</span>.</div><div class="t m0 x50 h10 y2dda ff2 fs4 fc0 sc0 ls0 ws3bb">2A 1<span class="_ _44"> </span>0<span class="_ _54"> </span>0<span class="_ _9e"> </span>0x00<span class="_ _13a"> </span>X<span class="_ _96"> </span><span class="ff1 ws0">Continuous Mode</span></div><div class="t m0 x137 h7 y2ddb ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Continuous mode (#s 2A &amp;</span></div><div class="t m0 x9b h7 y2ddc ff2 fs4 fc1 sc0 ls0 ws190">2B)<span class="fc0">.</span></div><div class="t m0 x50 h7 y2ddd ff2 fs4 fc0 sc0 ls0 ws3bb">2B 1<span class="_ _44"> </span>0<span class="_ _54"> </span>0<span class="_ _150"> </span>X<span class="_ _13a"> </span>0x00</div><div class="t m0 x50 h10 y2dde ff2 fs4 fc0 sc0 ls0 ws3bb">3A 1<span class="_ _44"> </span>0<span class="_ _54"> </span>1<span class="_ _9e"> </span>0x01<span class="_ _13a"> </span>X<span class="_ _119"> </span><span class="ff1 ws0">Sampled, Non-Filtered mode</span></div><div class="t m0 x66 h7 y1199 ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Sampled, Non-Filtered</span></div><div class="t m0 x133 h7 y2ddf ff2 fs4 fc1 sc0 ls0 ws0">mode (#s 3A &amp; 3B)<span class="fc0">.</span></div><div class="t m0 x50 h7 y15f ff2 fs4 fc0 sc0 ls0 ws0">3B<span class="_ _36"> </span>1<span class="_ _44"> </span>0<span class="_ _54"> </span>0<span class="_ _9e"> </span>0x01<span class="_ _14f"> </span>&gt; 0x00</div><div class="t m0 x50 h10 y2de0 ff2 fs4 fc0 sc0 ls0 ws0">4A<span class="_ _36"> </span>1<span class="_ _44"> </span>0<span class="_ _54"> </span>1<span class="_ _148"> </span>&gt; 0x01<span class="_ _63"> </span>X<span class="_ _131"> </span><span class="ff1">Sampled, Filtered mode</span></div><div class="t m0 x11a h7 y2de1 ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Sampled, Filtered mode (#s</span></div><div class="t m0 x160 h7 y2de2 ff2 fs4 fc1 sc0 ls0 ws0">4A &amp; 4B)<span class="fc0">.</span></div><div class="t m0 x50 h7 y2de3 ff2 fs4 fc0 sc0 ls0 ws0">4B<span class="_ _36"> </span>1<span class="_ _44"> </span>0<span class="_ _54"> </span>0<span class="_ _148"> </span>&gt; 0x01<span class="_ _6d"> </span>&gt; 0x00</div><div class="t m0 x50 h10 y2de4 ff2 fs4 fc0 sc0 ls0 ws3bb">5A 1<span class="_ _44"> </span>1<span class="_ _54"> </span>0<span class="_ _9e"> </span>0x00<span class="_ _13a"> </span>X<span class="_ _db"> </span><span class="ff1 ws0">Windowed mode</span></div><div class="t m0 x6d h7 y2de5 ff2 fs4 fc0 sc0 ls0 ws0">Comparator output is sampled on</div><div class="t m0 x6d h7 y2de6 ff2 fs4 fc0 sc0 ls0 ws0">every rising bus clock edge when</div><div class="t m0 x6d h7 y2de7 ff2 fs4 fc0 sc0 ls0 ws0">SAMPLE=1 to generate COUTA.</div><div class="t m0 x161 h7 y2de8 ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Windowed mode (#s 5A &amp;</span></div><div class="t m0 x9b h7 y2de9 ff2 fs4 fc1 sc0 ls0 ws190">5B)<span class="fc0">.</span></div><div class="t m0 x50 h7 y2dea ff2 fs4 fc0 sc0 ls0 ws3bb">5B 1<span class="_ _44"> </span>1<span class="_ _54"> </span>0<span class="_ _150"> </span>X<span class="_ _13a"> </span>0x00</div><div class="t m0 x4f h10 y2deb ff2 fs4 fc0 sc0 ls0 ws39e">6 1 1 0<span class="_ _12d"> </span>0x01<span class="_ _98"> </span>0x01–0xFF<span class="_ _165"> </span><span class="ff1 ws0">Windowed/Resampled mode</span></div><div class="t m0 x6d h7 y2dec ff2 fs4 fc0 sc0 ls0 ws0">Comparator output is sampled on</div><div class="t m0 x6d h7 y2ded ff2 fs4 fc0 sc0 ls0 ws0">every rising bus clock edge when</div><div class="t m0 x6d h7 y2dee ff2 fs4 fc0 sc0 ls0 ws0">SAMPLE=1 to generate COUTA,</div><div class="t m0 x66 h7 y2def ff2 fs4 fc0 sc0 ls0 ws0">which is then resampled on an</div><div class="t m0 x11a h7 y2df0 ff2 fs4 fc0 sc0 ls0 ws0">interval determined by FILT_PER to</div><div class="t m0 x99 h7 y2df1 ff2 fs4 fc0 sc0 ls0 ws0">generate COUT.</div><div class="t m0 x66 h7 y2df2 ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Windowed/Resampled</span></div><div class="t m0 xd5 h7 y2df3 ff2 fs4 fc1 sc0 ls0 ws0">mode (# 6)<span class="fc0">.</span></div><div class="t m0 x4f h10 y2df4 ff2 fs4 fc0 sc0 ls0 ws0">7<span class="_ _44"> </span>1<span class="_ _54"> </span>1<span class="_ _44"> </span>0<span class="_ _a5"> </span>&gt; 0x01<span class="_ _1bd"> </span>0x01–0xFF<span class="_ _166"> </span><span class="ff1">Windowed/Filtered mode</span></div><div class="t m0 x6d h7 y2df5 ff2 fs4 fc0 sc0 ls0 ws0">Comparator output is sampled on</div><div class="t m0 x6d h7 y2df6 ff2 fs4 fc0 sc0 ls0 ws0">every rising bus clock edge when</div><div class="t m0 x6d h7 y2df7 ff2 fs4 fc0 sc0 ls0 ws0">SAMPLE=1 to generate COUTA,</div><div class="t m0 x11a h7 y2df8 ff2 fs4 fc0 sc0 ls0 ws0">which is then resampled and filtered</div><div class="t m0 x6e h7 y2df9 ff2 fs4 fc0 sc0 ls0 ws0">to generate COUT.</div><div class="t m0 x6d h7 y2dfa ff2 fs4 fc0 sc0 ls0 ws0">See the <span class="fc1">Windowed/Filtered mode</span></div><div class="t m0 x9b h7 y2dfb ff2 fs4 fc1 sc0 ls0 ws190">(#7)<span class="fc0">.</span></div><div class="t m0 x97 h7 y2dfc ff2 fs4 fc0 sc0 ls0 ws0">All other combinations of CR1[EN], CR1[WE], CR1[SE], CR0[FILTER_CNT], and FPR[FILT_PER] are illegal.</div><div class="t m0 xef h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 29 Comparator (CMP)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>521</div><a class="l" href="#pf20a" data-dest-detail='[522,"XYZ",null,557.9,null]'><div class="d m1" style="border-style:none;position:absolute;left:457.398000px;bottom:535.400000px;width:81.027000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20a" data-dest-detail='[522,"XYZ",null,465.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:445.388000px;bottom:503.500000px;width:107.549000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20a" data-dest-detail='[522,"XYZ",null,465.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:474.147000px;bottom:492.500000px;width:14.004000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20b" data-dest-detail='[523,"XYZ",null,525.9,null]'><div class="d m1" style="border-style:none;position:absolute;left:454.149000px;bottom:460.600000px;width:90.027000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20b" data-dest-detail='[523,"XYZ",null,525.9,null]'><div class="d m1" style="border-style:none;position:absolute;left:443.133000px;bottom:449.600000px;width:76.032000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20c" data-dest-detail='[524,"XYZ",null,243.891,null]'><div class="d m1" style="border-style:none;position:absolute;left:443.894000px;bottom:417.700000px;width:110.538000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20c" data-dest-detail='[524,"XYZ",null,243.891,null]'><div class="d m1" style="border-style:none;position:absolute;left:463.140000px;bottom:406.700000px;width:36.018000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20e" data-dest-detail='[526,"XYZ",null,319.091,null]'><div class="d m1" style="border-style:none;position:absolute;left:447.143000px;bottom:336.400000px;width:104.039000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf20e" data-dest-detail='[526,"XYZ",null,319.091,null]'><div class="d m1" style="border-style:none;position:absolute;left:474.147000px;bottom:325.400000px;width:14.004000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf210" data-dest-detail='[528,"XYZ",null,670.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:454.149000px;bottom:222.100000px;width:90.027000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf210" data-dest-detail='[528,"XYZ",null,670.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:459.392000px;bottom:211.100000px;width:43.515000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf211" data-dest-detail='[529,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:449.397000px;bottom:118.800000px;width:99.531000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf211" data-dest-detail='[529,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:473.148000px;bottom:107.800000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
