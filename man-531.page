<div id="pf213" class="pf w0 h0" data-page-no="213"><div class="pc pc213 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg213.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">The time required to stabilize COUT will be the power-on delay of the comparators plus</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">the largest propagation delay from a selected analog source through the analog</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">comparator, windowing function and filter. See the Data Sheets for power-on delays of</div><div class="t m0 x9 hf yf9 ff3 fs5 fc0 sc0 ls0 ws0">the comparators. The windowing function has a maximum of one bus clock period delay.</div><div class="t m0 x9 hf yfa ff3 fs5 fc0 sc0 ls0 ws0">The filter delay is specified in the <span class="fc1">Low-pass filter</span>.</div><div class="t m0 x9 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">During operation, the propagation delay of the selected data paths must always be</div><div class="t m0 x9 hf yabd ff3 fs5 fc0 sc0 ls0 ws0">considered. It may take many bus clock cycles for COUT and SCR[CFR]/SCR[CFF] to</div><div class="t m0 x9 hf y644 ff3 fs5 fc0 sc0 ls0 ws0">reflect an input change or a configuration change to one of the components involved in</div><div class="t m0 x9 hf y645 ff3 fs5 fc0 sc0 ls0 ws0">the data path.</div><div class="t m0 x9 hf yad6 ff3 fs5 fc0 sc0 ls0 ws0">When programmed for filtering modes, COUT will initially be equal to 0, until sufficient</div><div class="t m0 x9 hf yad7 ff3 fs5 fc0 sc0 ls0 ws0">clock cycles have elapsed to fill all stages of the filter. This occurs even if COUTA is at a</div><div class="t m0 x9 hf y2040 ff3 fs5 fc0 sc0 ls0 ws0">logic 1.</div><div class="t m0 x9 he y2f4f ff1 fs1 fc0 sc0 ls0 ws0">29.8.4<span class="_ _b"> </span>Low-pass filter</div><div class="t m0 x9 hf y1531 ff3 fs5 fc0 sc0 ls0 ws0">The low-pass filter operates on the unfiltered and unsynchronized and optionally inverted</div><div class="t m0 x9 hf yac1 ff3 fs5 fc0 sc0 ls0 ws0">comparator output COUTA and generates the filtered and synchronized output COUT.</div><div class="t m0 x9 hf yac2 ff3 fs5 fc0 sc0 ls0 ws0">Both COUTA and COUT can be configured as module outputs and are used for different</div><div class="t m0 x9 hf yac3 ff3 fs5 fc0 sc0 ls0 ws0">purposes within the system.</div><div class="t m0 x9 hf y2f50 ff3 fs5 fc0 sc0 ls0 ws0">Synchronization and edge detection are always used to determine status register bit</div><div class="t m0 x9 hf y2f51 ff3 fs5 fc0 sc0 ls0 ws0">values. They also apply to COUT for all sampling and windowed modes. Filtering can be</div><div class="t m0 x9 hf y2f52 ff3 fs5 fc0 sc0 ls0 ws0">performed using an internal timebase defined by FPR[FILT_PER], or using an external</div><div class="t m0 x9 hf yac7 ff3 fs5 fc0 sc0 ls0 ws0">SAMPLE input to determine sample time.</div><div class="t m0 x9 hf y2f53 ff3 fs5 fc0 sc0 ls0 ws0">The need for digital filtering and the amount of filtering is dependent on user</div><div class="t m0 x9 hf y2f54 ff3 fs5 fc0 sc0 ls0 ws0">requirements. Filtering can become more useful in the absence of an external hysteresis</div><div class="t m0 x9 hf y2f55 ff3 fs5 fc0 sc0 ls0 ws0">circuit. Without external hysteresis, high-frequency oscillations can be generated at</div><div class="t m0 x9 hf yacb ff3 fs5 fc0 sc0 ls0 ws0">COUTA when the selected INM and INP input voltages differ by less than the offset</div><div class="t m0 x9 hf yacc ff3 fs5 fc0 sc0 ls0 ws0">voltage of the differential comparator.</div><div class="t m0 x9 h1b y2f56 ff1 fsc fc0 sc0 ls0 ws0">29.8.4.1<span class="_ _b"> </span>Enabling filter modes</div><div class="t m0 x9 hf y2f57 ff3 fs5 fc0 sc0 ls0 ws0">Filter modes can be enabled by:</div><div class="t m0 x33 hf y2f58 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Setting CR0[FILTER_CNT] &gt; 0x01 and</div><div class="t m0 x33 hf y2f59 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Setting FPR[FILT_PER] to a nonzero value or setting CR1[SE]=1</div><div class="t m0 x9 hf y2f5a ff3 fs5 fc0 sc0 ls0 ws0">If using the divided bus clock to drive the filter, it will take samples of COUTA every</div><div class="t m0 x9 hf y2f5b ff3 fs5 fc0 sc0 ls0 ws0">FPR[FILT_PER] bus clock cycles.</div><div class="t m0 xef h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 29 Comparator (CMP)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>531</div><a class="l" href="#pf213" data-dest-detail='[531,"XYZ",null,493.9,null]'><div class="d m1" style="border-style:none;position:absolute;left:245.688000px;bottom:644.600000px;width:85.148000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
