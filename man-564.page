<div id="pf234" class="pf w0 h0" data-page-no="234"><div class="pc pc234 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg234.png"/><div class="c xbe y31f5 w59 h15a"><div class="t m0 x8b h26 y31f6 ff2 fsf fc0 sc0 ls0 ws3ea">0 0<span class="_ _ce"> </span>0</div><div class="t m0 x2e h26 y31f7 ff2 fsf fc0 sc0 ls0 ws3eb">1 1<span class="_ _ce"> </span>1<span class="_ _228"></span>1 1</div><div class="t m0 x29 h26 y31f6 ff2 fsf fc0 sc0 ls0 ws3eb">2 2 2<span class="_ _229"></span>2 2<span class="_ _22a"></span>3<span class="_ _a3"> </span>3<span class="_ _a3"> </span>3<span class="_ _22b"></span>3 3<span class="_ _22c"></span>4 4<span class="_ _ce"> </span>4</div><div class="t m0 x112 h25 y31f8 ff2 fse fc0 sc0 ls0 ws0">TOF bit</div><div class="t m0 x67 h25 y31f9 ff2 fse fc0 sc0 ls0 ws0">set TOF bit<span class="_ _1b3"> </span>set TOF bit</div><div class="t m0 xca h1a y31fa ff2 fsb fc0 sc0 ls0 ws0">period of counting = 2 x MOD x period of timer module counter clock</div><div class="t m0 x0 h1a y31fb ff2 fsb fc0 sc0 ls0 ws0">MOD = 0x0004</div><div class="t m0 xc0 h1a y31fc ff2 fsb fc0 sc0 ls0 ws0">period of timer module counter clock</div><div class="t m0 x0 h1a y31fd ff2 fsb fc0 sc0 ls0 ws0">Timer module counter</div></div><div class="t m0 x9e h9 y31fe ff1 fs2 fc0 sc0 ls0 ws0">Figure 31-80. Example of Up-Down Counting</div><div class="t m0 x9 h1b y31ff ff1 fsc fc0 sc0 ls0 ws0">31.4.3.3<span class="_ _b"> </span>Counter Reset</div><div class="t m0 x9 hf y3200 ff3 fs5 fc0 sc0 ls0 ws0">Any write to CNT resets the TPM counter and the channel outputs to their initial values</div><div class="t m0 x9 hf y3201 ff3 fs5 fc0 sc0 ls0 ws0">(except for channels in output compare mode).</div><div class="t m0 x9 he y3202 ff1 fs1 fc0 sc0 ls0 ws0">31.4.4<span class="_ _b"> </span>Input Capture Mode</div><div class="t m0 x9 hf y3203 ff3 fs5 fc0 sc0 ls0 ws0">The input capture mode is selected when (CPWMS = 0), (MSnB:MSnA = 0:0), and</div><div class="t m0 x9 hf y3204 ff3 fs5 fc0 sc0 ls0 ws0">(ELSnB:ELSnA â‰  0:0).</div><div class="t m0 x9 hf y3205 ff3 fs5 fc0 sc0 ls0 ws0">When a selected edge occurs on the channel input, the current value of the TPM counter</div><div class="t m0 x9 hf y3206 ff3 fs5 fc0 sc0 ls0 ws0">is captured into the CnV register, at the same time the CHnF bit is set and the channel</div><div class="t m0 x9 hf y3207 ff3 fs5 fc0 sc0 ls0 ws0">interrupt is generated if enabled by CHnIE = 1 (see the following figure).</div><div class="t m0 x9 hf y3208 ff3 fs5 fc0 sc0 ls0 ws0">When a channel is configured for input capture, the TPM_CHn pin is an edge-sensitive</div><div class="t m0 x9 hf y3209 ff3 fs5 fc0 sc0 ls0 ws0">input. ELSnB:ELSnA control bits determine which edge, falling or rising, triggers input-</div><div class="t m0 x9 hf y320a ff3 fs5 fc0 sc0 ls0 ws0">capture event. Note that the maximum frequency for the channel input signal to be</div><div class="t m0 x9 hf y320b ff3 fs5 fc0 sc0 ls0 ws0">detected correctly is counter clock divided by 4, which is required to meet Nyquist</div><div class="t m0 x9 hf y320c ff3 fs5 fc0 sc0 ls0 ws0">criteria for signal sampling.</div><div class="t m0 x9 hf y320d ff3 fs5 fc0 sc0 ls0 ws0">Writes to the CnV register are ignored in input capture mode.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional Description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">564<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
