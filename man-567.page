<div id="pf237" class="pf w0 h0" data-page-no="237"><div class="pc pc237 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg237.png"/><div class="t m0 x9 he y17c ff1 fs1 fc0 sc0 ls0 ws0">31.4.6<span class="_ _b"> </span>Edge-Aligned PWM (EPWM) Mode</div><div class="t m0 x9 hf y17d ff3 fs5 fc0 sc0 ls0 ws0">The edge-aligned mode is selected when (CPWMS = 0), and (MSnB:MSnA = 1:0). The</div><div class="t m0 x9 hf y80d ff3 fs5 fc0 sc0 ls0 ws0">EPWM period is determined by (MOD + 0x0001) and the pulse width (duty cycle) is</div><div class="t m0 x9 hf y80e ff3 fs5 fc0 sc0 ls0 ws0">determined by CnV.</div><div class="t m0 x9 hf y1d1d ff3 fs5 fc0 sc0 ls0 ws0">The CHnF bit is set and the channel (n) interrupt is generated (if CHnIE = 1) at the</div><div class="t m0 x9 hf y1d1e ff3 fs5 fc0 sc0 ls0 ws0">channel (n) match (TPM counter = CnV), that is, at the end of the pulse width.</div><div class="t m0 x9 hf y1d1f ff3 fs5 fc0 sc0 ls0 ws0">This type of PWM signal is called edge-aligned because the leading edges of all PWM</div><div class="t m0 x9 hf y1d20 ff3 fs5 fc0 sc0 ls0 ws0">signals are aligned with the beginning of the period, which is the same for all channels</div><div class="t m0 x9 hf y1d21 ff3 fs5 fc0 sc0 ls0 ws0">within an TPM.</div><div class="c x2e y3272 w5e h16a"><div class="t m0 x3e h26 y3273 ff2 fsf fc0 sc0 ls0 ws1bf">period</div><div class="t m0 x120 h26 y3274 ff2 fsf fc0 sc0 ls0 ws0">counter overflow<span class="_ _12d"> </span>counter overflow<span class="_ _12d"> </span>counter overflow</div><div class="t m0 x0 h26 y3275 ff2 fsf fc0 sc0 ls0 ws0">channel (n) output</div><div class="t m0 xad h26 y3276 ff2 fsf fc0 sc0 ls0 ws0">channel (n) match<span class="_ _54"> </span>channel (n) match<span class="_ _54"> </span><span class="v1b">channel (n) match</span></div><div class="t m0 xa9 h26 y3277 ff2 fsf fc0 sc0 ls0">pulse</div><div class="t m0 xa9 h26 y3278 ff2 fsf fc0 sc0 ls0">width</div></div><div class="t m0 xae h9 y3279 ff1 fs2 fc0 sc0 ls0 ws0">Figure 31-85. EPWM period and pulse width with ELSnB:ELSnA = 1:0</div><div class="t m0 x9 hf y327a ff3 fs5 fc0 sc0 ls0 ws0">If (ELSnB:ELSnA = 0:0) when the counter reaches the value in the CnV register, the</div><div class="t m0 x9 hf y327b ff3 fs5 fc0 sc0 ls0 ws0">CHnF bit is set and the channel (n) interrupt is generated (if CHnIE = 1), however the</div><div class="t m0 x9 hf y327c ff3 fs5 fc0 sc0 ls0 ws0">channel (n) output is not controlled by TPM.</div><div class="t m0 x9 hf y327d ff3 fs5 fc0 sc0 ls0 ws0">If (ELSnB:ELSnA = 1:0), then the channel (n) output is forced high at the counter</div><div class="t m0 x9 hf y327e ff3 fs5 fc0 sc0 ls0 ws0">overflow (when the zero is loaded into the TPM counter), and it is forced low at the</div><div class="t m0 x9 hf y327f ff3 fs5 fc0 sc0 ls0 ws0">channel (n) match (TPM counter = CnV) (see the following figure).</div><div class="c xd4 y3280 w5f h16b"><div class="t m0 x89 h26 y3281 ff2 fsf fc0 sc0 ls0 ws0">TOF bit</div><div class="t m0 x9 h26 y3282 ff2 fsf fc0 sc0 ls0 ws0">CHnF bit</div><div class="t m0 xf6 h26 y3283 ff2 fsf fc0 sc0 ls0">CNT</div><div class="t m0 x9d h26 y3284 ff2 fsf fc0 sc0 ls0 ws0">channel (n) output</div><div class="t m0 x0 h26 y3285 ff2 fsf fc0 sc0 ls0 ws0">MOD = 0x0008</div><div class="t m0 x0 h26 y3286 ff2 fsf fc0 sc0 ls0 ws0">CnV = 0x0005</div><div class="t m0 x37 h26 y3287 ff2 fsf fc0 sc0 ls0">counter</div><div class="t m0 x2 h16c y3288 ff2 fsf fc0 sc0 ls0 ws3ff">overflow <span class="ws0 v2c">channel (n)</span></div><div class="t m0 xb6 h16d y3289 ff2 fsf fc0 sc0 ls0 ws400">match <span class="v7">counter</span></div><div class="t m0 x12 h26 y328a ff2 fsf fc0 sc0 ls0">overflow</div><div class="t m4f x151 h16e y328b ff2 fsa9 fc0 sc0 ls0">...</div><div class="t m50 x29 h16f y328c ff2 fsaa fc0 sc0 ls0 ws401">0 1<span class="_ _b"> </span><span class="ls24e v0">2<span class="ls24f v0">3</span><span class="ls250">4<span class="ls251 v0">5</span></span></span><span class="ls252">6<span class="ls253 v0">7</span><span class="ls254">8<span class="ls255 v0">0</span><span class="ls256">1</span></span></span><span class="v0">2</span></div><div class="t m4f xdd h16e y328b ff2 fsa9 fc0 sc0 ls0">...</div><div class="t m0 xb1 h1a y328d ff2 fsb fc0 sc0 ls0 ws0">previous value</div></div><div class="t m0 x3c h9 y328e ff1 fs2 fc0 sc0 ls0 ws0">Figure 31-86. EPWM signal with ELSnB:ELSnA = 1:0</div><div class="t m0 x9 hf y328f ff3 fs5 fc0 sc0 ls0 ws0">If (ELSnB:ELSnA = X:1), then the channel (n) output is forced low at the counter</div><div class="t m0 x9 hf y3290 ff3 fs5 fc0 sc0 ls0 ws0">overflow (when zero is loaded into the TPM counter), and it is forced high at the channel</div><div class="t m0 x9 hf y3291 ff3 fs5 fc0 sc0 ls0 ws0">(n) match (TPM counter = CnV) (see the following figure).</div><div class="t m0 x7d h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 31 Timer/PWM Module (TPM)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>567</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
