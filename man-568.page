<div id="pf238" class="pf w0 h0" data-page-no="238"><div class="pc pc238 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg238.png"/><div class="c x67 y3292 w60 h170"><div class="t m0 x120 h26 y3293 ff2 fsf fc0 sc0 ls0 ws0">TOF bit</div><div class="t m0 x11d h26 y3294 ff2 fsf fc0 sc0 ls0 ws0">CHnF bit</div><div class="t m0 x9a h26 y3295 ff2 fsf fc0 sc0 ls0">CNT</div><div class="t m0 x9d h26 y3296 ff2 fsf fc0 sc0 ls0 ws0">channel (n) output</div><div class="t m0 x0 h26 y3297 ff2 fsf fc0 sc0 ls0 ws0">MOD = 0x0008</div><div class="t m0 x0 h26 y3298 ff2 fsf fc0 sc0 ls0 ws0">CnV = 0x0005<span class="_ _3d"> </span><span class="v2d">counter</span></div><div class="t m0 x97 h171 y3299 ff2 fsf fc0 sc0 ls0 ws402">overflow <span class="ws0 v7">channel (n)</span></div><div class="t m0 x51 h172 y329a ff2 fsf fc0 sc0 ls0 ws403">match <span class="v21">counter</span></div><div class="t m0 x145 h26 y329b ff2 fsf fc0 sc0 ls0">overflow</div><div class="t m4f x2 h16e y329c ff2 fsa9 fc0 sc0 ls0">...</div><div class="t m50 x153 h16f y329d ff2 fsaa fc0 sc0 ls0 ws404">0 1<span class="_ _b"> </span><span class="ls257 v0">2<span class="ls258 v0">3</span><span class="ls259">4<span class="ls25a v0">5</span></span></span><span class="ls252">6<span class="ls25b v0">7</span><span class="ls25c">8<span class="ls25d v0">0</span><span class="ls25e">1</span></span></span><span class="v0">2</span></div><div class="t m4f x13b h16e y329c ff2 fsa9 fc0 sc0 ls0">...</div><div class="t m0 xf1 h1a y329e ff2 fsb fc0 sc0 ls0 ws0">previous value</div></div><div class="t m0 x147 h9 y329f ff1 fs2 fc0 sc0 ls0 ws0">Figure 31-87. EPWM signal with ELSnB:ELSnA = X:1</div><div class="t m0 x9 hf y32a0 ff3 fs5 fc0 sc0 ls0 ws0">If (CnV = 0x0000), then the channel (n) output is a 0% duty cycle EPWM signal. If (CnV</div><div class="t m0 x9 hf y32a1 ff3 fs5 fc0 sc0 ls0 ws0">&gt; MOD), then the channel (n) output is a 100% duty cycle EPWM signal and CHnF bit is</div><div class="t m0 x9 hf y32a2 ff3 fs5 fc0 sc0 ls0 ws0">not set since there is never a channel (n) match. Therefore, MOD must be less than</div><div class="t m0 x9 hf y32a3 ff3 fs5 fc0 sc0 ls0 ws0">0xFFFF in order to get a 100% duty cycle EPWM signal.</div><div class="t m0 x9 he y32a4 ff1 fs1 fc0 sc0 ls0 ws0">31.4.7<span class="_ _b"> </span>Center-Aligned PWM (CPWM) Mode</div><div class="t m0 x9 hf y32a5 ff3 fs5 fc0 sc0 ls0 ws0">The center-aligned mode is selected when (CPWMS = 1) and (MSnB:MSnA = 1:0).</div><div class="t m0 x9 hf y32a6 ff3 fs5 fc0 sc0 ls0 ws0">The CPWM pulse width (duty cycle) is determined by 2 × CnV and the period is</div><div class="t m0 x9 hf y32a7 ff3 fs5 fc0 sc0 ls0 ws0">determined by 2 × MOD (see the following figure). MOD must be kept in the range of</div><div class="t m0 x9 hf y32a8 ff3 fs5 fc0 sc0 ls0 ws0">0x0001 to 0x7FFF because values outside this range can produce ambiguous results.</div><div class="t m0 x9 hf y32a9 ff3 fs5 fc0 sc0 ls0 ws0">In the CPWM mode, the TPM counter counts up until it reaches MOD and then counts</div><div class="t m0 x9 hf y32aa ff3 fs5 fc0 sc0 ls0 ws0">down until it reaches zero.</div><div class="t m0 x9 hf y32ab ff3 fs5 fc0 sc0 ls0 ws0">The CHnF bit is set and channel (n) interrupt is generated (if CHnIE = 1) at the channel</div><div class="t m0 x9 hf y32ac ff3 fs5 fc0 sc0 ls0 ws0">(n) match (TPM counter = CnV) when the TPM counting is down (at the begin of the</div><div class="t m0 x9 hf y32ad ff3 fs5 fc0 sc0 ls0 ws0">pulse width) and when the TPM counting is up (at the end of the pulse width).</div><div class="t m0 x9 hf y32ae ff3 fs5 fc0 sc0 ls0 ws0">This type of PWM signal is called center-aligned because the pulse width centers for all</div><div class="t m0 x9 hf y32af ff3 fs5 fc0 sc0 ls0 ws0">channels are when the TPM counter is zero.</div><div class="t m0 x9 hf y32b0 ff3 fs5 fc0 sc0 ls0 ws0">The other channel modes are not designed to be used with the up-down counter (CPWMS</div><div class="t m0 x9 hf y32b1 ff3 fs5 fc0 sc0 ls0 ws0">= 1). Therefore, all TPM channels should be used in CPWM mode when (CPWMS = 1).</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional Description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">568<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
