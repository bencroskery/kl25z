<div id="pf23b" class="pf w0 h0" data-page-no="23b"><div class="pc pc23b w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg23b.png"/><div class="t m0 x9 he y17c ff1 fs1 fc0 sc0 ls0 ws18f">31.4.9 DMA</div><div class="t m0 x9 hf y17d ff3 fs5 fc0 sc0 ls0 ws0">The channel generates a DMA transfer request according to DMA and CHnIE bits (see</div><div class="t m0 x9 hf y80d ff3 fs5 fc0 sc0 ls0 ws0">the following table).</div><div class="t m0 x9c h9 y330a ff1 fs2 fc0 sc0 ls0 ws0">Table 31-110.<span class="_ _1a"> </span>Channel DMA Transfer Request</div><div class="t m0 x52 h10 y180 ff1 fs4 fc0 sc0 ls0 ws0">DMA<span class="_ _14b"> </span>CHnIE<span class="_ _20f"> </span>Channel DMA Transfer Request<span class="_ _1a3"> </span>Channel Interrupt</div><div class="t m0 x4f h7 y330b ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _44"> </span>0<span class="_ _5c"> </span>The channel DMA transfer request is not</div><div class="t m0 x3c h7 y330c ff2 fs4 fc0 sc0 ls0">generated.</div><div class="t m0 xb7 h7 y330b ff2 fs4 fc0 sc0 ls0 ws0">The channel interrupt is not generated.</div><div class="t m0 x4f h7 y330d ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _44"> </span>1<span class="_ _5c"> </span>The channel DMA transfer request is not</div><div class="t m0 x3c h7 y330e ff2 fs4 fc0 sc0 ls0">generated.</div><div class="t m0 xb7 h7 y330d ff2 fs4 fc0 sc0 ls0 ws0">The channel interrupt is generated if (CHnF = 1).</div><div class="t m0 x4f h7 y330f ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _44"> </span>0<span class="_ _5c"> </span>The channel DMA transfer request is generated if</div><div class="t m0 x3c h7 y3310 ff2 fs4 fc0 sc0 ls0 ws0">(CHnF = 1).</div><div class="t m0 xb7 h7 y330f ff2 fs4 fc0 sc0 ls0 ws0">The channel interrupt is not generated.</div><div class="t m0 x4f h7 y3311 ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _44"> </span>1<span class="_ _5c"> </span>The channel DMA transfer request is generated if</div><div class="t m0 x3c h7 y3312 ff2 fs4 fc0 sc0 ls0 ws0">(CHnF = 1).</div><div class="t m0 xb7 h7 y3311 ff2 fs4 fc0 sc0 ls0 ws0">The channel interrupt is generated if (CHnF = 1).</div><div class="t m0 x9 hf y3313 ff3 fs5 fc0 sc0 ls0 ws0">If DMA = 1, the CHnF bit can be cleared either by channel DMA transfer done or writing</div><div class="t m0 x9 hf y2747 ff3 fs5 fc0 sc0 ls0 ws0">a one to CHnF bit (see the following table).</div><div class="t m0 x1a h9 y2748 ff1 fs2 fc0 sc0 ls0 ws0">Table 31-111.<span class="_ _1a"> </span>Clear CHnF Bit</div><div class="t m0 x52 h10 y2749 ff1 fs4 fc0 sc0 ls0 ws0">DMA<span class="_ _179"> </span>How CHnF Bit Can Be Cleared</div><div class="t m0 x4f h7 y274a ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _11e"> </span>CHnF bit is cleared by writing a 1 to CHnF bit.</div><div class="t m0 x4f h7 y274b ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _11e"> </span>CHnF bit is cleared either when the channel DMA transfer is done or by writing a 1 to CHnF bit.</div><div class="t m0 x9 he y3314 ff1 fs1 fc0 sc0 ls0 ws0">31.4.10<span class="_ _b"> </span>Reset Overview</div><div class="t m0 x9 hf y3315 ff3 fs5 fc0 sc0 ls0 ws0">The TPM is reset whenever any chip reset occurs.</div><div class="t m0 x9 hf y3316 ff3 fs5 fc0 sc0 ls0 ws0">When the TPM exits from reset:</div><div class="t m0 x33 hf y3317 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the TPM counter and the prescaler counter are zero and are stopped (CMOD[1:0] =</div><div class="t m0 x117 hf y3318 ff3 fs5 fc0 sc0 ls0">0:0);</div><div class="t m0 x33 hf y3319 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the timer overflow interrupt is zero;</div><div class="t m0 x33 hf y331a ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the channels interrupts are zero;</div><div class="t m0 x33 hf y331b ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the channels are in input capture mode;</div><div class="t m0 x33 hf y331c ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the channels outputs are zero;</div><div class="t m0 x33 hf y331d ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>the channels pins are not controlled by TPM (ELS(n)B:ELS(n)A = 0:0).</div><div class="t m0 x9 he y331e ff1 fs1 fc0 sc0 ls0 ws0">31.4.11<span class="_ _b"> </span>TPM Interrupts</div><div class="t m0 x9 hf y331f ff3 fs5 fc0 sc0 ls0 ws0">This section describes TPM interrupts.</div><div class="t m0 x7d h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 31 Timer/PWM Module (TPM)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>571</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
