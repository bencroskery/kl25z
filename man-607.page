<div id="pf25f" class="pf w0 h0" data-page-no="25f"><div class="pc pc25f w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg25f.png"/><div class="t m0 x9 h1b y502 ff1 fsc fc0 sc0 ls0 ws0">34.3.1.2<span class="_ _b"> </span>Software reset</div><div class="t m0 x9 hf y503 ff3 fs5 fc0 sc0 ls0 ws0">Writing one to the CR[SWR] forces the equivalent of a POR to the rest of the RTC</div><div class="t m0 x9 hf y504 ff3 fs5 fc0 sc0 ls0 ws0">module. The CR[SWR] is not affected by the software reset and must be cleared by</div><div class="t m0 x9 hf y505 ff3 fs5 fc0 sc0 ls0">software.</div><div class="t m0 x9 h1b y3597 ff1 fsc fc0 sc0 ls0 ws0">34.3.1.3<span class="_ _b"> </span>Supervisor access</div><div class="t m0 x9 hf y3598 ff3 fs5 fc0 sc0 ls0 ws0">When the supervisor access control bit is clear, only supervisor mode software can write</div><div class="t m0 x9 hf ya75 ff3 fs5 fc0 sc0 ls0 ws0">to the RTC registers, non-supervisor mode software will generate a bus error. Both</div><div class="t m0 x9 hf y62c ff3 fs5 fc0 sc0 ls0 ws0">supervisor and non-supervisor mode software can always read the RTC registers.</div><div class="t m0 x9 he y3599 ff1 fs1 fc0 sc0 ls0 ws0">34.3.2<span class="_ _b"> </span>Time counter</div><div class="t m0 x9 hf y359a ff3 fs5 fc0 sc0 ls0 ws0">The time counter consists of a 32-bit seconds counter that increments once every second</div><div class="t m0 x9 hf ya63 ff3 fs5 fc0 sc0 ls0 ws0">and a 16-bit prescaler register that increments once every 32.768 kHz clock cycle.</div><div class="t m0 x9 hf ya7a ff3 fs5 fc0 sc0 ls0 ws0">The time seconds register and time prescaler register can be written only when SR[TCE]</div><div class="t m0 x9 hf ya7b ff3 fs5 fc0 sc0 ls0 ws0">is clear. Always write to the prescaler register before writing to the seconds register,</div><div class="t m0 x9 hf y1789 ff3 fs5 fc0 sc0 ls0 ws0">because the seconds register increments on the falling edge of bit 14 of the prescaler</div><div class="t m0 x9 hf y178a ff3 fs5 fc0 sc0 ls0">register.</div><div class="t m0 x9 hf ye5 ff3 fs5 fc0 sc0 ls0 ws0">The time prescaler register increments provided SR[TCE] is set, SR[TIF] is clear,</div><div class="t m0 x9 hf ye6 ff3 fs5 fc0 sc0 ls0 ws0">SR[TOF] is clear, and the 32.768 kHz clock source is present. After enabling the</div><div class="t m0 x9 hf ye7 ff3 fs5 fc0 sc0 ls0 ws0">oscillator, wait the oscillator startup time before setting SR[TCE] to allow time for the</div><div class="t m0 x9 hf ye8 ff3 fs5 fc0 sc0 ls0 ws0">oscillator clock output to stabilize.</div><div class="t m0 x9 hf y19cf ff3 fs5 fc0 sc0 ls0 ws0">If the time seconds register overflows then the SR[TOF] will set and the time prescaler</div><div class="t m0 x9 hf yea ff3 fs5 fc0 sc0 ls0 ws0">register will stop incrementing. Clear SR[TOF] by initializing the time seconds register.</div><div class="t m0 x9 hf yeb ff3 fs5 fc0 sc0 ls0 ws0">The time seconds register and time prescaler register read as zero whenever SR[TOF] is</div><div class="t m0 x9 hf yec ff3 fs5 fc0 sc0 ls0">set.</div><div class="t m0 x9 hf y359b ff3 fs5 fc0 sc0 ls0 ws0">SR[TIF] is set on POR and software reset and is cleared by initializing the time seconds</div><div class="t m0 x9 hf y359c ff3 fs5 fc0 sc0 ls0 ws0">register. The time seconds register and time prescaler register read as zero whenever</div><div class="t m0 x9 hf y359d ff3 fs5 fc0 sc0 ls0 ws0">SR[TIF] is set.</div><div class="t m0 x9 he y359e ff1 fs1 fc0 sc0 ls0 ws18f">34.3.3 Compensation</div><div class="t m0 x9 hf y359f ff3 fs5 fc0 sc0 ls0 ws0">The compensation logic provides an accurate and wide compensation range and can</div><div class="t m0 x9 hf y2bb4 ff3 fs5 fc0 sc0 ls0 ws0">correct errors as high as 3906 ppm and as low as 0.12 ppm. The compensation factor</div><div class="t m0 x9 hf y2bb5 ff3 fs5 fc0 sc0 ls0 ws0">must be calculated externally to the RTC and supplied by software to the compensation</div><div class="t m0 x137 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 34 Real Time Clock (RTC)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>607</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
