<div id="pf261" class="pf w0 h0" data-page-no="261"><div class="pc pc261 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg261.png"/><div class="t m0 x9 he y17c ff1 fs1 fc0 sc0 ls0 ws0">34.3.5<span class="_ _b"> </span>Update mode</div><div class="t m0 x9 hf y17d ff3 fs5 fc0 sc0 ls0 ws0">The Update Mode bit in the Control register (CR[UM]) configures software write access</div><div class="t m0 x9 hf y80d ff3 fs5 fc0 sc0 ls0 ws0">to the Time Counter Enable (SR[TCE]) bit. When CR[UM] is clear, SR[TCE] can be</div><div class="t m0 x9 hf y80e ff3 fs5 fc0 sc0 ls0 ws0">written only when the LR[SRL] bit is set. When CR[UM] is set, the SR[TCE] can also be</div><div class="t m0 x9 hf y80f ff3 fs5 fc0 sc0 ls0 ws0">written when SR[TCE] is clear or when SR[TIF] or SR[TOF] are set. This allows the</div><div class="t m0 x9 hf y1919 ff3 fs5 fc0 sc0 ls0 ws0">time seconds and prescaler registers to be initialized whenever time is invalidated, while</div><div class="t m0 x9 hf y191a ff3 fs5 fc0 sc0 ls0 ws0">preventing the time seconds and prescaler registers from being changed on the fly. When</div><div class="t m0 x9 hf y191b ff3 fs5 fc0 sc0 ls0 ws0">LR[SRL] is set, CR[UM] has no effect on SR[TCE].</div><div class="t m0 x9 he y35a7 ff1 fs1 fc0 sc0 ls0 ws0">34.3.6<span class="_ _b"> </span>Register lock</div><div class="t m0 x9 hf y35a8 ff3 fs5 fc0 sc0 ls0 ws0">The lock register can be used to block write accesses to certain registers until the next</div><div class="t m0 x9 hf y2ac8 ff3 fs5 fc0 sc0 ls0 ws0">POR or software reset. Locking the control register will disable the software reset.</div><div class="t m0 x9 hf y2ac9 ff3 fs5 fc0 sc0 ls0 ws0">Locking the lock register will block future updates to the lock register.</div><div class="t m0 x9 hf y35a9 ff3 fs5 fc0 sc0 ls0 ws0">Write accesses to a locked register are ignored and do not generate a bus error.</div><div class="t m0 x9 he y35aa ff1 fs1 fc0 sc0 ls0 ws18f">34.3.7 Interrupt</div><div class="t m0 x9 hf y35ab ff3 fs5 fc0 sc0 ls0 ws0">The RTC interrupt is asserted whenever a status flag and the corresponding interrupt</div><div class="t m0 x9 hf y35ac ff3 fs5 fc0 sc0 ls0 ws0">enable bit are both set. It is always asserted on POR, and software reset. The RTC</div><div class="t m0 x9 hf y35ad ff3 fs5 fc0 sc0 ls0 ws0">interrupt is enabled at the chip level by enabling the chip-specific RTC clock gate control</div><div class="t m0 x9 hf y35ae ff3 fs5 fc0 sc0 ls0 ws0">bit. The RTC interrupt can be used to wakeup the chip from any low-power mode.</div><div class="t m0 x9 hf y35af ff3 fs5 fc0 sc0 ls0 ws0">The optional RTC seconds interrupt is an edge-sensitive interrupt with a dedicated</div><div class="t m0 x9 hf y35b0 ff3 fs5 fc0 sc0 ls0 ws0">interrupt vector that is generated once a second and requires no software overhead (there</div><div class="t m0 x9 hf y35b1 ff3 fs5 fc0 sc0 ls0 ws0">is no corresponding status flag to clear). It is enabled in the RTC by the time seconds</div><div class="t m0 x9 hf y35b2 ff3 fs5 fc0 sc0 ls0 ws0">interrupt enable bit and enabled at the chip level by setting the chip-specific RTC clock</div><div class="t m0 x9 hf y35b3 ff3 fs5 fc0 sc0 ls0 ws0">gate control bit. This interrupt is optional and may not be implemented on all devices.</div><div class="t m0 x137 h10 y452 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 34 Real Time Clock (RTC)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>609</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
