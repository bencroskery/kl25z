<div id="pf269" class="pf w0 h0" data-page-no="269"><div class="pc pc269 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg269.png"/><div class="t m0 x33 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Who owns the buffer in system memory</div><div class="t m0 x33 hf y503 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Data0 or Data1 PID</div><div class="t m0 x33 hf y6d9 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Whether to release ownership upon packet completion</div><div class="t m0 x33 hf y6da ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>No address increment (FIFO mode)</div><div class="t m0 x33 hf y207c ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Whether data toggle synchronization is enabled</div><div class="t m0 x33 hf y207d ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>How much data is to be transmitted or received</div><div class="t m0 x33 hf y207e ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Where the buffer resides in system memory</div><div class="t m0 x9 hf y3632 ff3 fs5 fc0 sc0 ls0 ws0">While the processor uses the data stored in the BDs to determine:</div><div class="t m0 x33 hf y3633 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Who owns the buffer in system memory</div><div class="t m0 x33 hf y3634 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Data0 or Data1 PID</div><div class="t m0 x33 hf y3635 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>The received TOKEN PID</div><div class="t m0 x33 hf y3636 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>How much data was transmitted or received</div><div class="t m0 x33 hf y3637 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>Where the buffer resides in system memory</div><div class="t m0 x9 hf y3638 ff3 fs5 fc0 sc0 ls0 ws0">The format for the BD is shown in the following figure.</div><div class="t m0 x7a h9 y3639 ff1 fs2 fc0 sc0 ls0 ws0">Table 35-3.<span class="_ _1a"> </span>Buffer descriptor format</div><div class="t m0 x4b h7 y363a ff2 fs4 fc0 sc0 ls0 ws431">31:26<span class="_ _bb"> </span>25:16<span class="_ _5c"> </span>15:8<span class="_ _14d"> </span>7<span class="_ _50"> </span>6<span class="_ _9e"> </span>5 4 3<span class="_ _ab"> </span>2<span class="_ _166"> </span>1<span class="_ _196"> </span>0</div><div class="t m0 xf6 h191 y363b ff2 fs4 fc0 sc0 ls0 ws432">RSVD <span class="v21">BC</span></div><div class="t m0 x41 h192 y363c ff2 fs4 fc0 sc0 ls0 ws0">(10 bits)<span class="_ _4"> </span><span class="ws433 v21">RSVD<span class="_ _6"> </span>OWN DATA0/1<span class="_ _12c"> </span></span><span class="v2e">KEEP/</span></div><div class="t m0 x106 h7 y363c ff2 fs4 fc0 sc0 ls0">TOK_PID[3]</div><div class="t m0 x169 h7 y363d ff2 fs4 fc0 sc0 ls0">NINC/</div><div class="t m0 x111 h7 y363c ff2 fs4 fc0 sc0 ls0">TOK_PID[2]</div><div class="t m0 x6d h7 y363d ff2 fs4 fc0 sc0 ls0">DTS/</div><div class="t m0 x80 h7 y363c ff2 fs4 fc0 sc0 ls0">TOK_PID[1]</div><div class="t m0 x164 h7 y363d ff2 fs4 fc0 sc0 ls0">BDT_STALL/</div><div class="t m0 x139 h191 y363c ff2 fs4 fc0 sc0 ls0 ws434">TOK_PID[0] <span class="ws435 v21">0 0</span></div><div class="t m0 xfa h7 y363e ff2 fs4 fc0 sc0 ls0 ws0">Buffer Address (32-Bits)</div><div class="t m0 x30 h9 y363f ff1 fs2 fc0 sc0 ls0 ws0">Table 35-4.<span class="_ _1a"> </span>Buffer descriptor fields</div><div class="t m0 x8e h10 y3640 ff1 fs4 fc0 sc0 ls0 ws436">Field Description</div><div class="t m0 x37 h7 y3641 ff2 fs4 fc0 sc0 ls0">31–26</div><div class="t m0 x37 h7 y3642 ff2 fs4 fc0 sc0 ls0">RSVD</div><div class="t m0 xbc h7 y3641 ff2 fs4 fc0 sc0 ls0">Reserved</div><div class="t m0 x37 h7 y3643 ff2 fs4 fc0 sc0 ls0">25–16</div><div class="t m0 x2e h7 y3644 ff2 fs4 fc0 sc0 ls0">BC</div><div class="t m0 xbc h7 y3643 ff2 fs4 fc0 sc0 ls0 ws0">Byte Count</div><div class="t m0 xbc h7 y3644 ff2 fs4 fc0 sc0 ls0 ws0">Represents the 10-bit byte count. The USB-FS SIE changes this field upon the completion of a RX</div><div class="t m0 xbc h7 y3645 ff2 fs4 fc0 sc0 ls0 ws0">transfer with the byte count of the data received.</div><div class="t m0 x8e h7 y3646 ff2 fs4 fc0 sc0 ls0">15–8</div><div class="t m0 x37 h7 y3647 ff2 fs4 fc0 sc0 ls0">RSVD</div><div class="t m0 xbc h7 y3646 ff2 fs4 fc0 sc0 ls0">Reserved</div><div class="t m0 x1b h7 y3648 ff5 fs4 fc0 sc0 ls0 ws0">Table continues on the next page...</div><div class="t m0 xea h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 35 Universal Serial Bus OTG Controller (USBOTG)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>617</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
