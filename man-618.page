<div id="pf26a" class="pf w0 h0" data-page-no="26a"><div class="pc pc26a w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg26a.png"/><div class="t m0 x4c h9 y1a5 ff1 fs2 fc0 sc0 ls0 ws0">Table 35-4.<span class="_ _1a"> </span>Buffer descriptor fields (continued)</div><div class="t m0 x8e h10 y22f ff1 fs4 fc0 sc0 ls0 ws436">Field Description</div><div class="t m0 x41 h7 y230 ff2 fs4 fc0 sc0 ls0">7</div><div class="t m0 x151 h7 y8e0 ff2 fs4 fc0 sc0 ls0">OWN</div><div class="t m0 xbc h7 y230 ff2 fs4 fc0 sc0 ls0 ws0">Determines whether the processor or the USB-FS currently owns the buffer. Except when KEEP=1,</div><div class="t m0 xbc h7 y231 ff2 fs4 fc0 sc0 ls0 ws0">the SIE hands ownership back to the processor after completing the token by clearing this bit.</div><div class="t m0 xbc h7 y8e1 ff2 fs4 fc0 sc0 ls0 ws0">This must always be the last byte of the BD that the processor updates when it initializes a BD.</div><div class="t m0 xbc h7 y3649 ff2 fs4 fc0 sc0 ls0 ws0">0 The processor has exclusive access to the BD. The USB-FS ignores all other fields in the BD.</div><div class="t m0 xbc h7 y227f ff2 fs4 fc0 sc0 ls0 ws0">1 USB-FS has exclusive access to the BD. After the BD has been assigned to the USB-FS, the</div><div class="t m0 xbc h7 y364a ff2 fs4 fc0 sc0 ls0 ws0">processor should not change it in any way.</div><div class="t m0 x41 h7 y364b ff2 fs4 fc0 sc0 ls0">6</div><div class="t m0 x94 h7 y364c ff2 fs4 fc0 sc0 ls0">DATA0/1</div><div class="t m0 xbc h7 y364b ff2 fs4 fc0 sc0 ls0 ws0">Defines whether a DATA0 field (DATA0/1=0) or a DATA1 (DATA0/1=1) field was transmitted or</div><div class="t m0 xbc h7 y364d ff2 fs4 fc0 sc0 ls0 ws0">received. It is unchanged by the USB-FS.</div><div class="t m0 x41 h7 y364e ff2 fs4 fc0 sc0 ls0">5</div><div class="t m0 x37 h7 y364f ff2 fs4 fc0 sc0 ls0">KEEP/</div><div class="t m0 x3a h7 y3650 ff2 fs4 fc0 sc0 ls0">TOK_PID[3]</div><div class="t m0 xbc h7 y364e ff2 fs4 fc0 sc0 ls0 ws0">Typically, this bit is 1 with ISO endpoints feeding a FIFO. The microprocessor is not informed that a</div><div class="t m0 xbc h7 y3651 ff2 fs4 fc0 sc0 ls0 ws0">token has been processed, the data is simply transferred to or from the FIFO. When KEEP is set,</div><div class="t m0 xbc h7 y3652 ff2 fs4 fc0 sc0 ls0 ws0">normally the NINC bit is also set to prevent address increment.</div><div class="t m0 xbc h7 y3653 ff2 fs4 fc0 sc0 ls0 ws0">0 Bit 3 of the current token PID is written back to the BD by the USB-FS. Allows the USB-FS to</div><div class="t m0 xbc h7 y3654 ff2 fs4 fc0 sc0 ls0 ws0">release the BD when a token has been processed.</div><div class="t m0 xbc h7 y3655 ff2 fs4 fc0 sc0 ls0 ws0">1 This bit is unchanged by the USB-FS. If the OWN bit also is set, the BD remains owned by the</div><div class="t m0 xbc h7 y3656 ff2 fs4 fc0 sc0 ls0 ws0">USB-FS forever.</div><div class="t m0 x41 h7 y3657 ff2 fs4 fc0 sc0 ls0">4</div><div class="t m0 x37 h7 y3658 ff2 fs4 fc0 sc0 ls0">NINC/</div><div class="t m0 x3a h7 y3659 ff2 fs4 fc0 sc0 ls0">TOK_PID[2]</div><div class="t m0 xbc h7 y3657 ff2 fs4 fc0 sc0 ls0 ws0">No Increment (NINC)</div><div class="t m0 xbc h7 y3658 ff2 fs4 fc0 sc0 ls0 ws0">Disables the DMA engine address increment. This forces the DMA engine to read or write from the</div><div class="t m0 xbc h7 y365a ff2 fs4 fc0 sc0 ls0 ws0">same address. This is useful for endpoints when data needs to be read from or written to a single</div><div class="t m0 xbc h7 y365b ff2 fs4 fc0 sc0 ls0 ws0">location such as a FIFO. Typically this bit is set with the KEEP bit for ISO endpoints that are</div><div class="t m0 xbc h7 y365c ff2 fs4 fc0 sc0 ls0 ws0">interfacing to a FIFO.</div><div class="t m0 xbc h7 y365d ff2 fs4 fc0 sc0 ls0 ws0">0 The USB-FS writes bit 2 of the current token PID to the BD.</div><div class="t m0 xbc h7 y365e ff2 fs4 fc0 sc0 ls0 ws0">1 This bit is unchanged by the USB-FS.</div><div class="t m0 x41 h7 y365f ff2 fs4 fc0 sc0 ls0">3</div><div class="t m0 x8e h7 y3660 ff2 fs4 fc0 sc0 ls0">DTS/</div><div class="t m0 x3a h7 y3661 ff2 fs4 fc0 sc0 ls0">TOK_PID[1]</div><div class="t m0 xbc h7 y365f ff2 fs4 fc0 sc0 ls0 ws0">Setting this bit enables the USB-FS to perform Data Toggle Synchronization.</div><div class="t m0 x3 h7 y3662 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>If KEEP=0, bit 1 of the current token PID is written back to the BD.</div><div class="t m0 x3 h7 y3663 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>If KEEP=1, this bit is unchanged by the USB-FS.</div><div class="t m0 xbc h7 y3347 ff2 fs4 fc0 sc0 ls0 ws0">0 Data Toggle Synchronization is disabled.</div><div class="t m0 xbc h7 y3664 ff2 fs4 fc0 sc0 ls0 ws0">1 Enables the USB-FS to perform Data Toggle Synchronization.</div><div class="t m0 x41 h7 y2978 ff2 fs4 fc0 sc0 ls0">2</div><div class="t m0 x3a h7 y3665 ff2 fs4 fc0 sc0 ls0">BDT_STALL</div><div class="t m0 x3a h7 y3666 ff2 fs4 fc0 sc0 ls0">TOK_PID[0]</div><div class="t m0 xbc h7 y2978 ff2 fs4 fc0 sc0 ls0 ws0">Setting this bit causes the USB-FS to issue a STALL handshake if a token is received by the SIE</div><div class="t m0 xbc h7 y3667 ff2 fs4 fc0 sc0 ls0 ws0">that would use the BDT in this location. The BDT is not consumed by the SIE (the owns bit remains</div><div class="t m0 xbc h7 y11a3 ff2 fs4 fc0 sc0 ls0 ws0">set and the rest of the BDT is unchanged) when a BDT-STALL bit is set.</div><div class="t m0 x3 h7 y168c ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>If KEEP=0, bit 0 of the current token PID is written back to the BD.</div><div class="t m0 x3 h7 y1234 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>If KEEP=1, this bit is unchanged by the USB-FS.</div><div class="t m0 xbc h7 y1235 ff2 fs4 fc0 sc0 ls0 ws0">0 No stall issued.</div><div class="t m0 xbc h7 y3668 ff2 fs4 fc0 sc0 ls0 ws0">1 The BDT is not consumed by the SIE (the OWN bit remains set and the rest of the BDT is</div><div class="t m0 xbc h7 y3669 ff2 fs4 fc0 sc0 ls0">unchanged).</div><div class="t m0 x1b h7 y366a ff5 fs4 fc0 sc0 ls0 ws0">Table continues on the next page...</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Programmers interface</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">618<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
