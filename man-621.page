<div id="pf26d" class="pf w0 h0" data-page-no="26d"><div class="pc pc26d w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg26d.png"/><div class="t m0 x83 h9 y1a5 ff1 fs2 fc0 sc0 ls0 ws0">Table 35-5.<span class="_ _1a"> </span>USB responses to DMA overrun errors (continued)</div><div class="t m0 x7e h10 y1a6 ff1 fs4 fc0 sc0 ls0 ws0">Errors due to Memory Latency<span class="_ _75"> </span>Errors due to Oversized Packets</div><div class="t m0 xb9 h7 y1a7 ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>For host mode, the TOKDNE interrupt is generated and</div><div class="t m0 x3a h7 y1a8 ff2 fs4 fc0 sc0 ls0 ws0">the TOK_PID field of the BDT is 1111 to indicate the</div><div class="t m0 x3a h7 y1a9 ff2 fs4 fc0 sc0 ls0 ws0">DMA latency error. Host mode software can decide to</div><div class="t m0 x3a h7 y1db ff2 fs4 fc0 sc0 ls0 ws0">retry or move to next scheduled item.</div><div class="t m0 xb9 h7 y1dc ff2 fs4 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>In device mode, the BDT is not written back nor is the</div><div class="t m0 x3a h7 y1dd ff2 fs4 fc0 sc0 ls0 ws0">TOKDNE interrupt triggered because it is assumed that</div><div class="t m0 x3a h7 y1de ff2 fs4 fc0 sc0 ls0 ws0">a second attempt is queued and will succeed in the</div><div class="t m0 x3a h7 y1df ff2 fs4 fc0 sc0 ls0">future.</div><div class="t m0 x2d h7 y1a7 ff2 fs4 fc0 sc0 ls0 ws0">The packet length field written back to the BDT is the</div><div class="t m0 x2d h7 y1a8 ff2 fs4 fc0 sc0 ls0 ws0">MaxPacket value that represents the length of the clipped</div><div class="t m0 x2d h7 y1a9 ff2 fs4 fc0 sc0 ls0 ws0">data actually written to memory.</div><div class="t m0 x2c h7 y7fe ff2 fs4 fc0 sc0 ls0 ws0">From here, the software can decide an appropriate course of action for future transactions such as stalling the endpoint,</div><div class="t m0 x2c h7 y47e ff2 fs4 fc0 sc0 ls0 ws0">canceling the transfer, disabling the endpoint, etc.</div><div class="t m0 x9 hd y36ac ff1 fs7 fc0 sc0 ls0 ws0">35.4<span class="_ _b"> </span>Memory map/Register definitions</div><div class="t m0 x9 hf y1817 ff3 fs5 fc0 sc0 ls0 ws0">This section provides the memory map and detailed descriptions of all USB interface</div><div class="t m0 x9 hf y22e6 ff3 fs5 fc0 sc0 ls0">registers.</div><div class="t m0 x10 h9 y36ad ff1 fs2 fc0 sc0 ls0 ws0">USB memory map</div><div class="t m0 x88 h10 y36ae ff1 fs4 fc0 sc0 ls0">Absolute</div><div class="t m0 x33 h10 y36af ff1 fs4 fc0 sc0 ls0">address</div><div class="t m0 x50 h10 y36b0 ff1 fs4 fc0 sc0 ls0">(hex)</div><div class="t m0 x30 h6f y36af ff1 fs4 fc0 sc0 ls0 ws0">Register name<span class="_ _20"> </span><span class="v14">Width</span></div><div class="t m0 x78 h70 y36b1 ff1 fs4 fc0 sc0 ls0 ws0">(in bits)<span class="_ _110"> </span><span class="v14">Access<span class="_ _90"> </span>Reset value<span class="_ _20f"> </span><span class="v14">Section/</span></span></div><div class="t m0 x12e h10 y36b1 ff1 fs4 fc0 sc0 ls0">page</div><div class="t m0 xf6 h7 y36b2 ff2 fs4 fc0 sc0 ls0 ws0">4007_2000<span class="_ _90"> </span>Peripheral ID register (USB0_PERID)<span class="_ _fa"> </span>8<span class="_ _3c"> </span>R<span class="_ _57"> </span>04h<span class="_ _14d"> </span><span class="fc1">35.4.1/623</span></div><div class="t m0 xf6 h7 y36b3 ff2 fs4 fc0 sc0 ls0 ws0">4007_2004<span class="_ _90"> </span>Peripheral ID Complement register (USB0_IDCOMP)<span class="_ _12d"> </span>8<span class="_ _3c"> </span>R<span class="_ _45"> </span>FBh<span class="_ _115"> </span><span class="fc1">35.4.2/624</span></div><div class="t m0 xf6 h7 y36b4 ff2 fs4 fc0 sc0 ls0 ws0">4007_2008<span class="_ _90"> </span>Peripheral Revision register (USB0_REV)<span class="_ _a4"> </span>8<span class="_ _3c"> </span>R<span class="_ _57"> </span>33h<span class="_ _43"> </span><span class="fc1">35.4.3/624</span></div><div class="t m0 x9a h7 y36b5 ff2 fs4 fc0 sc0 ls0 ws0">4007_200C<span class="_ _1a"> </span>Peripheral Additional Info register (USB0_ADDINFO)<span class="_ _92"> </span>8<span class="_ _55"> </span>R<span class="_ _1bd"> </span>01h<span class="_ _43"> </span><span class="fc1">35.4.4/625</span></div><div class="t m0 xf6 h7 y36b6 ff2 fs4 fc0 sc0 ls0 ws0">4007_2010<span class="_ _90"> </span>OTG Interrupt Status register (USB0_OTGISTAT)<span class="_ _2c"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3e"> </span>00h<span class="_ _43"> </span><span class="fc1">35.4.5/625</span></div><div class="t m0 xf6 h7 y36b7 ff2 fs4 fc0 sc0 ls0 ws0">4007_2014<span class="_ _90"> </span>OTG Interrupt Control Register (USB0_OTGICR)<span class="_ _9a"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _14d"> </span><span class="fc1">35.4.6/626</span></div><div class="t m0 xf6 h7 y36b8 ff2 fs4 fc0 sc0 ls0 ws0">4007_2018<span class="_ _90"> </span>OTG Status register (USB0_OTGSTAT)<span class="_ _15f"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _14d"> </span><span class="fc1">35.4.7/627</span></div><div class="t m0 x9a h7 y36b9 ff2 fs4 fc0 sc0 ls0 ws0">4007_201C<span class="_ _1a"> </span>OTG Control register (USB0_OTGCTL)<span class="_ _20c"> </span>8<span class="_ _14d"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _14d"> </span><span class="fc1">35.4.8/628</span></div><div class="t m0 xf6 h7 y36ba ff2 fs4 fc0 sc0 ls0 ws0">4007_2080<span class="_ _90"> </span>Interrupt Status register (USB0_ISTAT)<span class="_ _181"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _14d"> </span><span class="fc1">35.4.9/629</span></div><div class="t m0 xf6 h86 y36bb ff2 fs4 fc0 sc0 ls0 ws0">4007_2084<span class="_ _90"> </span>Interrupt Enable register (USB0_INTEN)<span class="_ _13c"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _3e"> </span><span class="fc1 v14">35.4.10/</span></div><div class="t m0 x128 h7 y36bc ff2 fs4 fc1 sc0 ls0">630</div><div class="t m0 xf6 h86 y36bd ff2 fs4 fc0 sc0 ls0 ws0">4007_2088<span class="_ _90"> </span>Error Interrupt Status register (USB0_ERRSTAT)<span class="_ _94"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3e"> </span>00h<span class="_ _3e"> </span><span class="fc1 v14">35.4.11/</span></div><div class="t m0 x128 h7 y36be ff2 fs4 fc1 sc0 ls0">631</div><div class="t m0 x9a h86 y36bf ff2 fs4 fc0 sc0 ls0 ws0">4007_208C<span class="_ _1a"> </span>Error Interrupt Enable register (USB0_ERREN)<span class="_ _73"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3e"> </span>00h<span class="_ _3e"> </span><span class="fc1 v14">35.4.12/</span></div><div class="t m0 x128 h7 y36c0 ff2 fs4 fc1 sc0 ls0">632</div><div class="t m0 xf6 h86 y36c1 ff2 fs4 fc0 sc0 ls0 ws0">4007_2090<span class="_ _90"> </span>Status register (USB0_STAT)<span class="_ _e3"> </span>8<span class="_ _3e"> </span>R<span class="_ _57"> </span>00h<span class="_ _3e"> </span><span class="fc1 v14">35.4.13/</span></div><div class="t m0 x128 h7 y36c2 ff2 fs4 fc1 sc0 ls0">633</div><div class="t m0 xf6 h86 y36c3 ff2 fs4 fc0 sc0 ls0 ws0">4007_2094<span class="_ _90"> </span>Control register (USB0_CTL)<span class="_ _239"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _3e"> </span><span class="fc1 v14">35.4.14/</span></div><div class="t m0 x128 h7 y36c4 ff2 fs4 fc1 sc0 ls0">634</div><div class="t m0 xf6 h86 y36c5 ff2 fs4 fc0 sc0 ls0 ws0">4007_2098<span class="_ _90"> </span>Address register (USB0_ADDR)<span class="_ _23b"> </span>8<span class="_ _43"> </span>R/W<span class="_ _3f"> </span>00h<span class="_ _3e"> </span><span class="fc1 v14">35.4.15/</span></div><div class="t m0 x128 h7 y36c6 ff2 fs4 fc1 sc0 ls0">635</div><div class="t m0 x1b h7 y36c7 ff5 fs4 fc0 sc0 ls0 ws0">Table continues on the next page...</div><div class="t m0 xea h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 35 Universal Serial Bus OTG Controller (USBOTG)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>621</div><a class="l" href="#pf26f" data-dest-detail='[623,"XYZ",null,483.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:370.650000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf270" data-dest-detail='[624,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:355.150000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf270" data-dest-detail='[624,"XYZ",null,418.2,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:339.650000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf271" data-dest-detail='[625,"XYZ",null,711.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:324.150000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf271" data-dest-detail='[625,"XYZ",null,391.7,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:308.650000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf272" data-dest-detail='[626,"XYZ",null,524.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:293.150000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf273" data-dest-detail='[627,"XYZ",null,554.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:277.650000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf274" data-dest-detail='[628,"XYZ",null,531.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:262.150000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,592.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:509.013000px;bottom:246.650000px;width:42.534000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf276" data-dest-detail='[630,"XYZ",null,557.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:514.017000px;bottom:231.150000px;width:32.526000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf276" data-dest-detail='[630,"XYZ",null,557.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:522.774000px;bottom:220.150000px;width:15.012000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf277" data-dest-detail='[631,"XYZ",null,531.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:514.017000px;bottom:204.650000px;width:32.526000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf277" data-dest-detail='[631,"XYZ",null,531.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:522.774000px;bottom:193.650000px;width:15.012000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf278" data-dest-detail='[632,"XYZ",null,466.017,null]'><div class="d m1" style="border-style:none;position:absolute;left:514.017000px;bottom:178.150000px;width:32.526000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf278" data-dest-detail='[632,"XYZ",null,466.017,null]'><div class="d m1" style="border-style:none;position:absolute;left:522.774000px;bottom:167.150000px;width:15.012000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf279" data-dest-detail='[633,"XYZ",null,409.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:514.017000px;bottom:151.650000px;width:32.526000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf279" data-dest-detail='[633,"XYZ",null,409.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:522.774000px;bottom:140.650000px;width:15.012000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27a" data-dest-detail='[634,"XYZ",null,528.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:514.017000px;bottom:125.150000px;width:32.526000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27a" data-dest-detail='[634,"XYZ",null,528.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:522.774000px;bottom:114.150000px;width:15.012000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27b" data-dest-detail='[635,"XYZ",null,440.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:514.017000px;bottom:98.650000px;width:32.526000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf27b" data-dest-detail='[635,"XYZ",null,440.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:522.774000px;bottom:87.650000px;width:15.012000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
