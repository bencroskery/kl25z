<div id="pf275" class="pf w0 h0" data-page-no="275"><div class="pc pc275 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg275.png"/><div class="t m0 x9c h9 yf57 ff1 fs2 fc0 sc0 ls0 ws20b">USB<span class="ff7">x</span><span class="ws0">_OTGCTL field descriptions (continued)</span></div><div class="t m0 x12c h10 yf84 ff1 fs4 fc0 sc0 ls0 ws259">Field Description</div><div class="t m0 x83 h7 yff6 ff2 fs4 fc0 sc0 ls0 ws0">0<span class="_ _28"> </span>If USB_EN is 1 and HOST_MODE is 0 in the Control Register (CTL), then the D+ Data Line pull-up</div><div class="t m0 x5 h7 y13d9 ff2 fs4 fc0 sc0 ls0 ws0">resistors are enabled. If HOST_MODE is 1 the D+ and D– Data Line pull-down resistors are engaged.</div><div class="t m0 x83 h7 yf88 ff2 fs4 fc0 sc0 ls0 ws0">1<span class="_ _28"> </span>The pull-up and pull-down controls in this register are used.</div><div class="t m0 x1 h7 yf89 ff2 fs4 fc0 sc0 ls0">1–0</div><div class="t m0 x91 h7 yff8 ff2 fs4 fc0 sc0 ls0">Reserved</div><div class="t m0 x83 h7 yf89 ff2 fs4 fc0 sc0 ls0 ws0">This field is reserved.</div><div class="t m0 x83 h7 yff8 ff2 fs4 fc0 sc0 ls0 ws0">This read-only field is reserved and always has the value 0.</div><div class="t m0 x9 h1b y377d ff1 fsc fc0 sc0 ls0 ws0">35.4.9<span class="_ _b"> </span>Interrupt Status register (USB<span class="ff7 ws24e">x</span>_ISTAT)</div><div class="t m0 x9 hf y377e ff3 fs5 fc0 sc0 ls0 ws0">Contains fields for each of the interrupt sources within the USB Module. Each of these</div><div class="t m0 x9 hf y377f ff3 fs5 fc0 sc0 ls0 ws0">fields are qualified with their respective interrupt enable bits. All fields of this register are</div><div class="t m0 x9 hf y3780 ff3 fs5 fc0 sc0 ls0 ws0">logically OR&apos;d together along with the OTG Interrupt Status Register (OTGSTAT) to</div><div class="t m0 x9 hf y3781 ff3 fs5 fc0 sc0 ls0 ws0">form a single interrupt source for the processor&apos;s interrupt controller. After an interrupt</div><div class="t m0 x9 hf y3782 ff3 fs5 fc0 sc0 ls0 ws0">bit has been set it may only be cleared by writing a one to the respective interrupt bit.</div><div class="t m0 x9 hf y3783 ff3 fs5 fc0 sc0 ls0 ws0">This register contains the value of 0x00 after a reset.</div><div class="t m0 x9 h7 y3784 ff2 fs4 fc0 sc0 ls0 ws0">Address: 4007_2000h base + 80h offset = 4007_2080h</div><div class="t m0 x81 h1d y3785 ff2 fsd fc0 sc0 ls0 ws284">Bit<span class="_ _165"> </span>7 6 5 4 3 2 1 0</div><div class="t m0 x1 h7 y3786 ff2 fs4 fc0 sc0 ls0 ws43a">Read<span class="_ _179"> </span>STALL<span class="_ _4a"> </span>ATTACH RESUME<span class="_ _11f"> </span>SLEEP<span class="_ _11f"> </span>TOKDNE SOFTOK<span class="_ _141"> </span>ERROR<span class="_ _f3"> </span>USBRST</div><div class="t m0 x8b h7 y3787 ff2 fs4 fc0 sc0 ls0 ws2b1">Write<span class="_ _4a"> </span>w1c w1c w1c w1c w1c w1c w1c w1c</div><div class="t m0 x12c h7 y3788 ff2 fs4 fc0 sc0 ls0 ws2ab">Reset <span class="ls1c4 ws28a v1b">00000000<span class="_ _19a"></span></span></div><div class="t m0 x18 h9 y3789 ff1 fs2 fc0 sc0 ls0 ws20b">USB<span class="ff7">x</span><span class="ws0">_ISTAT field descriptions</span></div><div class="t m0 x12c h10 y378a ff1 fs4 fc0 sc0 ls0 ws259">Field Description</div><div class="t m0 x97 h7 y378b ff2 fs4 fc0 sc0 ls0">7</div><div class="t m0 x34 h7 y378c ff2 fs4 fc0 sc0 ls0">STALL</div><div class="t m0 x83 h7 y378b ff2 fs4 fc0 sc0 ls0 ws0">Stall Interrupt</div><div class="t m0 x83 h7 y378d ff2 fs4 fc0 sc0 ls0 ws0">In Target mode this bit is asserted when a STALL handshake is sent by the SIE.</div><div class="t m0 x83 h7 y378e ff2 fs4 fc0 sc0 ls0 ws0">In Host mode this bit is set when the USB Module detects a STALL acknowledge during the handshake</div><div class="t m0 x83 h7 y378f ff2 fs4 fc0 sc0 ls0 ws0">phase of a USB transaction.This interrupt can be used to determine whether the last USB transaction was</div><div class="t m0 x83 h7 y3790 ff2 fs4 fc0 sc0 ls0 ws0">completed successfully or stalled.</div><div class="t m0 x97 h7 y3791 ff2 fs4 fc0 sc0 ls0">6</div><div class="t m0 x50 h7 y3792 ff2 fs4 fc0 sc0 ls0">ATTACH</div><div class="t m0 x83 h7 y3791 ff2 fs4 fc0 sc0 ls0 ws0">Attach Interrupt</div><div class="t m0 x83 h7 y3793 ff2 fs4 fc0 sc0 ls0 ws0">This bit is set when the USB Module detects an attach of a USB device. This signal is only valid if</div><div class="t m0 x83 h7 y3794 ff2 fs4 fc0 sc0 ls0 ws0">HOSTMODEEN is true. This interrupt signifies that a peripheral is now present and must be configured.</div><div class="t m0 x97 h7 y3795 ff2 fs4 fc0 sc0 ls0">5</div><div class="t m0 x91 h7 y3796 ff2 fs4 fc0 sc0 ls0">RESUME</div><div class="t m0 x83 h7 y3795 ff2 fs4 fc0 sc0 ls0 ws0">This bit is set depending upon the DP/DM signals, and can be used to signal remote wake-up signaling on</div><div class="t m0 x83 h7 y3796 ff2 fs4 fc0 sc0 ls0 ws0">the USB bus. When not in suspend mode this interrupt must be disabled.</div><div class="t m0 x97 h7 y3797 ff2 fs4 fc0 sc0 ls0">4</div><div class="t m0 x117 h7 y3798 ff2 fs4 fc0 sc0 ls0">SLEEP</div><div class="t m0 x83 h7 y3797 ff2 fs4 fc0 sc0 ls0 ws0">This bit is set when the USB Module detects a constant idle on the USB bus for 3 ms. The sleep timer is</div><div class="t m0 x83 h7 y3798 ff2 fs4 fc0 sc0 ls0 ws0">reset by activity on the USB bus.</div><div class="t m0 x97 h7 y3799 ff2 fs4 fc0 sc0 ls0">3</div><div class="t m0 x50 h7 y379a ff2 fs4 fc0 sc0 ls0">TOKDNE</div><div class="t m0 x83 h7 y3799 ff2 fs4 fc0 sc0 ls0 ws0">This bit is set when the current token being processed has completed. The processor must immediately</div><div class="t m0 x83 h7 y379a ff2 fs4 fc0 sc0 ls0 ws0">read the STATUS (STAT) register to determine the EndPoint and BD used for this token. Clearing this bit</div><div class="t m0 x83 h7 y379b ff2 fs4 fc0 sc0 ls0 ws0">(by writing a one) causes STAT to be cleared or the STAT holding register to be loaded into the STAT</div><div class="t m0 x83 h7 y379c ff2 fs4 fc0 sc0 ls0">register.</div><div class="t m0 x97 h7 y379d ff2 fs4 fc0 sc0 ls0">2</div><div class="t m0 x50 h7 y379e ff2 fs4 fc0 sc0 ls0">SOFTOK</div><div class="t m0 x83 h7 y379d ff2 fs4 fc0 sc0 ls0 ws0">This bit is set when the USB Module receives a Start Of Frame (SOF) token.</div><div class="t m0 x1b h7 y379f ff5 fs4 fc0 sc0 ls0 ws0">Table continues on the next page...</div><div class="t m0 xea h10 y17b ff1 fs4 fc0 sc0 ls0 ws0">Chapter 35 Universal Serial Bus OTG Controller (USBOTG)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>629</div><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,317.767,null]'><div class="d m1" style="border-style:none;position:absolute;left:124.243000px;bottom:401.267000px;width:27.514000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,244.867,null]'><div class="d m1" style="border-style:none;position:absolute;left:176.000000px;bottom:401.267000px;width:36.000000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,197.367,null]'><div class="d m1" style="border-style:none;position:absolute;left:230.749000px;bottom:401.267000px;width:38.502000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,170.867,null]'><div class="d m1" style="border-style:none;position:absolute;left:291.492000px;bottom:401.267000px;width:29.016000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,144.367,null]'><div class="d m1" style="border-style:none;position:absolute;left:343.249000px;bottom:401.267000px;width:37.502000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,95.8672,null]'><div class="d m1" style="border-style:none;position:absolute;left:399.496000px;bottom:401.267000px;width:37.008000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf276" data-dest-detail='[630,"XYZ",null,660.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:457.750000px;bottom:401.267000px;width:32.500000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf276" data-dest-detail='[630,"XYZ",null,634.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:511.748000px;bottom:401.267000px;width:36.504000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,317.767,null]'><div class="d m1" style="border-style:none;position:absolute;left:129.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,244.867,null]'><div class="d m1" style="border-style:none;position:absolute;left:185.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,197.367,null]'><div class="d m1" style="border-style:none;position:absolute;left:241.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,170.867,null]'><div class="d m1" style="border-style:none;position:absolute;left:297.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,144.367,null]'><div class="d m1" style="border-style:none;position:absolute;left:353.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf275" data-dest-detail='[629,"XYZ",null,95.8672,null]'><div class="d m1" style="border-style:none;position:absolute;left:409.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf276" data-dest-detail='[630,"XYZ",null,660.917,null]'><div class="d m1" style="border-style:none;position:absolute;left:465.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf276" data-dest-detail='[630,"XYZ",null,634.417,null]'><div class="d m1" style="border-style:none;position:absolute;left:521.999000px;bottom:383.267000px;width:16.002000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
