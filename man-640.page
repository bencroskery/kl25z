<div id="pf280" class="pf w0 h0" data-page-no="280"><div class="pc pc280 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg280.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">In Host mode ENDPT0 is used to determine the handshake, retry and low speed</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">characteristics of the host transfer. For Control, Bulk and Interrupt transfers, the</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">EPHSHK bit should be 1. For Isochronous transfers it should be 0. Common values to</div><div class="t m0 x9 hf yf9 ff3 fs5 fc0 sc0 ls0 ws0">use for ENDPT0 in host mode are 0x4D for Control, Bulk, and Interrupt transfers, and</div><div class="t m0 x9 hf yfa ff3 fs5 fc0 sc0 ls0 ws0">0x4C for Isochronous transfers.</div><div class="t m0 x9 h7 yef7 ff2 fs4 fc0 sc0 ls0 ws0">Address: 4007_2000h base + C0h offset + (4d Ã— i), where i=0d to 15d</div><div class="t m0 x81 h1d y1722 ff2 fsd fc0 sc0 ls0 ws284">Bit<span class="_ _165"> </span>7 6 5 4 3 2 1 0</div><div class="t m0 x1 h7 y18c1 ff2 fs4 fc0 sc0 ls0 ws461">Read HOSTWOH</div><div class="t m0 x83 h43 y1d07 ff2 fs4 fc0 sc0 ls0 ws462">UB <span class="ws463 v14">RETRYDIS </span><span class="ls281 va">0</span><span class="ws464 v14">EPCTLDIS EPRXEN<span class="_ _23"> </span>EPTXEN<span class="_ _d9"> </span>EPSTALL<span class="_ _d9"> </span>EPHSHK</span></div><div class="t m0 x8b h7 y38ab ff2 fs4 fc0 sc0 ls0">Write</div><div class="t m0 x12c h7 y38ac ff2 fs4 fc0 sc0 ls0 ws289">Reset <span class="ls1c4 ws28a v1b">00000000<span class="_ _19a"></span></span></div><div class="t m0 x1c h9 y38ad ff1 fs2 fc0 sc0 ls0 ws20b">USB<span class="ff7">x</span>_ENDPT<span class="ff7">n</span><span class="ws0"> field descriptions</span></div><div class="t m0 x12c h10 y38ae ff1 fs4 fc0 sc0 ls0 ws259">Field Description</div><div class="t m0 x97 h7 y269 ff2 fs4 fc0 sc0 ls0">7</div><div class="t m0 xf6 h7 y26a ff2 fs4 fc0 sc0 ls0">HOSTWOHUB</div><div class="t m0 x83 h7 y269 ff2 fs4 fc0 sc0 ls0 ws0">This is a Host mode only field and is present in the control register for endpoint 0 (ENDPT0) only. When</div><div class="t m0 x83 h7 y26a ff2 fs4 fc0 sc0 ls0 ws0">set this bit allows the host to communicate to a directly connected low speed device. When cleared, the</div><div class="t m0 x83 h7 y26b ff2 fs4 fc0 sc0 ls0 ws0">host produces the PRE_PID. It then switches to low-speed signaling when sends a token to a low speed</div><div class="t m0 x83 h7 y1198 ff2 fs4 fc0 sc0 ls0 ws0">device as required to communicate with a low speed device through a hub.</div><div class="t m0 x97 h7 y26d ff2 fs4 fc0 sc0 ls0">6</div><div class="t m0 x52 h7 y26e ff2 fs4 fc0 sc0 ls0">RETRYDIS</div><div class="t m0 x83 h7 y26d ff2 fs4 fc0 sc0 ls0 ws0">This is a Host mode only bit and is present in the control register for endpoint 0 (ENDPT0) only. When set</div><div class="t m0 x83 h7 y26e ff2 fs4 fc0 sc0 ls0 ws0">this bit causes the host to not retry NAK&apos;ed (Negative Acknowledgement) transactions. When a transaction</div><div class="t m0 x83 h7 y12ce ff2 fs4 fc0 sc0 ls0 ws0">is NAKed, the BDT PID field is updated with the NAK PID, and the TOKEN_DNE interrupt is set. When</div><div class="t m0 x83 h7 y12cf ff2 fs4 fc0 sc0 ls0 ws0">this bit is cleared NAKed transactions is retried in hardware. This bit must be set when the host is</div><div class="t m0 x83 h7 y12d0 ff2 fs4 fc0 sc0 ls0 ws0">attempting to poll an interrupt endpoint.</div><div class="t m0 x97 h7 y38af ff2 fs4 fc0 sc0 ls0">5</div><div class="t m0 x91 h7 y34e9 ff2 fs4 fc0 sc0 ls0">Reserved</div><div class="t m0 x83 h7 y38af ff2 fs4 fc0 sc0 ls0 ws0">This field is reserved.</div><div class="t m0 x83 h7 y34e9 ff2 fs4 fc0 sc0 ls0 ws0">This read-only field is reserved and always has the value 0.</div><div class="t m0 x97 h7 y1685 ff2 fs4 fc0 sc0 ls0">4</div><div class="t m0 x52 h7 y38b0 ff2 fs4 fc0 sc0 ls0">EPCTLDIS</div><div class="t m0 x83 h7 y1685 ff2 fs4 fc0 sc0 ls0 ws0">This bit, when set, disables control (SETUP) transfers. When cleared, control transfers are enabled. This</div><div class="t m0 x83 h7 y38b0 ff2 fs4 fc0 sc0 ls0 ws0">applies if and only if the EPRXEN and EPTXEN bits are also set.</div><div class="t m0 x97 h7 y7cf ff2 fs4 fc0 sc0 ls0">3</div><div class="t m0 x50 h7 y7d0 ff2 fs4 fc0 sc0 ls0">EPRXEN</div><div class="t m0 x83 h7 y7cf ff2 fs4 fc0 sc0 ls0 ws0">This bit, when set, enables the endpoint for RX transfers.</div><div class="t m0 x97 h7 y20f4 ff2 fs4 fc0 sc0 ls0">2</div><div class="t m0 x50 h7 y166f ff2 fs4 fc0 sc0 ls0">EPTXEN</div><div class="t m0 x83 h7 y20f4 ff2 fs4 fc0 sc0 ls0 ws0">This bit, when set, enables the endpoint for TX transfers.</div><div class="t m0 x97 h7 y38b1 ff2 fs4 fc0 sc0 ls0">1</div><div class="t m0 x91 h7 y38b2 ff2 fs4 fc0 sc0 ls0">EPSTALL</div><div class="t m0 x83 h7 y38b1 ff2 fs4 fc0 sc0 ls0 ws0">When set this bit indicates that the endpoint is called. This bit has priority over all other control bits in the</div><div class="t m0 x83 h7 y38b2 ff2 fs4 fc0 sc0 ls0 ws0">EndPoint Enable Register, but it is only valid if EPTXEN=1 or EPRXEN=1. Any access to this endpoint</div><div class="t m0 x83 h7 y38b3 ff2 fs4 fc0 sc0 ls0 ws0">causes the USB Module to return a STALL handshake. After an endpoint is stalled it requires intervention</div><div class="t m0 x83 h7 y38b4 ff2 fs4 fc0 sc0 ls0 ws0">from the Host Controller.</div><div class="t m0 x97 h7 y38b5 ff2 fs4 fc0 sc0 ls0">0</div><div class="t m0 x50 h7 yf1a ff2 fs4 fc0 sc0 ls0">EPHSHK</div><div class="t m0 x83 h7 y38b5 ff2 fs4 fc0 sc0 ls0 ws0">When set this bit enables an endpoint to perform handshaking during a transaction to this endpoint. This</div><div class="t m0 x83 h7 yf1a ff2 fs4 fc0 sc0 ls0 ws0">bit is generally 1 unless the endpoint is Isochronous.</div><div class="t m0 x9 h1b y38b6 ff1 fsc fc0 sc0 ls0 ws0">35.4.24<span class="_ _b"> </span>USB Control register (USB<span class="ff7 ws24e">x</span>_USBCTRL)</div><div class="t m0 x9 h7 y38b7 ff2 fs4 fc0 sc0 ls0 ws0">Address: 4007_2000h base + 100h offset = 4007_2100h</div><div class="t m0 x81 h1d y38b8 ff2 fsd fc0 sc0 ls0 ws284">Bit<span class="_ _165"> </span>7 6 5 4 3 2 1 0</div><div class="t m0 x1 h7 y38b9 ff2 fs4 fc0 sc0 ls0 ws465">Read <span class="ws3b3 ve">SUSP PDE<span class="_ _23c"> </span></span>0</div><div class="t m0 x8b h7 y38ba ff2 fs4 fc0 sc0 ls0">Write</div><div class="t m0 x12c h7 y38bb ff2 fs4 fc0 sc0 ls0 ws289">Reset <span class="ls1c4 ws28a v1b">11000000<span class="_ _19a"></span></span></div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Memory map/Register definitions</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">640<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,513.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:114.501000px;bottom:589.100000px;width:46.998000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,513.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:131.749000px;bottom:578.100000px;width:12.502000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,465.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:171.248000px;bottom:583.600000px;width:45.504000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,405.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:247.498000px;bottom:589.100000px;width:5.004000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,379.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:283.995000px;bottom:583.600000px;width:44.010000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,352.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:343.496000px;bottom:583.600000px;width:37.008000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,326.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:399.996000px;bottom:583.600000px;width:36.009000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,299.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:454.241000px;bottom:583.600000px;width:39.518000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf280" data-dest-detail='[640,"XYZ",null,251.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:511.496000px;bottom:583.600000px;width:37.008000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf281" data-dest-detail='[641,"XYZ",null,685.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:125.746000px;bottom:105.600000px;width:24.508000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf281" data-dest-detail='[641,"XYZ",null,636.1,null]'><div class="d m1" style="border-style:none;position:absolute;left:184.748000px;bottom:105.600000px;width:18.504000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf281" data-dest-detail='[641,"XYZ",null,586.6,null]'><div class="d m1" style="border-style:none;position:absolute;left:387.498000px;bottom:110.100000px;width:5.004000px;height:9.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
