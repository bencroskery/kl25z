<div id="pf291" class="pf w0 h0" data-page-no="291"><div class="pc pc291 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg291.png"/><div class="t m0 x117 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">The SPI is completely disabled in stop modes where the peripheral bus clock is</div><div class="t m0 x117 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">stopped and internal logic states are not retained. When the CPU wakes from these</div><div class="t m0 x117 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">stop modes, all SPI register content is reset.</div><div class="t m0 x9 hf y39d8 ff3 fs5 fc0 sc0 ls0 ws0">Detailed descriptions of operating modes appear in <span class="fc1">Low Power Mode Options</span>.</div><div class="t m0 x9 he y39d9 ff1 fs1 fc0 sc0 ls0 ws0">37.1.3<span class="_ _b"> </span>Block Diagrams</div><div class="t m0 x9 hf y657 ff3 fs5 fc0 sc0 ls0 ws0">This section includes block diagrams showing SPI system connections, the internal</div><div class="t m0 x9 hf y56a ff3 fs5 fc0 sc0 ls0 ws0">organization of the SPI module, and the SPI clock dividers that control the master mode</div><div class="t m0 x9 hf y2da ff3 fs5 fc0 sc0 ls0 ws0">bit rate.</div><div class="t m0 x9 h1b y2db ff1 fsc fc0 sc0 ls0 ws0">37.1.3.1<span class="_ _b"> </span>SPI System Block Diagram</div><div class="t m0 x9 hf y2dc ff3 fs5 fc0 sc0 ls0 ws0">The following figure shows the SPI modules of two MCUs connected in a master-slave</div><div class="t m0 x9 hf y207 ff3 fs5 fc0 sc0 ls0 ws0">arrangement. The master device initiates all SPI data transfers. During a transfer, the</div><div class="t m0 x9 hf y2dd ff3 fs5 fc0 sc0 ls0 ws0">master shifts data out (on the MOSI pin) to the slave while simultaneously shifting data</div><div class="t m0 x9 hf y39da ff3 fs5 fc0 sc0 ls0 ws0">in (on the MISO pin) from the slave. The transfer effectively exchanges the data that was</div><div class="t m0 x9 hf y39db ff3 fs5 fc0 sc0 ls0 ws0">in the SPI shift registers of the two SPI systems. The SPSCK signal is a clock output</div><div class="t m0 x9 hf y39dc ff3 fs5 fc0 sc0 ls0 ws0">from the master and an input to the slave. The slave device must be selected by a low</div><div class="t m0 x9 hf y39dd ff3 fs5 fc0 sc0 ls0 ws0">level on the slave select input (SS pin). In this system, the master device has configured</div><div class="t m0 x9 hf y39de ff3 fs5 fc0 sc0 ls0 ws0">its SS pin as an optional slave select output.</div><div class="c x8b y39df w6d h1a5"><div class="t m0 x4b h26 y39e0 ff2 fsf fc0 sc0 ls1ca ws0">SPI SHIFTER</div><div class="t m0 x52 h26 y39e1 ff2 fsf fc0 sc0 ls0">MASTER</div><div class="t m0 x60 h26 y39e2 ff2 fsf fc0 sc0 ls0 ws0">8 BITS</div><div class="t m0 xb9 h26 y39e3 ff2 fsf fc0 sc0 ls0">CLOCK</div><div class="t m0 x89 h26 y39e4 ff2 fsf fc0 sc0 ls0">GENERATOR</div><div class="t m0 x15 h26 y39e5 ff2 fsf fc0 sc0 ls0">MOSI</div><div class="t m0 x15 h1a6 y39e6 ff2 fsf fc0 sc0 ls0 ws474">MISO <span class="v0">MISO</span></div><div class="t m0 xc h26 y39e7 ff2 fsf fc0 sc0 ls0">MOSI</div><div class="t m0 x9e h1a7 y39e8 ff2 fsf fc0 sc0 ls0 ws475">SPSCK <span class="v0">SPSCK</span></div><div class="t m0 x15 h1a8 y39e9 ff2 fsf fc0 sc0 ls0 ws476">SS <span class="v16">SS</span></div><div class="t m0 xdd h26 y39ea ff2 fsf fc0 sc0 ls0">SLAVE</div><div class="t m0 x135 h26 y39eb ff2 fsf fc0 sc0 ls0 ws0">SPI SHIFTER</div><div class="t m0 x71 h26 y39ec ff2 fsf fc0 sc0 ls0 ws0">8 BITS</div></div><div class="t m0 x2a h9 y39ed ff1 fs2 fc0 sc0 ls0 ws0">Figure 37-1. SPI System Connections</div><div class="t m0 xec h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 37 Serial Peripheral Interface (SPI)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>657</div><a class="l" href="#pf2a7" data-dest-detail='[679,"XYZ",null,262.9,null]'><div class="d m1" style="border-style:none;position:absolute;left:342.890000px;bottom:642.200000px;width:148.932000px;height:14.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
