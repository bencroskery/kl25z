<div id="pf292" class="pf w0 h0" data-page-no="292"><div class="pc pc292 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg292.png"/><div class="t m0 x9 h1b y502 ff1 fsc fc0 sc0 ls0 ws0">37.1.3.2<span class="_ _b"> </span>SPI Module Block Diagram</div><div class="t m0 x9 hf y503 ff3 fs5 fc0 sc0 ls0 ws0">The following is a block diagram of the SPI module. The central element of the SPI is the</div><div class="t m0 x9 hf y504 ff3 fs5 fc0 sc0 ls0 ws0">SPI shift register. Data is written to the double-buffered transmitter (write to SPIx_D) and</div><div class="t m0 x9 hf y505 ff3 fs5 fc0 sc0 ls0 ws0">gets transferred to the SPI shift register at the start of a data transfer. After shifting in 8</div><div class="t m0 x9 hf y629 ff3 fs5 fc0 sc0 ls0 ws0">bits of data, the data is transferred into the double-buffered receiver where it can be read</div><div class="t m0 x9 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">from SPIx_D. Pin multiplexing logic controls connections between MCU pins and the</div><div class="t m0 x9 hf yabd ff3 fs5 fc0 sc0 ls0 ws0">SPI module.</div><div class="t m0 x9 hf y675 ff3 fs5 fc0 sc0 ls0 ws0">When the SPI is configured as a master, the clock output is routed to the SPSCK pin, the</div><div class="t m0 x9 hf y676 ff3 fs5 fc0 sc0 ls0 ws0">shifter output is routed to MOSI, and the shifter input is routed from the MISO pin.</div><div class="t m0 x9 hf y243e ff3 fs5 fc0 sc0 ls0 ws0">When the SPI is configured as a slave, the SPSCK pin is routed to the clock input of the</div><div class="t m0 x9 hf y14e3 ff3 fs5 fc0 sc0 ls0 ws0">SPI, the shifter output is routed to MISO, and the shifter input is routed from the MOSI</div><div class="t m0 x9 hf y14e4 ff3 fs5 fc0 sc0 ls0">pin.</div><div class="t m0 x9 hf y1ddc ff3 fs5 fc0 sc0 ls0 ws0">In the external SPI system, simply connect all SPSCK pins to each other, all MISO pins</div><div class="t m0 x9 hf y1e47 ff3 fs5 fc0 sc0 ls0 ws0">together, and all MOSI pins together. Peripheral devices often use slightly different</div><div class="t m0 x9 hf y1e48 ff3 fs5 fc0 sc0 ls0 ws0">names for these pins.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0">Introduction</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">658<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
