<div id="pf2a5" class="pf w0 h0" data-page-no="2a5"><div class="pc pc2a5 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg2a5.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">The baud rate generator is activated only when the SPI is in the master mode and a serial</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">transfer is taking place. In the other cases, the divider is disabled to decrease I<span class="fs8 ws198 vc">DD</span> current.</div><div class="t m0 x9 hf y504 ff3 fs5 fc0 sc0 ls0 ws0">The baud rate divisor equation is as follows (except those reserved combinations in the</div><div class="t m0 x9 hf y505 ff3 fs5 fc0 sc0 ls0 ws0">SPI Baud Rate Divisor table).</div><div class="t m0 x9 h1b5 y3bb9 ff6 fs4 fc0 sc0 ls0 ws0">BaudRateDivisor = (SPPR + 1) Ã— 2<span class="fs9 v4">(SPR + 1)</span></div><div class="t m0 x9 hf y3bba ff3 fs5 fc0 sc0 ls0 ws0">The baud rate can be calculated with the following equation:</div><div class="t m0 x9 ha5 y3bbb ff6 fs4 fc0 sc0 ls0 ws0">BaudRate = BusClock / BaudRateDivisor</div><div class="c xca y3bbc w73 h1b6"><div class="t m0 x13a h26 y3bbd ff2 fsf fc0 sc0 ls0">MASTER</div><div class="t m0 x13a h26 y3bbe ff2 fsf fc0 sc0 ls0">SPI</div><div class="t m0 x13a h26 y3bbf ff2 fsf fc0 sc0 ls0 ws0">BIT RATE</div><div class="t m0 x22 h26 y3bc0 ff2 fsf fc0 sc0 ls0 ws0">BAUD RATE DIVIDER</div><div class="t m0 x37 h26 y3bc1 ff2 fsf fc0 sc0 ls0">PRESCALER</div><div class="t m0 xcd h2d y3bc2 ff2 fs10 fc0 sc0 ls0">BUS</div><div class="t m0 x84 h2d y3bc3 ff2 fs10 fc0 sc0 ls0">CLOCK</div><div class="t m0 x60 h26 y3bc4 ff2 fsf fc0 sc0 ls0 ws47f">SPPR2:SPPR1:SPPR0 <span class="v1b">SPR3:SPR2:SPR1:SPR0</span></div><div class="t m0 x8e h2d y3bc5 ff2 fs10 fc0 sc0 ls0 ws0">DIVIDE BY</div><div class="t m0 x34 h2d y3bc6 ff2 fs10 fc0 sc0 ls0 ws0">1, 2, 3, 4, 5, 6, 7, or 8</div><div class="t m0 x26 h2d y3bc7 ff2 fs10 fc0 sc0 ls0 ws0">DIVIDE BY</div><div class="t m0 x16 h2d y3bc8 ff2 fs10 fc0 sc0 ls0 ws0">2, 4, 8, 16, 32, 64, 128, </div><div class="t m0 x46 h2d y3bc9 ff2 fs10 fc0 sc0 ls0 ws0">256, or 512</div></div><div class="t m0 x40 h9 y3bca ff1 fs2 fc0 sc0 ls0 ws0">Figure 37-25. SPI Baud Rate Generation</div><div class="t m0 x9 he y3bcb ff1 fs1 fc0 sc0 ls0 ws0">37.4.7<span class="_ _b"> </span>Special Features</div><div class="t m0 x9 hf y3bcc ff3 fs5 fc0 sc0 ls0 ws0">The following section shows the module special features.</div><div class="t m0 x9 h1b y3bcd ff1 fsc fc0 sc0 ls0 ws0">37.4.7.1<span class="_ _b"> </span>SS Output</div><div class="t m0 x9 hf y3bce ff3 fs5 fc0 sc0 ls0 ws0">The SS output feature automatically drives the SS pin low during transmission to select</div><div class="t m0 x9 hf y3bcf ff3 fs5 fc0 sc0 ls0 ws0">external devices and drives the SS pin high during idle to deselect external devices. When</div><div class="t m0 x9 hf y3bd0 ff3 fs5 fc0 sc0 ls0 ws0">the SS output is selected, the SS output pin is connected to the SS input pin of the</div><div class="t m0 x9 hf y3bd1 ff3 fs5 fc0 sc0 ls0 ws0">external device.</div><div class="t m0 x9 hf y3bd2 ff3 fs5 fc0 sc0 ls0 ws0">The SS output is available only in master mode during normal SPI operation by asserting</div><div class="t m0 x9 hf y3bd3 ff3 fs5 fc0 sc0 ls0 ws0">the SSOE and MODFEN bits as shown in the description of the C1[SSOE] bit.</div><div class="t m0 x9 hf y3bd4 ff3 fs5 fc0 sc0 ls0 ws0">The mode fault feature is disabled while <span class="v0">SS output is enabled.</span></div><div class="t m0 xda h8 y3bd5 ff1 fs5 fc0 sc0 ls0">Note</div><div class="t m0 x3e h1b7 y3bd6 ff3 fs5 fc0 sc0 ls0 ws0">Be careful when using the <span class="v0">SS output feature in a multimaster</span></div><div class="t m0 x3e hf y3bd7 ff3 fs5 fc0 sc0 ls0 ws0">system because the mode fault feature is not available for</div><div class="t m0 x3e hf y3bd8 ff3 fs5 fc0 sc0 ls0 ws0">detecting system errors between masters.</div><div class="t m0 xec h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 37 Serial Peripheral Interface (SPI)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>677</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
