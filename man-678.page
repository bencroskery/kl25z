<div id="pf2a6" class="pf w0 h0" data-page-no="2a6"><div class="pc pc2a6 w0 h0"><img class="bi x0 y8 w3 h5" alt="" src="bg2a6.png"/><div class="t m0 x9 h1b y502 ff1 fsc fc0 sc0 ls0 ws0">37.4.7.2<span class="_ _b"> </span>Bidirectional Mode (MOMI or SISO)</div><div class="t m0 x9 hf y503 ff3 fs5 fc0 sc0 ls0 ws0">The bidirectional mode is selected when the SPC0 bit is set in SPI Control Register 2 (see</div><div class="t m0 x9 hf y504 ff3 fs5 fc0 sc0 ls0 ws0">the following table). In this mode, the SPI uses only one serial data pin for the interface</div><div class="t m0 x9 hf y505 ff3 fs5 fc0 sc0 ls0 ws0">with one or more external devices. The MSTR bit decides which pin to use. The MOSI</div><div class="t m0 x9 hf y629 ff3 fs5 fc0 sc0 ls0 ws0">pin becomes the serial data I/O (MOMI) pin for the master mode, and the MISO pin</div><div class="t m0 x9 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">becomes serial data I/O (SISO) pin for the slave mode. The MISO pin in master mode</div><div class="t m0 x9 hf yabd ff3 fs5 fc0 sc0 ls0 ws0">and MOSI pin in slave mode are not used by the SPI.</div><div class="t m0 x8 h9 y3bd9 ff1 fs2 fc0 sc0 ls0 ws0">Table 37-22.<span class="_ _1a"> </span>Normal Mode and Bidirectional Mode</div><div class="t m0 x60 h10 y2768 ff1 fs4 fc0 sc0 ls0 ws0">When SPE = 1<span class="_ _79"> </span>Master Mode MSTR = 1<span class="_ _181"> </span>Slave Mode MSTR = 0</div><div class="t m0 x4f h10 y3bda ff1 fs4 fc0 sc0 ls0 ws0">Normal Mode</div><div class="t m0 x8b h10 y3bdb ff1 fs4 fc0 sc0 ls0 ws0">SPC0 = 0</div><div class="c x4c y3bdc w74 h1b8"><div class="t m0 xa1 h26 y3bdd ff2 fsf fc0 sc0 ls0 ws1bf">MOSI</div><div class="t m0 xa1 h26 y3bde ff2 fsf fc0 sc0 ls0">MISO</div><div class="t m0 x158 h26 y3bdf ff2 fsf fc0 sc0 ls0 ws0">Serial Out</div><div class="t m0 x36 h26 y3be0 ff2 fsf fc0 sc0 ls0">SPI</div><div class="t m0 xc0 h26 y3be1 ff2 fsf fc0 sc0 ls0 ws0">Serial In</div></div><div class="c xec y3bdc w75 h1b8"><div class="t m0 xa1 h26 y3be2 ff2 fsf fc0 sc0 ls0 ws1bf">MOSI</div><div class="t m0 xa1 h26 y3be3 ff2 fsf fc0 sc0 ls0">MISO</div><div class="t m0 xf9 h26 y3be4 ff2 fsf fc0 sc0 ls0 ws0">Serial Out</div><div class="t m0 x36 h26 y3be5 ff2 fsf fc0 sc0 ls0">SPI</div><div class="t m0 xc0 h26 y3be6 ff2 fsf fc0 sc0 ls0 ws0">Serial In</div></div><div class="t m0 x88 h10 y3be7 ff1 fs4 fc0 sc0 ls0 ws0">Bidirectional Mode</div><div class="t m0 x8b h10 y3be8 ff1 fs4 fc0 sc0 ls0 ws0">SPC0 = 1</div><div class="c x3 y3be9 w76 h1b9"><div class="t m0 xf9 h26 y3bea ff2 fsf fc0 sc0 ls0 ws0">Serial Out</div><div class="t m0 x36 h26 y3beb ff2 fsf fc0 sc0 ls0">SPI</div><div class="t m0 xc0 h26 y3bec ff2 fsf fc0 sc0 ls0 ws0">Serial In</div><div class="t m0 x83 h26 y3bed ff2 fsf fc0 sc0 ls0">MOMI</div><div class="t m0 x89 h26 y3bee ff2 fsf fc0 sc0 ls0">BIDIROE</div></div><div class="c x101 y3bef w77 h1b8"><div class="t m0 xf9 h26 y3bf0 ff2 fsf fc0 sc0 ls0 ws0">Serial Out</div><div class="t m0 x36 h26 y3bf1 ff2 fsf fc0 sc0 ls0">SPI</div><div class="t m0 xc0 h26 y3bf2 ff2 fsf fc0 sc0 ls0 ws0">Serial In</div><div class="t m0 xa1 h26 y3bf3 ff2 fsf fc0 sc0 ls0">SISO</div><div class="t m0 x89 h26 y3bf4 ff2 fsf fc0 sc0 ls0">BIDIROE</div></div><div class="t m0 x9 hf y3bf5 ff3 fs5 fc0 sc0 ls0 ws0">The direction of each serial I/O pin depends on the BIDIROE bit. If the pin is configured</div><div class="t m0 x9 hf y3bf6 ff3 fs5 fc0 sc0 ls0 ws0">as an output, serial data from the shift register is driven out on the pin. The same pin is</div><div class="t m0 x9 hf y3bf7 ff3 fs5 fc0 sc0 ls0 ws0">also the serial input to the shift register.</div><div class="t m0 x9 hf y3bf8 ff3 fs5 fc0 sc0 ls0 ws0">The SPSCK is an output for the master mode and an input for the slave mode.</div><div class="t m0 x9 hf y3bf9 ff3 fs5 fc0 sc0 ls0 ws0">SS is the input or output for the master mode, and it is always the input for the slave</div><div class="t m0 x9 hf y3bfa ff3 fs5 fc0 sc0 ls0">mode.</div><div class="t m0 x9 hf y3bfb ff3 fs5 fc0 sc0 ls0 ws0">The bidirectional mode does not affect SPSCK and <span class="v0">SS functions.</span></div><div class="t m0 xda h8 y3bfc ff1 fs5 fc0 sc0 ls0">Note</div><div class="t m0 x3e hf y3bfd ff3 fs5 fc0 sc0 ls0 ws0">In bidirectional master mode, with the mode fault feature</div><div class="t m0 x3e hf y3bfe ff3 fs5 fc0 sc0 ls0 ws0">enabled, both data pins MISO and MOSI can be occupied by</div><div class="t m0 x3e hf y3bff ff3 fs5 fc0 sc0 ls0 ws0">the SPI, though MOSI is normally used for transmissions in</div><div class="t m0 x3e hf y3c00 ff3 fs5 fc0 sc0 ls0 ws0">bidirectional mode and MISO is not used by the SPI. If a mode</div><div class="t m0 x3e hf y3c01 ff3 fs5 fc0 sc0 ls0 ws0">fault occurs, the SPI is automatically switched to slave mode. In</div><div class="t m0 x3e hf y3c02 ff3 fs5 fc0 sc0 ls0 ws0">this case, MISO becomes occupied by the SPI and MOSI is not</div><div class="t m0 x3e hf y3c03 ff3 fs5 fc0 sc0 ls0 ws0">used. Consider this scenario if the MISO pin is used for another</div><div class="t m0 x3e hf y3c04 ff3 fs5 fc0 sc0 ls0">purpose.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional Description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">678<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
