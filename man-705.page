<div id="pf2c1" class="pf w0 h0" data-page-no="2c1"><div class="pc pc2c1 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg2c1.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">stop driving SDA output. In this case, the transition from master to slave mode does not</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">generate a STOP condition. Meanwhile, hardware sets a status bit to indicate the loss of</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0">arbitration.</div><div class="t m0 x9 h1b y34a7 ff1 fsc fc0 sc0 ls0 ws0">38.4.1.7<span class="_ _b"> </span>Clock synchronization</div><div class="t m0 x9 hf ya31 ff3 fs5 fc0 sc0 ls0 ws0">Because wire AND logic is performed on SCL, a high-to-low transition on SCL affects</div><div class="t m0 x9 hf ya19 ff3 fs5 fc0 sc0 ls0 ws0">all devices connected on the bus. The devices start counting their low period and, after a</div><div class="t m0 x9 hf ya1a ff3 fs5 fc0 sc0 ls0 ws0">device&apos;s clock has gone low, that device holds SCL low until the clock reaches its high</div><div class="t m0 x9 hf y1395 ff3 fs5 fc0 sc0 ls0 ws0">state. However, the change of low to high in this device clock might not change the state</div><div class="t m0 x9 hf y1396 ff3 fs5 fc0 sc0 ls0 ws0">of SCL if another device clock is still within its low period. Therefore, the synchronized</div><div class="t m0 x9 hf y3e0d ff3 fs5 fc0 sc0 ls0 ws0">clock SCL is held low by the device with the longest low period. Devices with shorter</div><div class="t m0 x9 hf y3e0e ff3 fs5 fc0 sc0 ls0 ws0">low periods enter a high wait state during this time; see the following diagram. When all</div><div class="t m0 x9 hf y3e0f ff3 fs5 fc0 sc0 ls0 ws0">applicable devices have counted off their low period, the synchronized clock SCL is</div><div class="t m0 x9 hf y3e10 ff3 fs5 fc0 sc0 ls0 ws0">released and pulled high. Afterward there is no difference between the device clocks and</div><div class="t m0 x9 hf y3e11 ff3 fs5 fc0 sc0 ls0 ws0">the state of SCL, and all devices start counting their high periods. The first device to</div><div class="t m0 x9 hf y3e12 ff3 fs5 fc0 sc0 ls0 ws0">complete its high period pulls SCL low again.</div><div class="c x29 y3e13 w7b h1c1"><div class="t m2f x0 hf4 y3e14 ff8 fsf fc0 sc0 ls0 ws4af">S<span class="_ _203"> </span>C<span class="_ _206"> </span>L 2</div><div class="t m2f x10 hf4 y3e15 ff8 fsf fc0 sc0 ls0 ws0">S t<span class="_ _204"></span>a r<span class="_ _155"></span>t<span class="_ _204"></span> <span class="_ _155"></span>C<span class="_ _206"> </span>o u<span class="_ _205"> </span>n<span class="_ _205"> </span>t<span class="_ _155"></span>i<span class="_ _155"></span>n g<span class="_ _205"> </span> <span class="_ _155"></span>H<span class="_ _206"> </span>i<span class="_ _155"></span>g h<span class="_ _205"> </span> <span class="_ _155"></span>P e r<span class="_ _204"> </span>i<span class="_ _155"></span>o d</div><div class="t m2f xc7 hf4 y3e16 ff8 fsf fc0 sc0 ls0 ws0">I<span class="_ _155"></span>n t<span class="_ _155"></span>e r<span class="_ _204"></span>n<span class="_ _205"> </span>a<span class="_ _205"> </span>l<span class="_ _155"></span> <span class="_ _155"></span>C<span class="_ _206"> </span>o u n<span class="_ _207"> </span>t<span class="_ _204"></span>e r<span class="_ _155"></span> <span class="_ _204"> </span>R<span class="_ _206"> </span>e s<span class="_ _207"> </span>e t</div><div class="t m2f x0 hf4 y3e17 ff8 fsf fc0 sc0 ls0 ws4af">S<span class="_ _203"> </span>C<span class="_ _206"> </span>L 1</div><div class="t m2f x35 hf4 y3e18 ff8 fsf fc0 sc0 ls0 ws4b0">S C L</div><div class="t m2f xdc hf4 y3e19 ff8 fsf fc0 sc0 ls0 ws4b1">D<span class="_ _206"> </span>e l<span class="_ _155"></span>a y</div></div><div class="t m0 x40 h9 y3e1a ff1 fs2 fc0 sc0 ls0 ws0">Figure 38-39. I2C clock synchronization</div><div class="t m0 x9 h1b y3e1b ff1 fsc fc0 sc0 ls0 ws34a">38.4.1.8 Handshaking</div><div class="t m0 x9 hf y3e1c ff3 fs5 fc0 sc0 ls0 ws0">The clock synchronization mechanism can be used as a handshake in data transfers. A</div><div class="t m0 x9 hf y3e1d ff3 fs5 fc0 sc0 ls0 ws0">slave device may hold SCL low after completing a single byte transfer (9 bits). In this</div><div class="t m0 x9 hf y3e1e ff3 fs5 fc0 sc0 ls0 ws0">case, it halts the bus clock and forces the master clock into wait states until the slave</div><div class="t m0 x9 hf y3e1f ff3 fs5 fc0 sc0 ls0 ws0">releases SCL.</div><div class="t m0 x122 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 38 Inter-Integrated Circuit (I2C)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>705</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
