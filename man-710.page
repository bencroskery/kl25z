<div id="pf2c6" class="pf w0 h0" data-page-no="2c6"><div class="pc pc2c6 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg2c6.png"/><div class="t m0 x9 hf yf6 ff3 fs5 fc0 sc0 ls0 ws0">SDA float high) when it detects any single clock held low longer than T<span class="fs8 ws198 vc">TIMEOUT,MIN</span>.</div><div class="t m0 x9 hf yf7 ff3 fs5 fc0 sc0 ls0 ws0">Devices that have detected this condition must reset their communication and be able to</div><div class="t m0 x9 hf yf8 ff3 fs5 fc0 sc0 ls0 ws0">receive a new START condition within the timeframe of T<span class="fs8 ws198 vc">TIMEOUT,MAX</span>.</div><div class="t m0 x9 hf y505 ff3 fs5 fc0 sc0 ls0 ws0">SMBus defines a clock low timeout, T<span class="fs8 ws198 vc">TIMEOUT</span>, of 35 ms, specifies T<span class="fs8 ws198 vc">LOW:SEXT</span> as the</div><div class="t m0 x9 hf y629 ff3 fs5 fc0 sc0 ls0 ws0">cumulative clock low extend time for a slave device, and specifies T<span class="fs8 ws198 vc">LOW:MEXT</span> as the</div><div class="t m0 x9 hf y62a ff3 fs5 fc0 sc0 ls0 ws0">cumulative clock low extend time for a master device.</div><div class="t m0 x9 h8 y3e7b ff1 fs5 fc0 sc0 ls0 ws0">38.4.4.1.1<span class="_ _b"> </span>SCL low timeout</div><div class="t m0 x9 hf ybd7 ff3 fs5 fc0 sc0 ls0 ws0">If the SCL line is held low by a slave device on the bus, no further communication is</div><div class="t m0 x9 hf y1b98 ff3 fs5 fc0 sc0 ls0 ws0">possible. Furthermore, the master cannot force the SCL line high to correct the error</div><div class="t m0 x9 hf y14a7 ff3 fs5 fc0 sc0 ls0 ws0">condition. To solve this problem, the SMBus protocol specifies that devices participating</div><div class="t m0 x9 hf y14f8 ff3 fs5 fc0 sc0 ls0 ws0">in a transfer must detect any clock cycle held low longer than a timeout value condition.</div><div class="t m0 x9 hf y1b99 ff3 fs5 fc0 sc0 ls0 ws0">Devices that have detected the timeout condition must reset the communication. When</div><div class="t m0 x9 hf y1869 ff3 fs5 fc0 sc0 ls0 ws0">the I2C module is an active master, if it detects that SMBCLK low has exceeded the</div><div class="t m0 x9 hf y24db ff3 fs5 fc0 sc0 ls0 ws0">value of T<span class="fs8 ws198 vc">TIMEOUT,MIN</span>, it must generate a stop condition within or after the current data</div><div class="t m0 x9 hf y24dc ff3 fs5 fc0 sc0 ls0 ws0">byte in the transfer process. When the I2C module is a slave, if it detects the</div><div class="t m0 x9 hf y2855 ff3 fs5 fc0 sc0 lsfe">T<span class="fs8 ls0 ws198 vc">TIMEOUT,MIN</span><span class="ls0 ws0"> condition, it resets its communication and is then able to receive a new</span></div><div class="t m0 x9 hf y2856 ff3 fs5 fc0 sc0 ls0 ws0">START condition.</div><div class="t m0 x9 h8 y3e7c ff1 fs5 fc0 sc0 ls0 ws0">38.4.4.1.2<span class="_ _b"> </span>SCL high timeout</div><div class="t m0 x9 hf y3e7d ff3 fs5 fc0 sc0 ls0 ws0">When the I2C module has determined that the SMBCLK and SMBDAT signals have</div><div class="t m0 x9 hf y3e7e ff3 fs5 fc0 sc0 ls0 ws0">been high for at least T<span class="fs8 ws198 vc">HIGH:MAX</span>, it assumes that the bus is idle.</div><div class="t m0 x9 hf y3e7f ff3 fs5 fc0 sc0 ls0 ws0">A HIGH timeout occurs after a START condition appears on the bus but before a STOP</div><div class="t m0 x9 hf y3e80 ff3 fs5 fc0 sc0 ls0 ws0">condition appears on the bus. Any master detecting this scenario can assume the bus is</div><div class="t m0 x9 hf y3e81 ff3 fs5 fc0 sc0 ls0 ws0">free when either of the following occurs:</div><div class="t m0 x33 hf y3e82 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>SHTF1 rises.</div><div class="t m0 x33 hf y3e83 ff3 fs5 fc0 sc0 ls0 ws0">•<span class="_ _11"> </span>The BUSY bit is high and SHTF1 is high.</div><div class="t m0 x9 hf y2b1b ff3 fs5 fc0 sc0 ls0 ws0">When the SMBDAT signal is low and the SMBCLK signal is high for a period of time,</div><div class="t m0 x9 hf y2b1c ff3 fs5 fc0 sc0 ls0 ws0">another kind of timeout occurs. The time period must be defined in software. SHTF2 is</div><div class="t m0 x9 hf y2b1d ff3 fs5 fc0 sc0 ls0 ws0">used as the flag when the time limit is reached. This flag is also an interrupt resource, so</div><div class="t m0 x9 hf y3e84 ff3 fs5 fc0 sc0 ls0 ws0">it triggers IICIF.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">710<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
