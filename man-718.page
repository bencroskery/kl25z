<div id="pf2ce" class="pf w0 h0" data-page-no="2ce"><div class="pc pc2ce w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg2ce.png"/><div class="c x88 y3efe w7e h1c9"><div class="t m61 x49 h1ca y3eff ff2 fsc7 fc0 sc0 ls0 ws0">Clear IICIF</div><div class="t m61 xaf h1ca y3f00 ff2 fsc7 fc0 sc0 ls0">Master</div><div class="t m61 xaf h1ca y3f01 ff2 fsc7 fc0 sc0 ls0">mode?</div><div class="t m61 xfb h1cb y3f02 ff2 fsc7 fc0 sc0 ls0 ws4c1">Tx/Rx? <span class="v30">Arbitration</span></div><div class="t m61 x130 h1ca y3f03 ff2 fsc7 fc0 sc0 ls0">lost?</div><div class="t m61 x7d h1ca y3f04 ff2 fsc7 fc0 sc0 ls0">IIAAS=1?</div><div class="t m61 x80 h1ca y3f05 ff2 fsc7 fc0 sc0 ls0">Tx/Rx?</div><div class="t m61 x7d h1ca y3f06 ff2 fsc7 fc0 sc0 ls0 ws0">ACK from</div><div class="t m61 x15f h1ca y3f07 ff2 fsc7 fc0 sc0 ls0">receiver?</div><div class="t m61 xea h1ca y3f08 ff2 fsc7 fc0 sc0 ls0">SRW=1?</div><div class="t m61 xea h1ca y3f09 ff2 fsc7 fc0 sc0 ls0">IIAAS=1?</div><div class="t m61 x132 h1ca y3f0a ff2 fsc7 fc0 sc0 ls0 ws0">Clear ARBL</div><div class="t m61 x8d h1ca y3f0b ff2 fsc7 fc0 sc0 ls0 ws0">2nd to</div><div class="t m61 x5f h1ca y3f0c ff2 fsc7 fc0 sc0 ls0 ws0">last byte to be </div><div class="t m61 x8 h1ca y3f0d ff2 fsc7 fc0 sc0 ls0">read?</div><div class="t m61 x3c h1ca y3f0e ff2 fsc7 fc0 sc0 ls0 ws0">Last byte</div><div class="t m61 x13e h1ca y3f0f ff2 fsc7 fc0 sc0 ls0 ws0">to be read?</div><div class="t m61 x14b h1ca y3f10 ff2 fsc7 fc0 sc0 ls0">RXAK=0?</div><div class="t m61 x11d h1ca y3f11 ff2 fsc7 fc0 sc0 ls0 ws0">Last byte</div><div class="t m61 x149 h1ca y3f12 ff2 fsc7 fc0 sc0 ls0">transmitted?</div><div class="t m62 x142 h1cc y3f13 ff2 fsc8 fc0 sc0 ls0 ws0">End of</div><div class="t m62 x114 h1cc y3f14 ff2 fsc8 fc0 sc0 ls0 ws0">address cycle</div><div class="t m62 x11c h1cc y3f15 ff2 fsc8 fc0 sc0 ls0 ws0">(master Rx)?</div><div class="t m61 x14b h1ca y3f16 ff2 fsc7 fc0 sc0 ls0 ws0">Write next</div><div class="t m61 x11f h1cd y3f17 ff2 fsc7 fc0 sc0 ls0 ws0">byte to Data reg<span class="_ _164"> </span><span class="v4">Set TXACK<span class="_ _166"> </span><span class="v31">Generate stop</span></span></div><div class="t m61 xb4 h1ca y3f18 ff2 fsc7 fc0 sc0 ls0 ws0">signal (MST=0)</div><div class="t m61 xc9 h1ca y3f19 ff2 fsc7 fc0 sc0 ls0 ws0">Write data</div><div class="t m61 xd9 h1ca y3f1a ff2 fsc7 fc0 sc0 ls0 ws0">to Data reg</div><div class="t m61 x11 h1ca y3f1b ff2 fsc7 fc0 sc0 ls0 ws0">Set TX mode</div><div class="t m61 xee h1ca y3f19 ff2 fsc7 fc0 sc0 ls0">Transmit</div><div class="t m61 x110 h1ca y3f1a ff2 fsc7 fc0 sc0 ls0 ws0">next byte</div><div class="t m61 x72 h1ca y3f1c ff2 fsc7 fc0 sc0 ls0 ws0">Read data from</div><div class="t m61 x6e h1ca y3f1d ff2 fsc7 fc0 sc0 ls0 ws0">Data reg </div><div class="t m61 x133 h1ca y3f1e ff2 fsc7 fc0 sc0 ls0 ws0">and store</div><div class="t m61 xaf h1ca y3f1f ff2 fsc7 fc0 sc0 ls0">RTI</div><div class="t m61 x15f h1ca y3f20 ff2 fsc7 fc0 sc0 ls0 ws0">Switch to</div><div class="t m61 x15f h1ca y3f21 ff2 fsc7 fc0 sc0 ls0 ws0">Rx mode</div><div class="t m61 x87 h1ca y3f22 ff2 fsc7 fc0 sc0 ls0 ws0">Set Rx mode</div><div class="t m61 x85 h1ca y3f23 ff2 fsc7 fc0 sc0 ls0 ws0">Switch to</div><div class="t m61 x85 h1ca y3f24 ff2 fsc7 fc0 sc0 ls0 ws0">Rx mode</div><div class="t m61 x84 h1ca y3f25 ff2 fsc7 fc0 sc0 ls0 ws0">Dummy read</div><div class="t m61 xba h1ca y3f26 ff2 fsc7 fc0 sc0 ls0 ws0">from Data reg</div><div class="t m61 x34 h1ca y3f27 ff2 fsc7 fc0 sc0 ls0 ws0">Generate stop</div><div class="t m61 x4f h1ca y3f28 ff2 fsc7 fc0 sc0 ls0 ws0">signal (MST=0)</div><div class="t m61 x5 h1ca y3f29 ff2 fsc7 fc0 sc0 ls0 ws0">Read data from</div><div class="t m61 x2b h1ca y3f2a ff2 fsc7 fc0 sc0 ls0 ws0">Data reg </div><div class="t m61 x3c h1ca y3f2b ff2 fsc7 fc0 sc0 ls0 ws0">and store</div><div class="t m61 x87 h1ca y3f25 ff2 fsc7 fc0 sc0 ls0 ws0">Dummy read</div><div class="t m61 x144 h1ca y3f26 ff2 fsc7 fc0 sc0 ls0 ws0">from Data reg</div><div class="t m61 x8a h1ca y3f25 ff2 fsc7 fc0 sc0 ls0 ws0">Dummy read</div><div class="t m61 xf3 h1ca y3f26 ff2 fsc7 fc0 sc0 ls0 ws0">from Data reg</div><div class="t m61 x7c h1ca y3f2c ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x16 h1ca y3f2d ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 x16f h1ca y3f2e ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x161 h1ca y3f2f ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 xb h1ca y3f30 ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x4 h1ca y3f31 ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x94 h1ca y3f32 ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 xc7 h1ca y3f33 ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x2 h1ca y3f34 ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 x88 h1ca y3f35 ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 x19 h1ca y3f36 ff2 fsc7 fc0 sc0 ls2a0">Y<span class="ls0 v11">Y</span></div><div class="t m61 x7c h1ca y3f37 ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 x12a h1ca y3f38 ff2 fsc7 fc0 sc0 ls0">(read)</div><div class="t m61 x32 h1ca y3f39 ff2 fsc7 fc0 sc0 ls0 ws0">N (write)</div><div class="t m61 xc7 h1ca y3f3a ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x13d h1ca y3f3b ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 xd1 h1ca y3f3c ff2 fsc7 fc0 sc0 ls0 ws4c2">Rx<span class="_ _253"></span>Tx</div><div class="t m61 x6e h1ca y3f3d ff2 fsc7 fc0 sc0 ls0">Rx</div><div class="t m61 x137 h1ca y3f3e ff2 fsc7 fc0 sc0 ls0">Tx</div><div class="t m61 x15c h1ca y3f3f ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 x137 h1ca y3f40 ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 xe3 h1ca y3f41 ff2 fsc7 fc0 sc0 ls0 ws0">Address transfer</div><div class="t m61 xfe h1ca y3f42 ff2 fsc7 fc0 sc0 ls0 ws0">see note 1</div><div class="t m61 x70 h1ca y3f43 ff2 fsc7 fc0 sc0 ls0 ws0">Data transfer</div><div class="t m61 x104 h1ca y3f44 ff2 fsc7 fc0 sc0 ls0 ws0">see note 2</div><div class="t m61 x4 h1ca y3f45 ff2 fsc7 fc0 sc0 ls0">N</div><div class="t m61 x83 h1ca y3f46 ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 xec h1ca y3f47 ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m61 xde h1ca y3f48 ff2 fsc7 fc0 sc0 ls0">Y</div><div class="t m0 xa7 h9b y3f49 ff1 fs10 fc0 sc0 ls0">Notes:</div><div class="t m0 xa7 h2d y3f4a ff2 fs10 fc0 sc0 ls0 ws0">1. If general call is enabled, check to determine if the received address is a general call address (0x00).</div><div class="t m0 xa7 h2d y3f4b ff2 fs10 fc0 sc0 ls0 ws0">    If the received address is a general call address, the general call must be handled by user software.</div><div class="t m0 xa7 h2d y3f4c ff2 fs10 fc0 sc0 ls0 ws0">2. When 10-bit addressing addresses a slave, the slave sees an interrupt following the first byte of the extended address.</div><div class="t m0 xa7 h2d y3f4d ff2 fs10 fc0 sc0 ls0 ws0">    Ensure that for this interrupt, the contents of the Data register are ignored and not treated as a valid data transfer.</div></div><div class="t m0 xe8 h9 y3f4e ff1 fs2 fc0 sc0 ls0 ws0">Figure 38-42. Typical I2C interrupt routine</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Initialization/application information</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">718<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
