<div id="pf301" class="pf w0 h0" data-page-no="301"><div class="pc pc301 w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg301.png"/><div class="t m0 x9 he y1c7 ff1 fs1 fc0 sc0 ls0 ws0">40.3.6<span class="_ _b"> </span>Additional UART functions</div><div class="t m0 x9 hf y1c8 ff3 fs5 fc0 sc0 ls0 ws0">The following sections describe additional UART functions.</div><div class="t m0 x9 h1b y43dd ff1 fsc fc0 sc0 ls0 ws0">40.3.6.1<span class="_ _b"> </span>8- and 9-bit data modes</div><div class="t m0 x9 hf y43de ff3 fs5 fc0 sc0 ls0 ws0">The UART system, transmitter and receiver, can be configured to operate in 9-bit data</div><div class="t m0 x9 hf ya5d ff3 fs5 fc0 sc0 ls0 ws0">mode by setting the UART_C1[M]. In 9-bit mode, there is a ninth data bit to the left of</div><div class="t m0 x9 hf ya5e ff3 fs5 fc0 sc0 ls0 ws0">the msb of the UART data register. For the transmit data buffer, this bit is stored in T8 in</div><div class="t m0 x9 hf ya5f ff3 fs5 fc0 sc0 ls0 ws0">UART_C3. For the receiver, the ninth bit is held in UART_C3[R8].</div><div class="t m0 x9 hf ya60 ff3 fs5 fc0 sc0 ls0 ws0">For coherent writes to the transmit data buffer, write to the UART_C3[T8] bit before</div><div class="t m0 x9 hf y15b0 ff3 fs5 fc0 sc0 ls0 ws0">writing to UART_D.</div><div class="t m0 x9 hf y43df ff3 fs5 fc0 sc0 ls0 ws0">If the bit value to be transmitted as the ninth bit of a new character is the same as for the</div><div class="t m0 x9 hf y2c83 ff3 fs5 fc0 sc0 ls0 ws0">previous character, it is not necessary to write to UART_C3[T8] again. When data is</div><div class="t m0 x9 hf y15b3 ff3 fs5 fc0 sc0 ls0 ws0">transferred from the transmit data buffer to the transmit shifter, the value in</div><div class="t m0 x9 hf y15b4 ff3 fs5 fc0 sc0 ls0 ws0">UART_C3[T8] is copied at the same time data is transferred from UART_D to the</div><div class="t m0 x9 hf y15b5 ff3 fs5 fc0 sc0 ls0">shifter.</div><div class="t m0 x9 hf y2af4 ff3 fs5 fc0 sc0 ls0 ws0">The 9-bit data mode is typically used with parity to allow eight bits of data plus the parity</div><div class="t m0 x9 hf y2af5 ff3 fs5 fc0 sc0 ls0 ws0">in the ninth bit, or it is used with address-mark wakeup so the ninth data bit can serve as</div><div class="t m0 x9 hf y43e0 ff3 fs5 fc0 sc0 ls0 ws0">the wakeup bit. In custom protocols, the ninth bit can also serve as a software-controlled</div><div class="t m0 x9 hf y43e1 ff3 fs5 fc0 sc0 ls0">marker.</div><div class="t m0 x9 h1b y43e2 ff1 fsc fc0 sc0 ls0 ws0">40.3.6.2<span class="_ _b"> </span>Stop mode operation</div><div class="t m0 x9 hf y2af8 ff3 fs5 fc0 sc0 ls0 ws0">During all stop modes, clocks to the UART module are halted.</div><div class="t m0 x9 hf y15a4 ff3 fs5 fc0 sc0 ls0 ws0">No UART module registers are affected in stop3 mode.</div><div class="t m0 x9 hf y1da3 ff3 fs5 fc0 sc0 ls0 ws0">Because the clocks are halted, the UART module resumes operation upon exit from stop,</div><div class="t m0 x9 hf y43e3 ff3 fs5 fc0 sc0 ls0 ws0">only in stop and VLPS mode. Software must ensure stop mode is not entered while there</div><div class="t m0 x9 hf y43e4 ff3 fs5 fc0 sc0 ls0 ws0">is a character being transmitted out of or received into the UART module.</div><div class="t m0 x9 h1b y43e5 ff1 fsc fc0 sc0 ls0 ws0">40.3.6.3<span class="_ _b"> </span>Loop mode</div><div class="t m0 x9 hf y43cb ff3 fs5 fc0 sc0 ls0 ws0">When UART_C1[LOOPS] is set, the UART_C1[RSRC] bit in the same register chooses</div><div class="t m0 x9 hf y43cc ff3 fs5 fc0 sc0 ls0 ws0">between loop mode (UART_C1[RSRC] = 0) or single-wire mode (UART_C1[RSRC] =</div><div class="t m0 x9 hf y43e6 ff3 fs5 fc0 sc0 ls0 ws0">1). Loop mode is sometimes used to check software, independent of connections in the</div><div class="t m0 x21 h10 y141 ff1 fs4 fc0 sc0 ls0 ws0">Chapter 40 Universal Asynchronous Receiver/Transmitter (UART1 and UART2)</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">Freescale Semiconductor, Inc.<span class="_ _113"> </span>769</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
