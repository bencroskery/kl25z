<div id="pf31a" class="pf w0 h0" data-page-no="31a"><div class="pc pc31a w0 h0"><img class="bi x0 y8 w2 h5" alt="" src="bg31a.png"/><div class="t m0 x9 he y1c7 ff1 fs1 fc0 sc0 ls0 ws0">42.4.1<span class="_ _b"> </span>Capacitance measurement</div><div class="t m0 x9 hf y1c8 ff3 fs5 fc0 sc0 ls0 ws0">The electrode pin capacitance measurement uses a dual oscillator approach. The</div><div class="t m0 x9 hf y9de ff3 fs5 fc0 sc0 ls0 ws0">frequency of the TSI electrode oscillator depends on the external electrode capacitance</div><div class="t m0 x9 hf y9df ff3 fs5 fc0 sc0 ls0 ws0">and the TSI module configuration. After going to a configurable prescaler, the TSI</div><div class="t m0 x9 hf y15ad ff3 fs5 fc0 sc0 ls0 ws0">electrode oscillator signal goes to the input of the module counter. The time for the</div><div class="t m0 x9 hf y1be9 ff3 fs5 fc0 sc0 ls0 ws0">module counter to reach its module value is measured using the TSI reference oscillator.</div><div class="t m0 x9 hf y24c8 ff3 fs5 fc0 sc0 ls0 ws0">The measured electrode capacitance is directly proportional to the time.</div><div class="t m0 x9 h1b y4557 ff1 fsc fc0 sc0 ls0 ws0">42.4.1.1<span class="_ _b"> </span>TSI electrode oscillator</div><div class="t m0 x9 hf y4558 ff3 fs5 fc0 sc0 ls0 ws0">The TSI electrode oscillator circuit is illustrated in the following figure. A configurable</div><div class="t m0 x9 hf y24cb ff3 fs5 fc0 sc0 ls0 ws0">constant current source is used to charge and discharge the external electrode</div><div class="t m0 x9 hf y24cc ff3 fs5 fc0 sc0 ls0 ws0">capacitance. A buffer hysteresis defines the oscillator delta voltage. The delta voltage</div><div class="t m0 x9 hf y24cd ff3 fs5 fc0 sc0 ls0 ws0">defines the margin of high and low voltage which are the reference input of the</div><div class="t m0 x9 hf y24ce ff3 fs5 fc0 sc0 ls0 ws0">comparator in different time.</div><div class="t m0 xb6 h9 y4559 ff1 fs2 fc0 sc0 ls0 ws0">Figure 42-8. TSI electrode oscillator circuit</div><div class="t m0 x9 hf y455a ff3 fs5 fc0 sc0 ls0 ws0">The current source applied to the pad capacitance is controlled by the</div><div class="t m0 x9 hf y455b ff3 fs5 fc0 sc0 ls0 ws0">SCANC[EXTCHRG]. The hysteresis delta voltage is defined in the module electrical</div><div class="t m0 x9 hf y455c ff3 fs5 fc0 sc0 ls0 ws0">specifications present in the device Data Sheet. The figure below shows the voltage</div><div class="t m0 x9 hf y455d ff3 fs5 fc0 sc0 ls0 ws0">amplitude waveform of the electrode capacitance charging and discharging with a</div><div class="t m0 x9 hf y455e ff3 fs5 fc0 sc0 ls0 ws0">programmable current.</div><div class="t m0 x9 h10 ydd ff1 fs4 fc0 sc0 ls0 ws0">Functional description</div><div class="t m0 x8 h6 y9 ff1 fs3 fc0 sc0 ls0 ws0">KL25 Sub-Family Reference Manual, Rev. 3, September 2012</div><div class="t m0 x9 h7 ya ff2 fs4 fc0 sc0 ls0 ws0">794<span class="_ _113"> </span>Freescale Semiconductor, Inc.</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
